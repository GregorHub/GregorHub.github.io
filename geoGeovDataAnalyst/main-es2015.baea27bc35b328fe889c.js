(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},XypG:function(e,t){},zUnb:function(e,t,n){"use strict";n.r(t);var r={};function s(e){return"function"==typeof e}n.r(r),n.d(r,"audit",(function(){return Ev})),n.d(r,"auditTime",(function(){return Ov})),n.d(r,"buffer",(function(){return Yy})),n.d(r,"bufferCount",(function(){return tb})),n.d(r,"bufferTime",(function(){return ib})),n.d(r,"bufferToggle",(function(){return db})),n.d(r,"bufferWhen",(function(){return gb})),n.d(r,"catchError",(function(){return jl})),n.d(r,"combineAll",(function(){return vb})),n.d(r,"combineLatest",(function(){return Jw})),n.d(r,"concat",(function(){return Qw})),n.d(r,"concatAll",(function(){return vl})),n.d(r,"concatMap",(function(){return tu})),n.d(r,"concatMapTo",(function(){return _b})),n.d(r,"count",(function(){return wb})),n.d(r,"debounce",(function(){return Tb})),n.d(r,"debounceTime",(function(){return Ib})),n.d(r,"defaultIfEmpty",(function(){return Dl})),n.d(r,"delay",(function(){return Rb})),n.d(r,"delayWhen",(function(){return Ub})),n.d(r,"dematerialize",(function(){return Sb})),n.d(r,"distinct",(function(){return $b})),n.d(r,"distinctUntilChanged",(function(){return Gb})),n.d(r,"distinctUntilKeyChanged",(function(){return Jb})),n.d(r,"elementAt",(function(){return av})),n.d(r,"endWith",(function(){return Yw})),n.d(r,"every",(function(){return $l})),n.d(r,"exhaust",(function(){return Yb})),n.d(r,"exhaustMap",(function(){return tv})),n.d(r,"expand",(function(){return sv})),n.d(r,"filter",(function(){return _l})),n.d(r,"finalize",(function(){return ru})),n.d(r,"find",(function(){return uv})),n.d(r,"findIndex",(function(){return dv})),n.d(r,"first",(function(){return zl})),n.d(r,"groupBy",(function(){return pv})),n.d(r,"ignoreElements",(function(){return vv})),n.d(r,"isEmpty",(function(){return xv})),n.d(r,"last",(function(){return Vl})),n.d(r,"map",(function(){return q})),n.d(r,"mapTo",(function(){return Iv})),n.d(r,"materialize",(function(){return Dv})),n.d(r,"max",(function(){return Vv})),n.d(r,"merge",(function(){return Xw})),n.d(r,"mergeAll",(function(){return ee})),n.d(r,"mergeMap",(function(){return J})),n.d(r,"flatMap",(function(){return J})),n.d(r,"mergeMapTo",(function(){return Fv})),n.d(r,"mergeScan",(function(){return Lv})),n.d(r,"min",(function(){return zv})),n.d(r,"multicast",(function(){return le})),n.d(r,"observeOn",(function(){return $y})),n.d(r,"onErrorResumeNext",(function(){return $v})),n.d(r,"pairwise",(function(){return Gv})),n.d(r,"partition",(function(){return Qv})),n.d(r,"pluck",(function(){return Yv})),n.d(r,"publish",(function(){return Xv})),n.d(r,"publishBehavior",(function(){return e_})),n.d(r,"publishLast",(function(){return n_})),n.d(r,"publishReplay",(function(){return t_})),n.d(r,"race",(function(){return r_})),n.d(r,"reduce",(function(){return nu})),n.d(r,"repeat",(function(){return s_})),n.d(r,"repeatWhen",(function(){return a_})),n.d(r,"retry",(function(){return c_})),n.d(r,"retryWhen",(function(){return p_})),n.d(r,"refCount",(function(){return ne})),n.d(r,"sample",(function(){return m_})),n.d(r,"sampleTime",(function(){return v_})),n.d(r,"scan",(function(){return Yl})),n.d(r,"sequenceEqual",(function(){return C_})),n.d(r,"share",(function(){return he})),n.d(r,"shareReplay",(function(){return T_})),n.d(r,"single",(function(){return O_})),n.d(r,"skip",(function(){return N_})),n.d(r,"skipLast",(function(){return M_})),n.d(r,"skipUntil",(function(){return j_})),n.d(r,"skipWhile",(function(){return L_})),n.d(r,"startWith",(function(){return Ql})),n.d(r,"subscribeOn",(function(){return J_})),n.d(r,"switchAll",(function(){return Y_})),n.d(r,"switchMap",(function(){return Gl})),n.d(r,"switchMapTo",(function(){return ew})),n.d(r,"take",(function(){return Ll})),n.d(r,"takeLast",(function(){return El})),n.d(r,"takeUntil",(function(){return tw})),n.d(r,"takeWhile",(function(){return sw})),n.d(r,"tap",(function(){return Ol})),n.d(r,"throttle",(function(){return lw})),n.d(r,"throttleTime",(function(){return hw})),n.d(r,"throwIfEmpty",(function(){return Nl})),n.d(r,"timeInterval",(function(){return gw})),n.d(r,"timeout",(function(){return xw})),n.d(r,"timeoutWith",(function(){return vw})),n.d(r,"timestamp",(function(){return Cw})),n.d(r,"toArray",(function(){return kw})),n.d(r,"window",(function(){return Tw})),n.d(r,"windowCount",(function(){return Iw})),n.d(r,"windowTime",(function(){return Dw})),n.d(r,"windowToggle",(function(){return Lw})),n.d(r,"windowWhen",(function(){return zw})),n.d(r,"withLatestFrom",(function(){return Ww})),n.d(r,"zip",(function(){return ex})),n.d(r,"zipAll",(function(){return Zw}));let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function a(e){setTimeout(()=>{throw e})}const l={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete(){}},u=Array.isArray||(e=>e&&"number"==typeof e.length);function c(e){return null!==e&&"object"==typeof e}function h(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}h.prototype=Object.create(Error.prototype);const d=h;let p=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:i,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,l=r?r.length:0;for(;n;)n.remove(this),n=++a<l&&r[a]||null;if(s(i))try{i.call(this)}catch(h){t=!0,e=h instanceof d?f(h.errors):[h]}if(u(o))for(a=-1,l=o.length;++a<l;){const n=o[a];if(c(n))try{n.unsubscribe()}catch(h){t=!0,e=e||[],h instanceof d?e=e.concat(f(h.errors)):e.push(h)}}if(t)throw new d(e)}add(t){let n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){const e=this._subscriptions;e?e.push(n):this._subscriptions=[n]}return n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function f(e){return e.reduce((e,t)=>e.concat(t instanceof d?t.errors:t),[])}const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class m extends p{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=l;break;case 1:if(!e){this.destination=l;break}if("object"==typeof e){e instanceof m?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new y(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new y(this,e,t,n)}}[g](){return this}static create(e,t,n){const r=new m(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class y extends m{constructor(e,t,n,r){let i;super(),this._parentSubscriber=e;let o=this;s(t)?i=t:t&&(i=t.next,n=t.error,r=t.complete,t!==l&&(o=Object.create(t),s(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=i,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}__tryOrSetError(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(a(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}function b(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof m?n:null}return!0}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(){}function w(...e){return x(e)}function x(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:_}let C=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:r}=this,s=function(e,t,n){if(e){if(e instanceof m)return e;if(e[g])return e[g]()}return e||t||n?new m(e,t,n):new m(l)}(e,t,n);if(s.add(r?r.call(s,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),o.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),b(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=S(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(s){n(s),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[v](){return this}pipe(...e){return 0===e.length?this:x(e)(this)}toPromise(e){return new(e=S(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function S(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}E.prototype=Object.create(Error.prototype);const k=E;class T extends p{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class O extends m{constructor(e){super(e),this.destination=e}}let A=(()=>{class e extends C{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[g](){return new O(this)}lift(e){const t=new I(this,this);return t.operator=e,t}next(e){if(this.closed)throw new k;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].next(e)}}error(e){if(this.closed)throw new k;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new k;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new k;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new k;return this.hasError?(e.error(this.thrownError),p.EMPTY):this.isStopped?(e.complete(),p.EMPTY):(this.observers.push(e),new T(this,e))}asObservable(){const e=new C;return e.source=this,e}}return e.create=(e,t)=>new I(e,t),e})();class I extends A{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):p.EMPTY}}function N(e){return e&&"function"==typeof e.schedule}class P extends m{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const D=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},M=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,a),t);function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const V=R(),j=e=>t=>{const n=e[V]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},F=e=>t=>{const n=e[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},U=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function B(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const H=e=>{if(e instanceof C)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[v])return F(e);if(U(e))return D(e);if(B(e))return M(e);if(e&&"function"==typeof e[V])return j(e);{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function z(e,t,n,r,s=new P(e,n,r)){if(!s.closed)return H(t)(s)}class $ extends m{notifyNext(e,t,n,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function q(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new W(e,t))}}class W{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new G(e,this.project,this.thisArg))}}class G extends m{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function K(e,t){return new C(t?n=>{const r=new p;let s=0;return r.add(t.schedule((function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:D(e))}function Z(e,t){if(!t)return e instanceof C?e:new C(H(e));if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new C(t?n=>{const r=new p;return r.add(t.schedule(()=>{const s=e[v]();r.add(s.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r}:F(e))}(e,t);if(B(e))return function(e,t){return new C(t?n=>{const r=new p;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r}:M(e))}(e,t);if(U(e))return K(e,t);if(function(e){return e&&"function"==typeof e[V]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new C(t?n=>{const r=new p;let s;return r.add(()=>{s&&"function"==typeof s.return&&s.return()}),r.add(t.schedule(()=>{s=e[V](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=s.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r}:j(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function J(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(J((n,r)=>Z(e(n,r)).pipe(q((e,s)=>t(n,e,r,s))),n)):("number"==typeof t&&(n=t),t=>t.lift(new Q(e,n)))}class Q{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Y(e,this.project,this.concurrent))}}class Y extends ${constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new P(this,void 0,void 0);this.destination.add(r),z(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function X(e){return e}function ee(e=Number.POSITIVE_INFINITY){return J(X,e)}function te(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return N(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof C?e[0]:ee(t)(K(e,n))}function ne(){return function(e){return e.lift(new re(e))}}class re{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new se(e,n),s=t.subscribe(r);return r.closed||(r.connection=n.connect()),s}}class se extends m{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const ie=class extends C{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new p,e.add(this.source.subscribe(new ae(this.getSubject(),this))),e.closed?(this._connection=null,e=p.EMPTY):this._connection=e),e}refCount(){return ne()(this)}}.prototype,oe={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ie._subscribe},_isComplete:{value:ie._isComplete,writable:!0},getSubject:{value:ie.getSubject},connect:{value:ie.connect},refCount:{value:ie.refCount}};class ae extends O{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function le(e,t){return function(n){let r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new ue(r,t));const s=Object.create(n,oe);return s.source=n,s.subjectFactory=r,s}}class ue{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,r=this.subjectFactory(),s=n(r).subscribe(e);return s.add(t.subscribe(r)),s}}function ce(){return new A}function he(){return e=>ne()(le(ce)(e))}function de(e,t,n){const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function s(...e){if(this instanceof s)return r.apply(this,e),this;const t=new s(...e);return n.annotation=t,n;function n(e,n,r){const s=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;s.length<=r;)s.push(null);return(s[r]=s[r]||[]).push(t),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}const pe=de("Inject",e=>({token:e})),fe=de("Optional"),ge=de("Self"),me=de("SkipSelf");var ye=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function be(e){for(let t in e)if(e[t]===be)return t;throw Error("Could not find renamed property on target object.")}function ve(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _e(e){const t=e[we];return t&&t.token===e?t:null}const we=be({ngInjectableDef:be});function xe(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(xe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const Ce=be({__forward_ref__:be});function Se(e){return e.__forward_ref__=Se,e.toString=function(){return xe(this())},e}function Ee(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(Ce)&&t.__forward_ref__===Se?t():e}const ke="undefined"!=typeof globalThis&&globalThis,Te="undefined"!=typeof window&&window,Oe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ae="undefined"!=typeof global&&global,Ie=ke||Ae||Te||Oe;class Ne{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=ve({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Pe=new Ne("INJECTOR",-1),De=new Object,Me=/\n/gm,Re=be({provide:String,useValue:be});let Ve=void 0;function je(e){const t=Ve;return Ve=e,t}function Fe(e,t=ye.Default){return function(e,t=ye.Default){if(void 0===Ve)throw new Error("inject() must be called from an injection context");return null===Ve?function(e,t,n){const r=_e(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ye.Optional)return null;throw new Error(`Injector: NOT_FOUND [${xe(e)}]`)}(e,0,t):Ve.get(e,t&ye.Optional?null:void 0,t)}(e,t)}class Ue{get(e,t=De){if(t===De){const t=new Error(`NullInjectorError: No provider for ${xe(e)}!`);throw t.name="NullInjectorError",t}return t}}function Le(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=xe(t);if(t instanceof Array)s=t.map(xe).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):xe(r)))}s=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(Me,"\n  ")}`}class Be{}class He{}function ze(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function $e(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const qe=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),We=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ie))();function Ge(e){return e.ngDebugContext}function Ke(e){return e.ngOriginalError}function Ze(e,...t){e.error(...t)}class Je{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Ze}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Ge(e)?Ge(e):this._findContext(Ke(e)):null}_findOriginalError(e){let t=Ke(e);for(;t&&Ke(t);)t=Ke(t);return t}}let Qe=!0,Ye=!1;function Xe(){return Ye=!0,Qe}class et{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const tt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,nt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rt(e){return(e=String(e)).match(tt)||e.match(nt)?e:(Xe()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function st(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function it(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const ot=st("area,br,col,hr,img,wbr"),at=st("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lt=st("rp,rt"),ut=it(lt,at),ct=it(ot,it(at,st("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),it(lt,st("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ut),ht=st("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dt=st("srcset"),pt=it(ht,dt,st("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),st("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ft=st("script,style,template");class gt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ct.hasOwnProperty(t))return this.sanitizedSomething=!0,!ft.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let s=0;s<n.length;s++){const e=n.item(s),t=e.name,i=t.toLowerCase();if(!pt.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=e.value;ht[i]&&(o=rt(o)),dt[i]&&(r=o,o=(r=String(r)).split(",").map(e=>rt(e.trim())).join(", ")),this.buf.push(" ",t,'="',bt(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ct.hasOwnProperty(t)&&!ot.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(bt(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const mt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yt=/([^\#-~ |!])/g;function bt(e){return e.replace(/&/g,"&amp;").replace(mt,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(yt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vt;function _t(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const wt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class xt{}const Ct=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),St=/^url\(([^)]+)\)$/,Et=/([A-Z])/g;function kt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let Tt=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ot(),e})();const Ot=(...e)=>{},At=new Ne("The presence of this token marks an injector as being the root injector."),It=function(e,t,n){return new Vt(e,t,n)};let Nt=(()=>{class e{static create(e,t){return Array.isArray(e)?It(e,t,""):It(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=De,e.NULL=new Ue,e.ngInjectableDef=ve({token:e,providedIn:"any",factory:()=>Fe(Pe)}),e.__NG_ELEMENT_ID__=-1,e})();const Pt=function(e){return e},Dt=[],Mt=Pt,Rt=function(){return Array.prototype.slice.call(arguments)};class Vt{constructor(e,t=Nt.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(Nt,{token:Nt,fn:Pt,deps:Dt,value:this,useNew:!1}),r.set(Pe,{token:Pe,fn:Pt,deps:Dt,value:this,useNew:!1}),function e(t,n){if(n)if((n=Ee(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Ft("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ft("Unexpected provider",n);{let e=Ee(n.provide);const r=function(e){const t=function(e){let t=Dt;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,s=Ee(n[e]);if(s instanceof Array)for(let e=0,t=s;e<t.length;e++){const n=t[e];n instanceof fe||n==fe?r|=1:n instanceof me||n==me?r&=-3:n instanceof ge||n==ge?r&=-5:s=n instanceof pe?n.token:Ee(n)}t.push({token:s,options:r})}}else if(e.useExisting)t=[{token:Ee(e.useExisting),options:6}];else if(!(n||Re in e))throw Ft("'deps' required",e);return t}(e);let n=Pt,r=Dt,s=!1,i=Ee(e.provide);if(Re in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)s=!0,n=Ee(e.useClass);else{if("function"!=typeof i)throw Ft("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);s=!0,n=i}return{deps:t,fn:n,useNew:s,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==Rt)throw jt(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:Rt,value:Dt});e=n,r.deps.push({token:e,options:6})}const s=t.get(e);if(s&&s.fn==Rt)throw jt(e);t.set(e,r)}}}(r,e)}get(e,t,n=ye.Default){const r=this._records.get(e);try{return function e(t,n,r,s,i,o){try{return function(t,n,r,s,i,o){let a;if(!n||o&ye.SkipSelf)o&ye.Self||(a=s.get(t,i,ye.Default));else{if(a=n.value,a==Mt)throw Error("\u0275Circular dependency");if(a===Dt){n.value=Mt;let t=void 0,i=n.useNew,o=n.fn,l=n.deps,u=Dt;if(l.length){u=[];for(let t=0;t<l.length;t++){const n=l[t],i=n.options,o=2&i?r.get(n.token):void 0;u.push(e(n.token,o,r,o||4&i?s:Nt.NULL,1&i?null:Nt.THROW_IF_NOT_FOUND,ye.Default))}}n.value=a=i?new o(...u):o.apply(t,u)}}return a}(t,n,r,s,i,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(t),n&&n.value==Mt&&(n.value=Dt),a}}(e,r,this._records,this.parent,t,n)}catch(s){return function(e,t,n,r){const s=e.ngTempTokenPath;throw t.__source&&s.unshift(t.__source),e.message=Le("\n"+e.message,s,"StaticInjectorError",r),e.ngTokenPath=s,e.ngTempTokenPath=null,e}(s,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(xe(n))),`StaticInjector[${e.join(", ")}]`}}function jt(e){return Ft("Cannot mix multi providers and regular providers",e)}function Ft(e,t){return new Error(Le(e,t,"StaticInjectorError"))}const Ut=new Ne("AnalyzeForEntryComponents");let Lt=null;function Bt(){if(!Lt){const e=Ie.Symbol;if(e&&e.iterator)Lt=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Lt=n)}}}return Lt}function Ht(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function zt(e,t){const n=qt(e),r=qt(t);if(n&&r)return function(e,t,n){const r=e[Bt()](),s=t[Bt()]();for(;;){const e=r.next(),t=s.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,zt);{const s=e&&("object"==typeof e||"function"==typeof e),i=t&&("object"==typeof t||"function"==typeof t);return!(n||!s||r||!i)||Ht(e,t)}}class $t{constructor(e){this.wrapped=e}static wrap(e){return new $t(e)}static unwrap(e){return $t.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof $t}}function qt(e){return!!Wt(e)&&(Array.isArray(e)||!(e instanceof Map)&&Bt()in e)}function Wt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Gt(e){return!!e&&"function"==typeof e.then}function Kt(e){return!!e&&"function"==typeof e.subscribe}class Zt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class Jt{}function Qt(e){const t=Error(`No component factory found for ${xe(e)}. Did you add it to @NgModule.entryComponents?`);return t[Yt]=e,t}const Yt="ngComponent";class Xt{resolveComponentFactory(e){throw Qt(e)}}let en=(()=>{class e{}return e.NULL=new Xt,e})();class tn{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Qt(e);return new nn(t,this._ngModule)}}class nn extends Jt{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function rn(...e){}let sn=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>on(e),e})();const on=rn;class an{}class ln{}const un=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let cn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>hn(),e})();const hn=rn;class dn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pn=new dn("8.2.14");class fn{constructor(){}supports(e){return qt(e)}create(e){return new mn(e)}}const gn=(e,t)=>t;class mn{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gn}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const i=!n||t&&t.currentIndex<_n(n,r,s)?t:n,o=_n(i,r,s),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{s||(s=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<s.length?s[n]:s[n]=0,i=r+n;t<=i&&i<e&&(s[n]=r+1)}s[i.previousIndex]=t-e}}o!==a&&e(i,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!qt(e))throw new Error(`Error trying to diff '${xe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,s=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==s&&Ht(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,n,r,t)),Ht(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,r,t),i=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Bt()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==s&&Ht(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,e,r,t)),Ht(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,r,t),i=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ht(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ht(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):e=this._addAfter(new yn(t,n),s,r),e}_verifyReinsertion(e,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new vn),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yn{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bn{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Ht(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class vn{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new bn,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _n(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class wn{constructor(){}supports(e){return e instanceof Map||Wt(e)}create(){return new xn}}class xn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Wt(e)))throw new Error(`Error trying to diff '${xe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,s=n._next;return r&&(r._next=s),s&&(s._prev=r),n._next=null,n._prev=null,n}const n=new Cn(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Ht(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Cn{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Sn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new me,new fe]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=ve({token:e,providedIn:"root",factory:()=>new e([new fn])}),e})(),En=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new me,new fe]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=ve({token:e,providedIn:"root",factory:()=>new e([new wn])}),e})();const kn=[new wn],Tn=new Sn([new fn]),On=new En(kn);let An=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>In(e,sn),e})();const In=rn;let Nn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Pn(e,sn),e})();const Pn=rn;function Dn(e,t,n,r){let s=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(s+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Mn(n,t),n}(s,e)}function Mn(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Rn(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function Vn(e,t,n){const r=e.state,s=1792&r;return s===t?(e.state=-1793&r|n,e.initIndex=-1,!0):s===n}function jn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Fn(e,t){return e.nodes[t]}function Un(e,t){return e.nodes[t]}function Ln(e,t){return e.nodes[t]}function Bn(e,t){return e.nodes[t]}function Hn(e,t){return e.nodes[t]}const zn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},$n=()=>{},qn=new Map;function Wn(e){let t=qn.get(e);return t||(t=xe(e)+"_"+qn.size,qn.set(e,t)),t}function Gn(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let Kn=0;function Zn(e,t,n,r){return!(!(2&e.state)&&Ht(e.oldValues[t.bindingIndex+n],r))}function Jn(e,t,n,r){return!!Zn(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function Qn(e,t,n,r){const s=e.oldValues[t.bindingIndex+n];if(1&e.state||!zt(s,r)){const i=t.bindings[n].name;throw Dn(zn.createDebugContext(e,t.nodeIndex),`${i}: ${s}`,`${i}: ${r}`,0!=(1&e.state))}}function Yn(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Xn(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function er(e,t,n,r){try{return Yn(33554432&e.def.nodes[t].flags?Un(e,t).componentView:e),zn.handleEvent(e,t,n,r)}catch(s){e.root.errorHandler.handleError(s)}}function tr(e){return e.parent?Un(e.parent,e.parentNodeDef.nodeIndex):null}function nr(e){return e.parent?e.parentNodeDef.parent:null}function rr(e,t){switch(201347067&t.flags){case 1:return Un(e,t.nodeIndex).renderElement;case 2:return Fn(e,t.nodeIndex).renderText}}function sr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function ir(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function or(e){const t={};let n=0;const r={};return e&&e.forEach(([e,s])=>{"number"==typeof e?(t[e]=s,n|=function(e){return 1<<e%32}(e)):r[e]=s}),{matchedQueries:t,references:r,matchedQueryIds:n}}function ar(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,"__source",{value:t,configurable:!0}),{flags:r,token:n,tokenKey:Wn(n)}})}function lr(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===qe.Native?Un(e,n.renderParent.nodeIndex).renderElement:void 0:t}const ur=new WeakMap;function cr(e){let t=ur.get(e);return t||(t=e(()=>$n),t.factory=e,ur.set(e,t)),t}function hr(e,t,n,r,s){3===t&&(n=e.renderer.parentNode(rr(e,e.def.lastRenderRootNode))),dr(e,t,0,e.def.nodes.length-1,n,r,s)}function dr(e,t,n,r,s,i,o){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&fr(e,n,t,s,i,o),a+=n.childCount}}function pr(e,t,n,r,s,i){let o=e;for(;o&&!sr(o);)o=o.parent;const a=o.parent,l=nr(o),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const e=a.def.nodes[c];e.ngContentIndex===t&&fr(a,e,n,r,s,i),c+=e.childCount}if(!a.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)gr(e,o[t],n,r,s,i)}}function fr(e,t,n,r,s,i){if(8&t.flags)pr(e,t.ngContent.index,n,r,s,i);else{const o=rr(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&gr(e,o,n,r,s,i),32&t.bindingFlags&&gr(Un(e,t.nodeIndex).componentView,o,n,r,s,i)):gr(e,o,n,r,s,i),16777216&t.flags){const o=Un(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)hr(o[e],n,r,s,i)}1&t.flags&&!t.element.name&&dr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,s,i)}}function gr(e,t,n,r,s,i){const o=e.renderer;switch(n){case 1:o.appendChild(r,t);break;case 2:o.insertBefore(r,t,s);break;case 3:o.removeChild(r,t);break;case 0:i.push(t)}}const mr=/^:([^:]+):(.+)$/;function yr(e){if(":"===e[0]){const t=e.match(mr);return[t[1],t[2]]}return["",e]}function br(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function vr(e,t,n,r,s,i,o,a,l,u,c,h,d,p,f,g,m,y,b,v){switch(e){case 1:return t+_r(n)+r;case 2:return t+_r(n)+r+_r(s)+i;case 3:return t+_r(n)+r+_r(s)+i+_r(o)+a;case 4:return t+_r(n)+r+_r(s)+i+_r(o)+a+_r(l)+u;case 5:return t+_r(n)+r+_r(s)+i+_r(o)+a+_r(l)+u+_r(c)+h;case 6:return t+_r(n)+r+_r(s)+i+_r(o)+a+_r(l)+u+_r(c)+h+_r(d)+p;case 7:return t+_r(n)+r+_r(s)+i+_r(o)+a+_r(l)+u+_r(c)+h+_r(d)+p+_r(f)+g;case 8:return t+_r(n)+r+_r(s)+i+_r(o)+a+_r(l)+u+_r(c)+h+_r(d)+p+_r(f)+g+_r(m)+y;case 9:return t+_r(n)+r+_r(s)+i+_r(o)+a+_r(l)+u+_r(c)+h+_r(d)+p+_r(f)+g+_r(m)+y+_r(b)+v;default:throw new Error("Does not support more than 9 expressions")}}function _r(e){return null!=e?e.toString():""}const wr=new Object,xr=Wn(Nt),Cr=Wn(Pe),Sr=Wn(Be);function Er(e,t,n,r){return n=Ee(n),{index:-1,deps:ar(r,xe(t)),flags:e,token:t,value:n}}function kr(e,t,n=Nt.THROW_IF_NOT_FOUND){const r=je(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const o=t.tokenKey;switch(o){case xr:case Cr:case Sr:return e}const a=e._def.providersByKey[o];let l;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=Tr(e,a)),t===wr?void 0:t}if((l=_e(t.token))&&(s=e,null!=(i=l).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(s,i.providedIn)||"root"===i.providedIn&&s._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:t.token},e._providers[n]=wr,e._providers[n]=Tr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{je(r)}var s,i}function Tr(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(kr(e,n[0]));case 2:return new t(kr(e,n[0]),kr(e,n[1]));case 3:return new t(kr(e,n[0]),kr(e,n[1]),kr(e,n[2]));default:const s=new Array(r);for(let t=0;t<r;t++)s[t]=kr(e,n[t]);return new t(...s)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(kr(e,n[0]));case 2:return t(kr(e,n[0]),kr(e,n[1]));case 3:return t(kr(e,n[0]),kr(e,n[1]),kr(e,n[2]));default:const s=Array(r);for(let t=0;t<r;t++)s[t]=kr(e,n[t]);return t(...s)}}(e,t.value,t.deps);break;case 2048:n=kr(e,t.deps[0]);break;case 256:n=t.value}return n===wr||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?wr:n}function Or(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,$e(n,t),zn.dirtyParentQueries(r),Ir(r),r}function Ar(e,t,n){const r=t?rr(t,t.def.lastRenderRootNode):e.renderElement,s=n.renderer.parentNode(r),i=n.renderer.nextSibling(r);hr(n,2,s,i,void 0)}function Ir(e){hr(e,3,null,null,void 0)}const Nr=new Object;function Pr(e,t,n,r,s,i){return new Dr(e,t,n,r,s,i)}class Dr extends Jt{constructor(e,t,n,r,s,i){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=s,this.ngContentSelectors=i,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const s=cr(this.viewDefFactory),i=s.nodes[0].element.componentProvider.nodeIndex,o=zn.createRootView(e,t||[],n,s,r,Nr),a=Ln(o,i).instance;return n&&o.renderer.setAttribute(Un(o,0).renderElement,"ng-version",pn.full),new Mr(o,new Fr(o),a)}}class Mr extends class{}{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new sn(Un(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Hr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Rr(e,t,n){return new Vr(e,t,n)}class Vr{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new sn(this._data.renderElement)}get injector(){return new Hr(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=nr(e),e=e.parent;return e?new Hr(e,t):new Hr(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Or(this._data,e);zn.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Fr(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,s){const i=n||this.parentInjector;s||e instanceof nn||(s=i.get(Be));const o=e.create(i,r,void 0,s);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let s=t.viewContainer._embeddedViews;null==n&&(n=s.length),r.viewContainerParent=e,ze(s,n,r),function(e,t){const n=tr(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),zn.dirtyParentQueries(r),Ar(t,n>0?s[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,s=r[t];$e(r,t),null==n&&(n=r.length),ze(r,n,s),zn.dirtyParentQueries(s),Ir(s),Ar(e,n>0?r[n-1]:null,s)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Or(this._data,e);t&&zn.destroyView(t)}detach(e){const t=Or(this._data,e);return t?new Fr(t):null}}function jr(e){return new Fr(e)}class Fr{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return hr(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Yn(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{zn.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){zn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),zn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Ir(this._view),zn.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Ur(e,t){return new Lr(e,t)}class Lr extends An{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Fr(zn.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new sn(Un(this._parentView,this._def.nodeIndex).renderElement)}}function Br(e,t){return new Hr(e,t)}class Hr{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Nt.THROW_IF_NOT_FOUND){return zn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Wn(e)},t)}}function zr(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=Un(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return Fn(e,n.nodeIndex).renderText;if(20240&n.flags)return Ln(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function $r(e){return new qr(e.renderer)}class qr{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=yr(t),s=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,s),s}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let s=0;s<t.length;s++)this.delegate.insertBefore(n,t[s],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,s]=yr(t);null!=n?this.delegate.setAttribute(e,s,n,r):this.delegate.removeAttribute(e,s,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Wr(e,t,n,r){return new Gr(e,t,n,r)}class Gr{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const s=t.providers[r];4096&s.flags||void 0===n[r]&&(n[r]=Tr(e,s))}}(this)}get(e,t=Nt.THROW_IF_NOT_FOUND,n=ye.Default){let r=0;return n&ye.SkipSelf?r|=1:n&ye.Self&&(r|=4),kr(this,{token:e,tokenKey:Wn(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(en)}destroy(){if(this._destroyed)throw new Error(`The ng module ${xe(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let s=0;s<n.providers.length;s++)if(131072&n.providers[s].flags){const t=e._providers[s];if(t&&t!==wr){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Kr=Wn(an),Zr=Wn(cn),Jr=Wn(sn),Qr=Wn(Nn),Yr=Wn(An),Xr=Wn(Tt),es=Wn(Nt),ts=Wn(Pe);function ns(e,t,n,r,s,i,o,a){const l=[];if(o)for(let c in o){const[e,t]=o[c];l[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return ss(e,t|=16384,n,r,s,s,i,l,u)}function rs(e,t,n,r,s){return ss(-1,e,t,0,n,r,s)}function ss(e,t,n,r,s,i,o,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=or(n);l||(l=[]),a||(a=[]),i=Ee(i);const d=ar(o,xe(s));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:br(a),outputs:l,element:null,provider:{token:s,value:i,deps:d},text:null,query:null,ngContent:null}}function is(e,t){return us(e,t)}function os(e,t){let n=e;for(;n.parent&&!sr(n);)n=n.parent;return cs(n.parent,nr(n),!0,t.provider.value,t.provider.deps)}function as(e,t){const n=cs(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const s=t.outputs[r],i=n[s.propName];if(!Kt(i))throw new Error(`@Output ${s.propName} not initialized in '${n.constructor.name}'.`);{const n=i.subscribe(ls(e,t.parent.nodeIndex,s.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function ls(e,t,n){return r=>er(e,t,n,r)}function us(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return cs(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,s){const i=s.length;switch(i){case 0:return r();case 1:return r(ds(e,t,n,s[0]));case 2:return r(ds(e,t,n,s[0]),ds(e,t,n,s[1]));case 3:return r(ds(e,t,n,s[0]),ds(e,t,n,s[1]),ds(e,t,n,s[2]));default:const o=Array(i);for(let r=0;r<i;r++)o[r]=ds(e,t,n,s[r]);return r(...o)}}(e,t.parent,n,r.value,r.deps);case 2048:return ds(e,t.parent,n,r.deps[0]);case 256:return r.value}}function cs(e,t,n,r,s){const i=s.length;switch(i){case 0:return new r;case 1:return new r(ds(e,t,n,s[0]));case 2:return new r(ds(e,t,n,s[0]),ds(e,t,n,s[1]));case 3:return new r(ds(e,t,n,s[0]),ds(e,t,n,s[1]),ds(e,t,n,s[2]));default:const o=new Array(i);for(let r=0;r<i;r++)o[r]=ds(e,t,n,s[r]);return new r(...o)}}const hs={};function ds(e,t,n,r,s=Nt.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const i=e;2&r.flags&&(s=null);const o=r.tokenKey;o===Xr&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(o){case Kr:return $r(ps(a,t,n));case Zr:return ps(a,t,n).renderer;case Jr:return new sn(Un(a,t.nodeIndex).renderElement);case Qr:return Un(a,t.nodeIndex).viewContainer;case Yr:if(t.element.template)return Un(a,t.nodeIndex).template;break;case Xr:return jr(ps(a,t,n));case es:case ts:return Br(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[o];if(e){let t=Ln(a,e.nodeIndex);return t||(t={instance:us(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=sr(a),t=nr(a),a=a.parent,4&r.flags&&(a=null)}const l=i.root.injector.get(r.token,hs);return l!==hs||s===hs?l:i.root.ngModule.injector.get(r.token,s)}function ps(e,t,n){let r;if(n)r=Un(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!sr(r);)r=r.parent;return r}function fs(e,t,n,r,s,i){if(32768&n.flags){const t=Un(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=s,524288&n.flags){i=i||{};const t=$t.unwrap(e.oldValues[n.bindingIndex+r]);i[n.bindings[r].nonMinifiedName]=new Zt(t,s,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=s,i}function gs(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let s=0;s<n.length;s++){const i=n[s];let o=i.parent;for(!o&&i.flags&t&&ys(e,s,i.flags&t,r++),0==(i.childFlags&t)&&(s+=i.childCount);o&&1&o.flags&&s===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(r=ms(e,o,t,r)),o=o.parent}}function ms(e,t,n,r){for(let s=t.nodeIndex+1;s<=t.nodeIndex+t.childCount;s++){const t=e.def.nodes[s];t.flags&n&&ys(e,s,t.flags&n,r++),s+=t.childCount}return r}function ys(e,t,n,r){const s=Ln(e,t);if(!s)return;const i=s.instance;i&&(zn.setCurrentNode(e,t),1048576&n&&jn(e,512,r)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&jn(e,768,r)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}const bs=new Ne("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>We}),vs={},_s=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),ws=void 0;var xs=["en",[["a","p"],["AM","PM"],ws],[["AM","PM"],ws,ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ws,"{1} 'at' {0}",ws],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function Cs(e){const t=e.toLowerCase().replace(/_/g,"-");let n=vs[t];if(n)return n;const r=t.split("-")[0];if(n=vs[r],n)return n;if("en"===r)return xs;throw new Error(`Missing locale data for the locale "${e}".`)}class Ss extends A{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,s=e=>null,i=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(s=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(i=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(i=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,s,i);return e instanceof p&&e.add(o),o}}function Es(){return this._results[Bt()]()}class ks{constructor(){this.dirty=!0,this._results=[],this.changes=new Ss,this.length=0;const e=Bt(),t=ks.prototype;t[e]||(t[e]=Es)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let s=t[r];Array.isArray(s)?(n===t&&(n=t.slice(0,r)),e(s,n)):n!==t&&n.push(s)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Ts=new Ne("Application Initializer");class Os{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Gt(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const As=new Ne("AppId");function Is(){return`${Ns()}${Ns()}${Ns()}`}function Ns(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ps=new Ne("Platform Initializer"),Ds=new Ne("Platform ID"),Ms=new Ne("appBootstrapListener");class Rs{log(e){console.log(e)}warn(e){console.warn(e)}}const Vs=new Ne("LocaleId");function js(){throw new Error("Runtime compiler is not loaded")}const Fs=js,Us=js,Ls=js,Bs=js;class Hs{constructor(){this.compileModuleSync=Fs,this.compileModuleAsync=Us,this.compileModuleAndAllComponentsSync=Ls,this.compileModuleAndAllComponentsAsync=Bs}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class zs{}let $s,qs;function Ws(){const e=Ie.wtf;return!(!e||($s=e.trace,!$s)||(qs=$s.events,0))}const Gs=Ws();function Ks(e,t){return null}const Zs=Gs?function(e,t=null){return qs.createScope(e,t)}:(e,t)=>Ks,Js=Gs?function(e,t){return $s.leaveScope(e,t),t}:(e,t)=>t,Qs=(()=>Promise.resolve(0))();function Ys(e){"undefined"==typeof Zone?Qs.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Xs{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ss(!1),this.onMicrotaskEmpty=new Ss(!1),this.onStable=new Ss(!1),this.onError=new Ss(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,s,i,o)=>{try{return ri(t),e.invokeTask(r,s,i,o)}finally{si(t)}},onInvoke:(e,n,r,s,i,o,a)=>{try{return ri(t),e.invoke(r,s,i,o,a)}finally{si(t)}},onHasTask:(e,n,r,s)=>{e.hasTask(r,s),n===r&&("microTask"==s.change?(t.hasPendingMicrotasks=s.microTask,ni(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,n,r,s)=>(e.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+r,e,ti,ei,ei);try{return s.runTask(i,t,n)}finally{s.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function ei(){}const ti={};function ni(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ri(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function si(e){e._nesting--,ni(e)}class ii{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ss,this.onMicrotaskEmpty=new Ss,this.onStable=new Ss,this.onError=new Ss}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class oi{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xs.assertNotInAngularZone(),Ys(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ys(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class ai{constructor(){this._applications=new Map,ci.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return ci.findTestabilityInTree(this,e,t)}}class li{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let ui,ci=new li;const hi=new Ne("AllowMultipleToken");class di{constructor(e,t){this.name=e,this.token=t}}function pi(e,t,n=[]){const r=`Platform: ${t}`,s=new Ne(r);return(t=[])=>{let i=fi();if(!i||i.injector.get(hi,!1))if(e)e(n.concat(t).concat({provide:s,useValue:!0}));else{const e=n.concat(t).concat({provide:s,useValue:!0});!function(e){if(ui&&!ui.destroyed&&!ui.injector.get(hi,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ui=e.get(gi);const t=e.get(Ps,null);t&&t.forEach(e=>e())}(Nt.create({providers:e,name:r}))}return function(e){const t=fi();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function fi(){return ui&&!ui.destroyed?ui:null}class gi{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e){let t;return t="noop"===e?new ii:("zone.js"===e?void 0:e)||new Xs({enableLongStackTrace:Xe()}),t}(t?t.ngZone:void 0),r=[{provide:Xs,useValue:n}];return n.run(()=>{const t=Nt.create({providers:r,parent:this.injector,name:e.moduleType.name}),s=e.create(t),i=s.injector.get(Je,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return s.onDestroy(()=>bi(this._modules,s)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{i.handleError(e)}})),function(e,t,n){try{const r=n();return Gt(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(i,n,()=>{const e=s.injector.get(Os);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=mi({},t);return function(e,t,n){return e.get(zs).createCompiler([t]).compileModuleAsync(n)}(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(yi);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${xe(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function mi(e,t){return Array.isArray(t)?t.reduce(mi,e):Object.assign({},e,t)}let yi=(()=>{class e{constructor(e,t,n,r,s,i){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Xe(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new C(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new C(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Xs.assertNotInAngularZone(),Ys(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Xs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=te(o,a.pipe(he()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Jt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n instanceof nn?null:this._injector.get(Be),s=n.create(Nt.NULL,[],t||n.selector,r);s.onDestroy(()=>{this._unloadComponent(s)});const i=s.injector.get(oi,null);return i&&s.injector.get(ai).registerApplication(s.location.nativeElement,i),this._loadComponent(s),Xe()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Js(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;bi(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ms,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),bi(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=Zs("ApplicationRef#tick()"),e})();function bi(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class vi{}class _i{}const wi={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class xi{constructor(e,t){this._compiler=e,this._config=t||wi}load(e){return this._compiler instanceof Hs?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>Ci(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),s="NgFactory";return void 0===r&&(r="default",s=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+s]).then(e=>Ci(e,t,r))}}function Ci(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class Si{constructor(e,t){this.name=e,this.callback=t}}class Ei{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof ki&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ki extends Ei{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof ki&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof ki&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof ki&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof ki)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const Ti=new Map,Oi=function(e){return Ti.get(e)||null};function Ai(e){Ti.set(e.nativeNode,e)}const Ii=pi(null,"core",[{provide:Ds,useValue:"unknown"},{provide:gi,deps:[Nt]},{provide:ai,deps:[]},{provide:Rs,deps:[]}]);function Ni(){return Tn}function Pi(){return On}function Di(e){return e||"en-US"}function Mi(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class Ri{constructor(e){}}function Vi(e,t,n,r,s,i){e|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=or(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?cr(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:s||$n},provider:null,text:null,query:null,ngContent:null}}function ji(e,t,n,r,s,i,o=[],a,l,u,c,h){u||(u=$n);const{matchedQueries:d,references:p,matchedQueryIds:f}=or(n);let g=null,m=null;i&&([g,m]=yr(i)),a=a||[];const y=new Array(a.length);for(let _=0;_<a.length;_++){const[e,t,n]=a[_],[r,s]=yr(t);let i=void 0,o=void 0;switch(15&e){case 4:o=n;break;case 1:case 8:i=n}y[_]={flags:e,ns:r,name:s,nonMinifiedName:s,securityContext:i,suffix:o}}l=l||[];const b=new Array(l.length);for(let _=0;_<l.length;_++){const[e,t]=l[_];b[_]={type:0,target:e,eventName:t,propName:null}}const v=(o=o||[]).map(([e,t])=>{const[n,r]=yr(e);return[n,r,t]});return h=function(e){if(e&&"$$undefined"===e.id){const t=null!=e.encapsulation&&e.encapsulation!==qe.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${Kn++}`:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(h),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:s,bindings:y,bindingFlags:br(y),outputs:b,element:{ns:g,name:m,attrs:v,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||$n},provider:null,text:null,query:null,ngContent:null}}function Fi(e,t,n){const r=n.element,s=e.root.selectorOrNode,i=e.renderer;let o;if(e.parent||!s){o=r.name?i.createElement(r.name,r.ns):i.createComment("");const s=lr(e,t,n);s&&i.appendChild(s,o)}else o=i.selectRootElement(s,!!r.componentRendererType&&r.componentRendererType.encapsulation===qe.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];i.setAttribute(o,t,n,e)}return o}function Ui(e,t,n,r){for(let o=0;o<n.outputs.length;o++){const a=n.outputs[o],l=Li(e,n.nodeIndex,(i=a.eventName,(s=a.target)?`${s}:${i}`:i));let u=a.target,c=e;"component"===a.target&&(u=null,c=t);const h=c.renderer.listen(u||r,a.eventName,l);e.disposables[n.outputIndex+o]=h}var s,i}function Li(e,t,n){return r=>er(e,t,n,r)}function Bi(e,t,n,r){if(!Jn(e,t,n,r))return!1;const s=t.bindings[n],i=Un(e,t.nodeIndex),o=i.renderElement,a=s.name;switch(15&s.flags){case 1:!function(e,t,n,r,s,i){const o=t.securityContext;let a=o?e.root.sanitizer.sanitize(o,i):i;a=null!=a?a.toString():null;const l=e.renderer;null!=i?l.setAttribute(n,s,a,r):l.removeAttribute(n,s,r)}(e,s,o,s.ns,a,r);break;case 2:!function(e,t,n,r){const s=e.renderer;r?s.addClass(t,n):s.removeClass(t,n)}(e,o,a,r);break;case 4:!function(e,t,n,r,s){let i=e.root.sanitizer.sanitize(wt.STYLE,s);if(null!=i){i=i.toString();const e=t.suffix;null!=e&&(i+=e)}else i=null;const o=e.renderer;null!=i?o.setStyle(n,r,i):o.removeStyle(n,r)}(e,s,o,a,r);break;case 8:!function(e,t,n,r,s){const i=t.securityContext;let o=i?e.root.sanitizer.sanitize(i,s):s;e.renderer.setProperty(n,r,o)}(33554432&t.flags&&32&s.flags?i.componentView:e,s,o,a,r)}return!0}function Hi(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&ir(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let s=0;s<=r;s++){const r=e.def.nodes[s];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&Hn(e,s).setDirty(),!(1&r.flags&&s+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(s+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&Hn(e,n).setDirty(),n+=t.childCount}}function zi(e,t){const n=Hn(e,t.nodeIndex);if(!n.dirty)return;let r,s=void 0;if(67108864&t.flags){const n=t.parent.parent;s=$i(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=Ln(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(s=$i(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(s);const i=t.query.bindings;let o=!1;for(let a=0;a<i.length;a++){const e=i[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,o=!0}r[e.propName]=t}o&&n.notifyOnChanges()}function $i(e,t,n,r,s){for(let i=t;i<=n;i++){const t=e.def.nodes[i],n=t.matchedQueries[r.id];if(null!=n&&s.push(qi(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Un(e,i);if((t.childMatchedQueries&r.filterId)===r.filterId&&($i(e,i+1,i+t.childCount,r,s),i+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const i=e[t],o=tr(i);o&&o===n&&$i(i,0,i.def.nodes.length-1,r,s)}}const o=n.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];$i(t,0,t.def.nodes.length-1,r,s)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(i+=t.childCount)}return s}function qi(e,t,n){if(null!=n)switch(n){case 1:return Un(e,t.nodeIndex).renderElement;case 0:return new sn(Un(e,t.nodeIndex).renderElement);case 2:return Un(e,t.nodeIndex).template;case 3:return Un(e,t.nodeIndex).viewContainer;case 4:return Ln(e,t.nodeIndex).instance}}function Wi(e,t,n){const r=lr(e,t,n);r&&pr(e,n.ngContent.index,1,r,null,void 0)}function Gi(e,t){const n=Object.keys(t),r=n.length,s=new Array(r);for(let i=0;i<r;i++){const e=n[i];s[t[e]]=e}return Ki(64,e,s)}function Ki(e,t,n){const r=new Array(n.length);for(let s=0;s<n.length;s++){const e=n[s];r[s]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:br(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Zi(e,t,n){const r=new Array(n.length-1);for(let s=1;s<n.length;s++)r[s-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[s]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ji(e,t,n){let r;const s=e.renderer;r=s.createText(n.text.prefix);const i=lr(e,t,n);return i&&s.appendChild(i,r),{renderText:r}}function Qi(e,t){return(null!=e?e.toString():"")+t.suffix}function Yi(e,t,n,r){let s=0,i=0,o=0,a=0,l=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=u,e.bindingIndex=s,e.outputIndex=i,e.renderParent=c,o|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=u?u.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if(eo(u,e,t.length),s+=e.bindings.length,i+=e.outputs.length,!c&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?u.element.publicProviders[Wn(e.provider.token)]=e:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Wn(e.provider.token)]=e),t&&(u.element.componentProvider=e)}if(u?(u.childFlags|=e.flags,u.directChildFlags|=e.flags,u.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(u.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)u=e,Xi(e)||(c=e);else for(;u&&f===u.nodeIndex+u.childCount;){const e=u.parent;e&&(e.childFlags|=u.childFlags,e.childMatchedQueries|=u.childMatchedQueries),u=e,c=u&&Xi(u)?u.renderParent:u}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||$n,updateRenderer:r||$n,handleEvent:(e,n,r,s)=>t[n].element.handleEvent(e,r,s),bindingCount:s,outputCount:i,lastRenderRootNode:p}}function Xi(e){return 0!=(1&e.flags)&&null===e.element.name}function eo(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function to(e,t,n,r){const s=so(e.root,e.renderer,e,t,n);return io(s,e.component,r),oo(s),s}function no(e,t,n){const r=so(e,e.renderer,null,null,t);return io(r,n,n),oo(r),r}function ro(e,t,n,r){const s=t.element.componentRendererType;let i;return i=s?e.root.rendererFactory.createRenderer(r,s):e.root.renderer,so(e.root,i,e,t.element.componentProvider,n)}function so(e,t,n,r,s){const i=new Array(s.nodes.length),o=s.outputCount?new Array(s.outputCount):null;return{def:s,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(s.bindingCount),disposables:o,initIndex:-1}}function io(e,t,n){e.component=t,e.context=n}function oo(e){let t;sr(e)&&(t=Un(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let s=0;s<n.nodes.length;s++){const i=n.nodes[s];let o;switch(zn.setCurrentNode(e,s),201347067&i.flags){case 1:const n=Fi(e,t,i);let a=void 0;if(33554432&i.flags){const t=cr(i.element.componentView);a=zn.createComponentView(e,i,t,n)}Ui(e,a,i,n),o={renderElement:n,componentView:a,viewContainer:null,template:i.element.template?Ur(e,i):void 0},16777216&i.flags&&(o.viewContainer=Rr(e,i,o));break;case 2:o=Ji(e,t,i);break;case 512:case 1024:case 2048:case 256:o=r[s],o||4096&i.flags||(o={instance:is(e,i)});break;case 16:o={instance:os(e,i)};break;case 16384:o=r[s],o||(o={instance:as(e,i)}),32768&i.flags&&io(Un(e,i.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new ks;break;case 8:Wi(e,t,i),o=void 0}r[s]=o}mo(e,go.CreateViewNodes),_o(e,201326592,268435456,0)}function ao(e){co(e),zn.updateDirectives(e,1),yo(e,go.CheckNoChanges),zn.updateRenderer(e,1),mo(e,go.CheckNoChanges),e.state&=-97}function lo(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Vn(e,0,256),co(e),zn.updateDirectives(e,0),yo(e,go.CheckAndUpdate),_o(e,67108864,536870912,0);let t=Vn(e,256,512);gs(e,2097152|(t?1048576:0)),zn.updateRenderer(e,0),mo(e,go.CheckAndUpdate),_o(e,134217728,536870912,0),t=Vn(e,512,768),gs(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Vn(e,768,1024)}function uo(e,t,n,r,s,i,o,a,l,u,c,h,d){return 0===n?function(e,t,n,r,s,i,o,a,l,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,s,i,o,a,l,u,c,h){const d=t.bindings.length;let p=!1;return d>0&&Bi(e,t,0,n)&&(p=!0),d>1&&Bi(e,t,1,r)&&(p=!0),d>2&&Bi(e,t,2,s)&&(p=!0),d>3&&Bi(e,t,3,i)&&(p=!0),d>4&&Bi(e,t,4,o)&&(p=!0),d>5&&Bi(e,t,5,a)&&(p=!0),d>6&&Bi(e,t,6,l)&&(p=!0),d>7&&Bi(e,t,7,u)&&(p=!0),d>8&&Bi(e,t,8,c)&&(p=!0),d>9&&Bi(e,t,9,h)&&(p=!0),p}(e,t,n,r,s,i,o,a,l,u,c,h);case 2:return function(e,t,n,r,s,i,o,a,l,u,c,h){let d=!1;const p=t.bindings,f=p.length;if(f>0&&Jn(e,t,0,n)&&(d=!0),f>1&&Jn(e,t,1,r)&&(d=!0),f>2&&Jn(e,t,2,s)&&(d=!0),f>3&&Jn(e,t,3,i)&&(d=!0),f>4&&Jn(e,t,4,o)&&(d=!0),f>5&&Jn(e,t,5,a)&&(d=!0),f>6&&Jn(e,t,6,l)&&(d=!0),f>7&&Jn(e,t,7,u)&&(d=!0),f>8&&Jn(e,t,8,c)&&(d=!0),f>9&&Jn(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;f>0&&(d+=Qi(n,p[0])),f>1&&(d+=Qi(r,p[1])),f>2&&(d+=Qi(s,p[2])),f>3&&(d+=Qi(i,p[3])),f>4&&(d+=Qi(o,p[4])),f>5&&(d+=Qi(a,p[5])),f>6&&(d+=Qi(l,p[6])),f>7&&(d+=Qi(u,p[7])),f>8&&(d+=Qi(c,p[8])),f>9&&(d+=Qi(h,p[9]));const g=Fn(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,r,s,i,o,a,l,u,c,h);case 16384:return function(e,t,n,r,s,i,o,a,l,u,c,h){const d=Ln(e,t.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=t.bindings.length;return m>0&&Zn(e,t,0,n)&&(f=!0,g=fs(e,d,t,0,n,g)),m>1&&Zn(e,t,1,r)&&(f=!0,g=fs(e,d,t,1,r,g)),m>2&&Zn(e,t,2,s)&&(f=!0,g=fs(e,d,t,2,s,g)),m>3&&Zn(e,t,3,i)&&(f=!0,g=fs(e,d,t,3,i,g)),m>4&&Zn(e,t,4,o)&&(f=!0,g=fs(e,d,t,4,o,g)),m>5&&Zn(e,t,5,a)&&(f=!0,g=fs(e,d,t,5,a,g)),m>6&&Zn(e,t,6,l)&&(f=!0,g=fs(e,d,t,6,l,g)),m>7&&Zn(e,t,7,u)&&(f=!0,g=fs(e,d,t,7,u,g)),m>8&&Zn(e,t,8,c)&&(f=!0,g=fs(e,d,t,8,c,g)),m>9&&Zn(e,t,9,h)&&(f=!0,g=fs(e,d,t,9,h,g)),g&&p.ngOnChanges(g),65536&t.flags&&jn(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,r,s,i,o,a,l,u,c,h);case 32:case 64:case 128:return function(e,t,n,r,s,i,o,a,l,u,c,h){const d=t.bindings;let p=!1;const f=d.length;if(f>0&&Jn(e,t,0,n)&&(p=!0),f>1&&Jn(e,t,1,r)&&(p=!0),f>2&&Jn(e,t,2,s)&&(p=!0),f>3&&Jn(e,t,3,i)&&(p=!0),f>4&&Jn(e,t,4,o)&&(p=!0),f>5&&Jn(e,t,5,a)&&(p=!0),f>6&&Jn(e,t,6,l)&&(p=!0),f>7&&Jn(e,t,7,u)&&(p=!0),f>8&&Jn(e,t,8,c)&&(p=!0),f>9&&Jn(e,t,9,h)&&(p=!0),p){const p=Bn(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=s),f>3&&(g[3]=i),f>4&&(g[4]=o),f>5&&(g[5]=a),f>6&&(g[6]=l),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=s),f>3&&(g[d[3].name]=i),f>4&&(g[d[4].name]=o),f>5&&(g[d[5].name]=a),f>6&&(g[d[6].name]=l),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(f){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,s);break;case 4:g=e.transform(r,s,i);break;case 5:g=e.transform(r,s,i,o);break;case 6:g=e.transform(r,s,i,o,a);break;case 7:g=e.transform(r,s,i,o,a,l);break;case 8:g=e.transform(r,s,i,o,a,l,u);break;case 9:g=e.transform(r,s,i,o,a,l,u,c);break;case 10:g=e.transform(r,s,i,o,a,l,u,c,h)}}p.value=g}return p}(e,t,n,r,s,i,o,a,l,u,c,h);default:throw"unreachable"}}(e,t,r,s,i,o,a,l,u,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let s=0;s<n.length;s++)Bi(e,t,s,n[s])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let s=!1;for(let i=0;i<n.length;i++)Jn(e,t,i,n[i])&&(s=!0);if(s){let s="";for(let e=0;e<n.length;e++)s+=Qi(n[e],r[e]);s=t.text.prefix+s;const i=Fn(e,t.nodeIndex).renderText;e.renderer.setValue(i,s)}return s}(e,t,n);case 16384:return function(e,t,n){const r=Ln(e,t.nodeIndex),s=r.instance;let i=!1,o=void 0;for(let a=0;a<n.length;a++)Zn(e,t,a,n[a])&&(i=!0,o=fs(e,r,t,a,n[a],o));return o&&s.ngOnChanges(o),65536&t.flags&&jn(e,256,t.nodeIndex)&&s.ngOnInit(),262144&t.flags&&s.ngDoCheck(),i}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let s=!1;for(let i=0;i<n.length;i++)Jn(e,t,i,n[i])&&(s=!0);if(s){const s=Bn(e,t.nodeIndex);let i;switch(201347067&t.flags){case 32:i=n;break;case 64:i={};for(let s=0;s<n.length;s++)i[r[s].name]=n[s];break;case 128:const e=n[0],t=n.slice(1);i=e.transform(...t)}s.value=i}return s}(e,t,n);default:throw"unreachable"}}(e,t,r)}function co(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=Un(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,Xn(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ho(e,t,n,r,s,i,o,a,l,u,c,h,d){return 0===n?function(e,t,n,r,s,i,o,a,l,u,c,h){const d=t.bindings.length;d>0&&Qn(e,t,0,n),d>1&&Qn(e,t,1,r),d>2&&Qn(e,t,2,s),d>3&&Qn(e,t,3,i),d>4&&Qn(e,t,4,o),d>5&&Qn(e,t,5,a),d>6&&Qn(e,t,6,l),d>7&&Qn(e,t,7,u),d>8&&Qn(e,t,8,c),d>9&&Qn(e,t,9,h)}(e,t,r,s,i,o,a,l,u,c,h,d):function(e,t,n){for(let r=0;r<n.length;r++)Qn(e,t,r,n[r])}(e,t,r),!1}function po(e,t){if(Hn(e,t.nodeIndex).dirty)throw Dn(zn.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function fo(e){if(!(128&e.state)){if(yo(e,go.Destroy),mo(e,go.Destroy),gs(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=tr(e);if(t){const n=t.template._projectedViews;n&&($e(n,n.indexOf(e)),zn.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(Un(e,n).renderElement):2&t.flags?e.renderer.destroyNode(Fn(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&Hn(e,n).destroy()}}(e),sr(e)&&e.renderer.destroy(),e.state|=128}}const go=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function mo(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const s=n.nodes[r];33554432&s.flags?bo(Un(e,r).componentView,t):0==(33554432&s.childFlags)&&(r+=s.childCount)}}function yo(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const s=n.nodes[r];if(16777216&s.flags){const n=Un(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)bo(n[e],t)}else 0==(16777216&s.childFlags)&&(r+=s.childCount)}}function bo(e,t){const n=e.state;switch(t){case go.CheckNoChanges:0==(128&n)&&(12==(12&n)?ao(e):64&n&&vo(e,go.CheckNoChangesProjectedViews));break;case go.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ao(e):64&n&&vo(e,t));break;case go.CheckAndUpdate:0==(128&n)&&(12==(12&n)?lo(e):64&n&&vo(e,go.CheckAndUpdateProjectedViews));break;case go.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?lo(e):64&n&&vo(e,t));break;case go.Destroy:fo(e);break;case go.CreateViewNodes:oo(e)}}function vo(e,t){yo(e,t),mo(e,t)}function _o(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const s=e.def.nodes.length;for(let i=0;i<s;i++){const s=e.def.nodes[i];if(s.flags&t&&s.flags&n)switch(zn.setCurrentNode(e,s.nodeIndex),r){case 0:zi(e,s);break;case 1:po(e,s)}s.childFlags&t&&s.childFlags&n||(i+=s.childCount)}}let wo=!1;function xo(e,t,n,r,s,i){const o=s.injector.get(ln);return no(So(e,s,o,t,n),r,i)}function Co(e,t,n,r,s,i){const o=s.injector.get(ln),a=So(e,s,new na(o),t,n),l=Mo(r);return ea(Lo.create,no,null,[a,l,i])}function So(e,t,n,r,s){const i=t.injector.get(xt),o=t.injector.get(Je),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:s,sanitizer:i,rendererFactory:n,renderer:a,errorHandler:o}}function Eo(e,t,n,r){const s=Mo(n);return ea(Lo.create,to,null,[e,t,s,r])}function ko(e,t,n,r){return n=Io.get(t.element.componentProvider.provider.token)||Mo(n),ea(Lo.create,ro,null,[e,t,n,r])}function To(e,t,n,r){return Wr(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===Oo.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const r=Oo.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{Ao.forEach((r,s)=>{_e(s).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const s=Oo.get(r.token);s&&(r.flags=-3841&r.flags|s.flags,r.deps=ar(s.deps),r.value=s.value)}if(Ao.size>0){let t=new Set(e.modules);Ao.forEach((r,s)=>{if(t.has(_e(s).providedIn)){let t={token:s,flags:r.flags|(n?4096:0),deps:ar(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Wn(s)]=t}})}}(e=e.factory(()=>$n)),e):e}(r))}const Oo=new Map,Ao=new Map,Io=new Map;function No(e){let t;Oo.set(e.token,e),"function"==typeof e.token&&(t=_e(e.token))&&"function"==typeof t.providedIn&&Ao.set(e.token,e)}function Po(e,t){const n=cr(t.viewDefFactory),r=cr(n.nodes[0].element.componentView);Io.set(e,r)}function Do(){Oo.clear(),Ao.clear(),Io.clear()}function Mo(e){if(0===Oo.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const s=e.nodes[r];1&s.flags&&(n=s),n&&3840&s.flags&&Oo.has(s.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>$n);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Oo.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=ar(n.deps),e.value=n.value)}}}}function Ro(e,t,n,r,s,i,o,a,l,u,c,h,d){const p=e.def.nodes[t];return uo(e,p,n,r,s,i,o,a,l,u,c,h,d),224&p.flags?Bn(e,t).value:void 0}function Vo(e,t,n,r,s,i,o,a,l,u,c,h,d){const p=e.def.nodes[t];return ho(e,p,n,r,s,i,o,a,l,u,c,h,d),224&p.flags?Bn(e,t).value:void 0}function jo(e){return ea(Lo.detectChanges,lo,null,[e])}function Fo(e){return ea(Lo.checkNoChanges,ao,null,[e])}function Uo(e){return ea(Lo.destroy,fo,null,[e])}const Lo=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Bo,Ho,zo;function $o(e,t){Ho=e,zo=t}function qo(e,t,n,r){return $o(e,t),ea(Lo.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Wo(e,t){if(128&e.state)throw Rn(Lo[Bo]);return $o(e,Jo(e,0)),e.def.updateDirectives((function(e,n,r,...s){const i=e.def.nodes[n];return 0===t?Ko(e,i,r,s):Zo(e,i,r,s),16384&i.flags&&$o(e,Jo(e,n)),224&i.flags?Bn(e,i.nodeIndex).value:void 0}),e)}function Go(e,t){if(128&e.state)throw Rn(Lo[Bo]);return $o(e,Qo(e,0)),e.def.updateRenderer((function(e,n,r,...s){const i=e.def.nodes[n];return 0===t?Ko(e,i,r,s):Zo(e,i,r,s),3&i.flags&&$o(e,Qo(e,n)),224&i.flags?Bn(e,i.nodeIndex).value:void 0}),e)}function Ko(e,t,n,r){if(uo(e,t,n,...r)){const o=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],a=o[e];8&r.flags&&(n[(s=r.nonMinifiedName,i=void 0,i=s.replace(/[$@]/g,"_"),`ng-reflect-${s=i.replace(Et,(...e)=>"-"+e[1].toLowerCase())}`)]=kt(a))}const r=t.parent,a=Un(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(a,t,r):e.renderer.removeAttribute(a,t)}else e.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var s,i}function Zo(e,t,n,r){ho(e,t,n,...r)}function Jo(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Qo(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class Yo{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=nr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Un(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Br(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){Xo(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&Xo(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!sr(e);)e=e.parent;return e.parent?Un(e.parent,nr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?rr(this.view,this.nodeDef):rr(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const s=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let i=-1;n.factory(()=>(i++,i===s?e.error.bind(e,...t):$n)),i<s&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function Xo(e,t,n){for(let r in t.references)n[r]=qi(e,t,t.references[r])}function ea(e,t,n,r){const s=Bo,i=Ho,o=zo;try{Bo=e;const a=t.apply(n,r);return Ho=i,zo=o,Bo=s,a}catch(a){if(Ge(a)||!Ho)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Mn(e,t),e}(a,ta())}}function ta(){return Ho?new Yo(Ho,zo):null}class na{constructor(e){this.delegate=e}createRenderer(e,t){return new ra(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class ra{constructor(e){this.delegate=e,this.debugContextFactory=ta,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=Oi(e);!function(e){Ti.delete(e.nativeNode)}(t),t instanceof Ei&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new ki(n,null,r);t.name=e,Ai(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Ai(new Ei(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Ai(new Ei(t,null,n)),t}appendChild(e,t){const n=Oi(e),r=Oi(t);n&&r&&n instanceof ki&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=Oi(e),s=Oi(t),i=Oi(n);r&&s&&r instanceof ki&&r.insertBefore(i,s),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Oi(e),r=Oi(t);n&&r&&n instanceof ki&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=ta();return r&&Ai(new ki(n,null,r)),n}setAttribute(e,t,n,r){const s=Oi(e);s&&s instanceof ki&&(s.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=Oi(e);r&&r instanceof ki&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Oi(e);n&&n instanceof ki&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Oi(e);n&&n instanceof ki&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const s=Oi(e);s&&s instanceof ki&&(s.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=Oi(e);r&&r instanceof ki&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=Oi(e);r&&r instanceof ki&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=Oi(e);r&&r.listeners.push(new Si(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function sa(e,t,n){return new ia(e,t,n)}class ia extends He{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(wo)return;wo=!0;const e=Xe()?{setCurrentNode:$o,createRootView:Co,createEmbeddedView:Eo,createComponentView:ko,createNgModuleRef:To,overrideProvider:No,overrideComponentView:Po,clearOverrides:Do,checkAndUpdateView:jo,checkNoChangesView:Fo,destroyView:Uo,createDebugContext:(e,t)=>new Yo(e,t),handleEvent:qo,updateDirectives:Wo,updateRenderer:Go}:{setCurrentNode:()=>{},createRootView:xo,createEmbeddedView:to,createComponentView:ro,createNgModuleRef:Wr,overrideProvider:$n,overrideComponentView:$n,clearOverrides:$n,checkAndUpdateView:lo,checkNoChangesView:ao,destroyView:fo,createDebugContext:(e,t)=>new Yo(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Ro:Vo,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Ro:Vo,e)};zn.setCurrentNode=e.setCurrentNode,zn.createRootView=e.createRootView,zn.createEmbeddedView=e.createEmbeddedView,zn.createComponentView=e.createComponentView,zn.createNgModuleRef=e.createNgModuleRef,zn.overrideProvider=e.overrideProvider,zn.overrideComponentView=e.overrideComponentView,zn.clearOverrides=e.clearOverrides,zn.checkAndUpdateView=e.checkAndUpdateView,zn.checkNoChangesView=e.checkNoChangesView,zn.destroyView=e.destroyView,zn.resolveDep=ds,zn.createDebugContext=e.createDebugContext,zn.handleEvent=e.handleEvent,zn.updateDirectives=e.updateDirectives,zn.updateRenderer=e.updateRenderer,zn.dirtyParentQueries=Hi}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const s in e.providersByKey)r[s]=e.providersByKey[s];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(cr(this._ngModuleDefFactory));return zn.createNgModuleRef(this.moduleType,e||Nt.NULL,this._bootstrapComponents,t)}}class oa{}class aa{constructor(e){this.hcs=e,this.title="geogovDataCollector",this.hcs.createDatabase()}}class la{}const ua=new Ne("Location Initialized");class ca{}const ha=new Ne("appBaseHref");class da{constructor(e,t){this._subject=new Ss,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=da.stripTrailingSlash(pa(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+da.normalizeQueryParams(t))}normalize(e){return da.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,pa(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+da.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+da.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}function pa(e){return e.replace(/\/index.html$/,"")}class fa extends ca{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=da.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let s=this.prepareExternalUrl(n+da.normalizeQueryParams(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){let s=this.prepareExternalUrl(n+da.normalizeQueryParams(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class ga extends ca{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return da.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+da.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const s=this.prepareExternalUrl(n+da.normalizeQueryParams(r));this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){const s=this.prepareExternalUrl(n+da.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const ma=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),ya=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),ba=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),va=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),_a=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function wa(e,t){return ka(Cs(e)[_s.DateFormat],t)}function xa(e,t){return ka(Cs(e)[_s.TimeFormat],t)}function Ca(e,t){return ka(Cs(e)[_s.DateTimeFormat],t)}function Sa(e,t){const n=Cs(e),r=n[_s.NumberSymbols][t];if(void 0===r){if(t===_a.CurrencyDecimal)return n[_s.NumberSymbols][_a.Decimal];if(t===_a.CurrencyGroup)return n[_s.NumberSymbols][_a.Group]}return r}function Ea(e){if(!e[_s.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[_s.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ka(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Ta(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Oa=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Aa={},Ia=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Na=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),Pa=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),Da=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Ma(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Ra(e,t,n="-",r,s){let i="";(e<0||s&&e<=0)&&(s?e=1-e:(e=-e,i=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),i+o}function Va(e,t,n=0,r=!1,s=!1){return function(i,o){let a=function(e,t){switch(e){case Pa.FullYear:return t.getFullYear();case Pa.Month:return t.getMonth();case Pa.Date:return t.getDate();case Pa.Hours:return t.getHours();case Pa.Minutes:return t.getMinutes();case Pa.Seconds:return t.getSeconds();case Pa.FractionalSeconds:return t.getMilliseconds();case Pa.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,i);if((n>0||a>-n)&&(a+=n),e===Pa.Hours)0===a&&-12===n&&(a=12);else if(e===Pa.FractionalSeconds)return l=t,Ra(a,3).substr(0,l);var l;const u=Sa(o,_a.MinusSign);return Ra(a,t,u,r,s)}}function ja(e,t,n=ya.Format,r=!1){return function(s,i){return function(e,t,n,r,s,i){switch(n){case Da.Months:return function(e,t,n){const r=Cs(e),s=ka([r[_s.MonthsFormat],r[_s.MonthsStandalone]],t);return ka(s,n)}(t,s,r)[e.getMonth()];case Da.Days:return function(e,t,n){const r=Cs(e),s=ka([r[_s.DaysFormat],r[_s.DaysStandalone]],t);return ka(s,n)}(t,s,r)[e.getDay()];case Da.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(i){const e=function(e){const t=Cs(e);return Ea(t),(t[_s.ExtraData][2]||[]).map(e=>"string"==typeof e?Ta(e):[Ta(e[0]),Ta(e[1])])}(t),n=function(e,t,n){const r=Cs(e);Ea(r);const s=ka([r[_s.ExtraData][0],r[_s.ExtraData][1]],t)||[];return ka(s,n)||[]}(t,s,r);let i;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:r,minutes:s}=e[0],{hours:l,minutes:u}=e[1];o>=r&&a>=s&&(o<l||o===l&&a<u)&&(i=n[t])}else{const{hours:r,minutes:s}=e;r===o&&s===a&&(i=n[t])}}),i)return i}return function(e,t,n){const r=Cs(e),s=ka([r[_s.DayPeriodsFormat],r[_s.DayPeriodsStandalone]],t);return ka(s,n)}(t,s,r)[o<12?0:1];case Da.Eras:return function(e,t){return ka(Cs(e)[_s.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,i,e,t,n,r)}}function Fa(e){return function(t,n,r){const s=-1*r,i=Sa(n,_a.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case Na.Short:return(s>=0?"+":"")+Ra(o,2,i)+Ra(Math.abs(s%60),2,i);case Na.ShortGMT:return"GMT"+(s>=0?"+":"")+Ra(o,1,i);case Na.Long:return"GMT"+(s>=0?"+":"")+Ra(o,2,i)+":"+Ra(Math.abs(s%60),2,i);case Na.Extended:return 0===r?"Z":(s>=0?"+":"")+Ra(o,2,i)+":"+Ra(Math.abs(s%60),2,i);default:throw new Error(`Unknown zone width "${e}"`)}}}function Ua(e,t=!1){return function(n,r){let s;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();s=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(n.getFullYear()),t=(i=n,new Date(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))).getTime()-e.getTime();s=1+Math.round(t/6048e5)}var i;return Ra(s,e,Sa(r,_a.MinusSign))}}const La={};function Ba(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Ha(e){return e instanceof Date&&!isNaN(e.valueOf())}const za=new Ne("UseV4Plurals");class $a{}class qa extends $a{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return Cs(e)[_s.PluralCase]}(t||this.locale)(e)){case ma.Zero:return"zero";case ma.One:return"one";case ma.Two:return"two";case ma.Few:return"few";case ma.Many:return"many";default:return"other"}}}class Wa{}class Ga{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(qt(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${xe(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}let Ka=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class Za extends Ka{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}class Ja{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Qa{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Xe()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ja(null,this._ngForOf,-1,-1),null===r?void 0:r),s=new Ya(e,n);t.push(s)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const s=this._viewContainer.get(n);this._viewContainer.move(s,r);const i=new Ya(e,s);t.push(i)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class Ya{constructor(e,t){this.record=e,this.view=t}}class Xa{constructor(e,t){this._viewContainer=e,this._context=new el,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){tl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){tl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class el{constructor(){this.$implicit=null,this.ngIf=null}}function tl(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${xe(t)}'.`)}class nl{constructor(e){this.locale=e}transform(e,t="mediumDate",n,r){if(null==e||""===e||e!=e)return null;try{return function(e,t,n,r){let s=function(e){if(Ha(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,r]=e.split("-").map(e=>+e);return new Date(t,n-1,r)}let n;if(n=e.match(Oa))return function(e){const t=new Date(0);let n=0,r=0;const s=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),s.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return i.call(t,o,a,l,u),t}(n)}const t=new Date(e);if(!Ha(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const r=function(e){return Cs(e)[_s.LocaleId]}(t);if(Aa[r]=Aa[r]||{},Aa[r][n])return Aa[r][n];let s="";switch(n){case"shortDate":s=wa(t,va.Short);break;case"mediumDate":s=wa(t,va.Medium);break;case"longDate":s=wa(t,va.Long);break;case"fullDate":s=wa(t,va.Full);break;case"shortTime":s=xa(t,va.Short);break;case"mediumTime":s=xa(t,va.Medium);break;case"longTime":s=xa(t,va.Long);break;case"fullTime":s=xa(t,va.Full);break;case"short":const n=e(t,"shortTime"),r=e(t,"shortDate");s=Ma(Ca(t,va.Short),[n,r]);break;case"medium":const i=e(t,"mediumTime"),o=e(t,"mediumDate");s=Ma(Ca(t,va.Medium),[i,o]);break;case"long":const a=e(t,"longTime"),l=e(t,"longDate");s=Ma(Ca(t,va.Long),[a,l]);break;case"full":const u=e(t,"fullTime"),c=e(t,"fullDate");s=Ma(Ca(t,va.Full),[u,c])}return s&&(Aa[r][n]=s),s}(n,t)||t;let i,o=[];for(;t;){if(i=Ia.exec(t),!i){o.push(t);break}{o=o.concat(i.slice(1));const e=o.pop();if(!e)break;t=e}}let a=s.getTimezoneOffset();r&&(a=Ba(r,a),s=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Ba(t,r)-r))}(s,r));let l="";return o.forEach(e=>{const t=function(e){if(La[e])return La[e];let t;switch(e){case"G":case"GG":case"GGG":t=ja(Da.Eras,ba.Abbreviated);break;case"GGGG":t=ja(Da.Eras,ba.Wide);break;case"GGGGG":t=ja(Da.Eras,ba.Narrow);break;case"y":t=Va(Pa.FullYear,1,0,!1,!0);break;case"yy":t=Va(Pa.FullYear,2,0,!0,!0);break;case"yyy":t=Va(Pa.FullYear,3,0,!1,!0);break;case"yyyy":t=Va(Pa.FullYear,4,0,!1,!0);break;case"M":case"L":t=Va(Pa.Month,1,1);break;case"MM":case"LL":t=Va(Pa.Month,2,1);break;case"MMM":t=ja(Da.Months,ba.Abbreviated);break;case"MMMM":t=ja(Da.Months,ba.Wide);break;case"MMMMM":t=ja(Da.Months,ba.Narrow);break;case"LLL":t=ja(Da.Months,ba.Abbreviated,ya.Standalone);break;case"LLLL":t=ja(Da.Months,ba.Wide,ya.Standalone);break;case"LLLLL":t=ja(Da.Months,ba.Narrow,ya.Standalone);break;case"w":t=Ua(1);break;case"ww":t=Ua(2);break;case"W":t=Ua(1,!0);break;case"d":t=Va(Pa.Date,1);break;case"dd":t=Va(Pa.Date,2);break;case"E":case"EE":case"EEE":t=ja(Da.Days,ba.Abbreviated);break;case"EEEE":t=ja(Da.Days,ba.Wide);break;case"EEEEE":t=ja(Da.Days,ba.Narrow);break;case"EEEEEE":t=ja(Da.Days,ba.Short);break;case"a":case"aa":case"aaa":t=ja(Da.DayPeriods,ba.Abbreviated);break;case"aaaa":t=ja(Da.DayPeriods,ba.Wide);break;case"aaaaa":t=ja(Da.DayPeriods,ba.Narrow);break;case"b":case"bb":case"bbb":t=ja(Da.DayPeriods,ba.Abbreviated,ya.Standalone,!0);break;case"bbbb":t=ja(Da.DayPeriods,ba.Wide,ya.Standalone,!0);break;case"bbbbb":t=ja(Da.DayPeriods,ba.Narrow,ya.Standalone,!0);break;case"B":case"BB":case"BBB":t=ja(Da.DayPeriods,ba.Abbreviated,ya.Format,!0);break;case"BBBB":t=ja(Da.DayPeriods,ba.Wide,ya.Format,!0);break;case"BBBBB":t=ja(Da.DayPeriods,ba.Narrow,ya.Format,!0);break;case"h":t=Va(Pa.Hours,1,-12);break;case"hh":t=Va(Pa.Hours,2,-12);break;case"H":t=Va(Pa.Hours,1);break;case"HH":t=Va(Pa.Hours,2);break;case"m":t=Va(Pa.Minutes,1);break;case"mm":t=Va(Pa.Minutes,2);break;case"s":t=Va(Pa.Seconds,1);break;case"ss":t=Va(Pa.Seconds,2);break;case"S":t=Va(Pa.FractionalSeconds,1);break;case"SS":t=Va(Pa.FractionalSeconds,2);break;case"SSS":t=Va(Pa.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Fa(Na.Short);break;case"ZZZZZ":t=Fa(Na.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Fa(Na.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Fa(Na.Long);break;default:return null}return La[e]=t,t}(e);l+=t?t(s,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(e,t,r||this.locale,n)}catch(s){throw function(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${xe(e)}'`)}(nl,s.message)}}}class rl{}const sl=new Ne("DocumentToken");let il=(()=>{class e{}return e.ngInjectableDef=ve({token:e,providedIn:"root",factory:()=>new ol(Fe(sl),window,Fe(Je))}),e})();class ol{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}const al=new C(e=>e.complete());function ll(e){return e?function(e){return new C(t=>e.schedule(()=>t.complete()))}(e):al}function ul(e){const t=new C(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function cl(...e){let t=e[e.length-1];switch(N(t)?e.pop():t=void 0,e.length){case 0:return ll(t);case 1:return t?K(e,t):ul(e[0]);default:return K(e,t)}}class hl extends A{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k;return this._value}next(e){super.next(this._value=e)}}function dl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}dl.prototype=Object.create(Error.prototype);const pl=dl,fl={};function gl(...e){let t=null,n=null;return N(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),K(e,n).lift(new ml(t))}class ml{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new yl(e,this.resultSelector))}}class yl extends ${constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(fl),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(z(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,s){const i=this.values,o=this.toRespond?i[n]===fl?--this.toRespond:this.toRespond:0;i[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function bl(e){return new C(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?Z(n):ll()).subscribe(t)})}function vl(){return ee(1)}function _l(e,t){return function(n){return n.lift(new wl(e,t))}}class wl{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new xl(e,this.predicate,this.thisArg))}}class xl extends m{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Cl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Cl.prototype=Object.create(Error.prototype);const Sl=Cl;function El(e){return function(t){return 0===e?ll():t.lift(new kl(e))}}class kl{constructor(e){if(this.total=e,this.total<0)throw new Sl}call(e,t){return t.subscribe(new Tl(e,this.total))}}class Tl extends m{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<n;s++){const s=t++%n;e.next(r[s])}}e.complete()}}function Ol(e,t,n){return function(r){return r.lift(new Al(e,t,n))}}class Al{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new Il(e,this.nextOrObserver,this.error,this.complete))}}class Il extends m{constructor(e,t,n,r){super(e),this._tapNext=_,this._tapError=_,this._tapComplete=_,this._tapError=n||_,this._tapComplete=r||_,s(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||_,this._tapError=t.error||_,this._tapComplete=t.complete||_)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const Nl=(e=Pl)=>Ol({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function Pl(){return new pl}function Dl(e=null){return t=>t.lift(new Ml(e))}class Ml{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Rl(e,this.defaultValue))}}class Rl extends m{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Vl(e,t){const n=arguments.length>=2;return r=>r.pipe(e?_l((t,n)=>e(t,n,r)):X,El(1),n?Dl(t):Nl(()=>new pl))}function jl(e){return function(t){const n=new Fl(e),r=t.lift(n);return n.caught=r}}class Fl{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ul(e,this.selector,this.caught))}}class Ul extends ${constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new P(this,void 0,void 0);this.add(r),z(this,n,void 0,void 0,r)}}}function Ll(e){return t=>0===e?ll():t.lift(new Bl(e))}class Bl{constructor(e){if(this.total=e,this.total<0)throw new Sl}call(e,t){return t.subscribe(new Hl(e,this.total))}}class Hl extends m{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function zl(e,t){const n=arguments.length>=2;return r=>r.pipe(e?_l((t,n)=>e(t,n,r)):X,Ll(1),n?Dl(t):Nl(()=>new pl))}function $l(e,t){return n=>n.lift(new ql(e,t,n))}class ql{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new Wl(e,this.predicate,this.thisArg,this.source))}}class Wl extends m{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Gl(e,t){return"function"==typeof t?n=>n.pipe(Gl((n,r)=>Z(e(n,r)).pipe(q((e,s)=>t(n,e,r,s))))):t=>t.lift(new Kl(e))}class Kl{constructor(e){this.project=e}call(e,t){return t.subscribe(new Zl(e,this.project))}}class Zl extends ${constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new P(this,void 0,void 0);this.destination.add(s),this.innerSubscription=z(this,e,t,n,s)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,s){this.destination.next(t)}}function Jl(...e){return vl()(cl(...e))}function Ql(...e){return t=>{let n=e[e.length-1];N(n)?e.pop():n=null;const r=e.length;return Jl(1!==r||n?r>0?K(e,n):ll(n):ul(e[0]),t)}}function Yl(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Xl(e,t,n))}}class Xl{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new eu(e,this.accumulator,this.seed,this.hasSeed))}}class eu extends m{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function tu(e,t){return J(e,t,1)}function nu(e,t){return arguments.length>=2?function(n){return w(Yl(e,t),El(1),Dl(t))(n)}:function(t){return w(Yl((t,n,r)=>e(t,n,r+1)),El(1))(t)}}function ru(e){return t=>t.lift(new su(e))}class su{constructor(e){this.callback=e}call(e,t){return t.subscribe(new iu(e,this.callback))}}class iu extends m{constructor(e,t){super(e),this.add(new p(t))}}let ou=null;function au(){return ou}const lu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},uu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hu=(()=>{if(Ie.Node)return Ie.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class du extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new du,ou||(ou=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return lu}contains(e,t){return hu.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&cu.hasOwnProperty(t)&&(t=cu[t]))}return uu[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=fu||(fu=document.querySelector("base"),fu)?fu.getAttribute("href"):null;return null==t?null:(n=t,pu||(pu=document.createElement("a")),pu.setAttribute("href",n),"/"===pu.pathname.charAt(0)?pu.pathname:"/"+pu.pathname);var n}resetBaseElement(){fu=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,s]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let pu,fu=null;function gu(){return!!window.history.pushState}const mu=new Ne("TRANSITION_ID"),yu=[{provide:Ts,useFactory:function(e,t,n){return()=>{n.get(Os).donePromise.then(()=>{const n=au();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[mu,sl,Nt],multi:!0}];class bu{static init(){var e;e=new bu,ci=e}addToWindow(e){Ie.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ie.getAllAngularRootElements=()=>e.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(e=>{const t=Ie.getAllAngularTestabilities();let n=t.length,r=!1;const s=function(t){r=r||t,n--,0==n&&e(r)};t.forEach((function(e){e.whenStable(s)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?au().isShadowRoot(t)?this.findTestabilityInTree(e,au().getHost(t),!0):this.findTestabilityInTree(e,au().parentElement(t),!0):null}}function vu(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Ie.ng=Ie.ng||{})[e]=t)}const _u=(()=>({ApplicationRef:yi,NgZone:Xs}))();function wu(e){return Oi(e)}const xu=new Ne("EventManagerPlugins");class Cu{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class Su{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=au().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class Eu{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class ku extends Eu{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>au().remove(e))}}const Tu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ou=/%COMP%/g;function Au(e,t,n){for(let r=0;r<t.length;r++){let s=t[r];Array.isArray(s)?Au(e,s,n):(s=s.replace(Ou,e),n.push(s))}return n}function Iu(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class Nu{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Pu(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case qe.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Ru(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case qe.Native:case qe.ShadowDom:return new Vu(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Au(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Pu{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Tu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const s=Tu[r];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=Tu[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&un.DashCase?e.style.setProperty(t,n,r&un.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&un.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){Mu(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return Mu(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Iu(n)):this.eventManager.addEventListener(e,t,Iu(n))}}const Du=(()=>"@".charCodeAt(0))();function Mu(e,t){if(e.charCodeAt(0)===Du)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Ru extends Pu{constructor(e,t,n,r){super(e),this.component=n;const s=Au(r+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Ou,r+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(Ou,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Vu extends Pu{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===qe.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=Au(r.id,r.styles,[]);for(let i=0;i<s.length;i++){const e=document.createElement("style");e.textContent=s[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const ju=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),Fu=ju("addEventListener"),Uu=ju("removeEventListener"),Lu={},Bu="__zone_symbol__propagationStopped",Hu=(()=>{const e="undefined"!=typeof Zone&&Zone[ju("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),zu=function(e){return!!Hu&&Hu.hasOwnProperty(e)},$u=function(e){const t=Lu[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[Bu];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};class qu extends Su{constructor(e,t,n){super(e),this.ngZone=t,n&&function(e){return"server"===e}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Bu]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let r=n;if(!e[Fu]||Xs.isInAngularZone()&&!zu(t))e.addEventListener(t,r,!1);else{let n=Lu[t];n||(n=Lu[t]=ju("ANGULAR"+t+"FALSE"));let s=e[n];const i=s&&s.length>0;s||(s=e[n]=[]);const o=zu(t)?Zone.root:Zone.current;if(0===s.length)s.push({zone:o,handler:r});else{let e=!1;for(let t=0;t<s.length;t++)if(s[t].handler===r){e=!0;break}e||s.push({zone:o,handler:r})}i||e[Fu](t,$u,!1)}return()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,n){let r=e[Uu];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);let s=Lu[t],i=s&&e[s];if(!i)return e.removeEventListener.apply(e,[t,n,!1]);let o=!1;for(let a=0;a<i.length;a++)if(i[a].handler===n){o=!0,i.splice(a,1);break}o?0===i.length&&r.apply(e,[t,$u,!1]):e.removeEventListener.apply(e,[t,n,!1])}}const Wu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Gu=new Ne("HammerGestureConfig"),Ku=new Ne("HammerLoader");class Zu{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class Ju extends Su{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!Wu.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,s=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=()=>{});r||(s=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),s=()=>{}}),()=>{s()}}return r.runOutsideAngular(()=>{const s=this._config.buildHammer(e),i=function(e){r.runGuarded((function(){n(e)}))};return s.on(t,i),()=>{s.off(t,i),"function"==typeof s.destroy&&s.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const Qu=["alt","control","meta","shift"],Yu={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class Xu extends Su{constructor(e){super(e)}supports(e){return null!=Xu.parseEventName(e)}addEventListener(e,t,n){const r=Xu.parseEventName(t),s=Xu.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>au().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=Xu._normalizeKey(t.pop());let s="";if(Qu.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),s+=e+".")}),s+=r,0!=t.length||0===r.length)return null;const i={};return i.domEventName=n,i.fullKey=s,i}static getEventFullKey(e){let t="",n=au().getEventKey(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Qu.forEach(r=>{r!=n&&(0,Yu[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(e,t,n){return r=>{Xu.getEventFullKey(r)===e&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class ec{}class tc extends ec{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case wt.NONE:return t;case wt.HTML:return t instanceof rc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let n=null;try{vt=vt||new et(e);let r=t?String(t):"";n=vt.getInertBodyElement(r);let s=5,i=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=i,i=n.innerHTML,n=vt.getInertBodyElement(r)}while(r!==i);const o=new gt,a=o.sanitizeChildren(_t(n)||n);return Xe()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=_t(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case wt.STYLE:return t instanceof sc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(St);return t&&rt(t[1])===t[1]||e.match(Ct)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const s=e.charAt(r);"'"===s&&n?t=!t:'"'===s&&t&&(n=!n)}return t&&n}(e)?e:(Xe()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case wt.SCRIPT:if(t instanceof ic)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case wt.URL:return t instanceof ac||t instanceof oc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),rt(String(t)));case wt.RESOURCE_URL:if(t instanceof ac)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof nc)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new rc(e)}bypassSecurityTrustStyle(e){return new sc(e)}bypassSecurityTrustScript(e){return new ic(e)}bypassSecurityTrustUrl(e){return new oc(e)}bypassSecurityTrustResourceUrl(e){return new ac(e)}}class nc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class rc extends nc{getTypeName(){return"HTML"}}class sc extends nc{getTypeName(){return"Style"}}class ic extends nc{getTypeName(){return"Script"}}class oc extends nc{getTypeName(){return"URL"}}class ac extends nc{getTypeName(){return"ResourceURL"}}const lc=pi(Ii,"browser",[{provide:Ds,useValue:"browser"},{provide:Ps,useValue:function(){du.makeCurrent(),bu.init()},multi:!0},{provide:la,useClass:class extends la{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=au().getLocation(),this._history=au().getHistory()}getBaseHrefFromDOM(){return au().getBaseHref(this._doc)}onPopState(e){au().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){au().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){gu()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){gu()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[sl]},{provide:sl,useFactory:function(){return document},deps:[]}]);function uc(){return new Je}class cc{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:cc,providers:[{provide:As,useValue:e.appId},{provide:mu,useExisting:As},yu]}}}"undefined"!=typeof window&&window;class hc{constructor(e,t){this.id=e,this.url=t}}class dc extends hc{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pc extends hc{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fc extends hc{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gc extends hc{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mc extends hc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yc extends hc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bc extends hc{constructor(e,t,n,r,s){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vc extends hc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _c extends hc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sc{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ec{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tc{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Oc{}class Ac{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ic(e){return new Ac(e)}function Nc(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Pc(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const s={};for(let i=0;i<r.length;i++){const t=r[i],n=e[i];if(t.startsWith(":"))s[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:s}}class Dc{constructor(e,t){this.routes=e,this.module=t}}function Mc(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Rc(r,Vc(t,r))}}function Rc(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Mc(e.children,t)}function Vc(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function jc(e){const t=e.children&&e.children.map(jc),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Oc),n}function Fc(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let s;for(let i=0;i<n.length;i++)if(s=n[i],e[s]!==t[s])return!1;return!0}function Uc(e){return Array.prototype.concat.apply([],e)}function Lc(e){return e.length>0?e[e.length-1]:null}function Bc(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Hc(e){return Kt(e)?e:Gt(e)?Z(Promise.resolve(e)):cl(e)}function zc(e,t,n){return n?function(e,t){return Fc(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Gc(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,s){if(n.segments.length>s.length)return!!Gc(n.segments.slice(0,s.length),s)&&!r.hasChildren();if(n.segments.length===s.length){if(!Gc(n.segments,s))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=s.slice(0,n.segments.length),i=s.slice(n.segments.length);return!!Gc(n.segments,e)&&!!n.children.primary&&t(n.children.primary,r,i)}}(t,n,n.segments)}(e.root,t.root)}class $c{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ic(this.queryParams)),this._queryParamMap}toString(){return Qc.serialize(this)}}class qc{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Bc(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yc(this)}}class Wc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ic(this.parameters)),this._parameterMap}toString(){return sh(this)}}function Gc(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function Kc(e,t){let n=[];return Bc(e.children,(e,r)=>{"primary"===r&&(n=n.concat(t(e,r)))}),Bc(e.children,(e,r)=>{"primary"!==r&&(n=n.concat(t(e,r)))}),n}class Zc{}class Jc{parse(e){const t=new uh(e);return new $c(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return Yc(t);if(n){const n=t.children.primary?e(t.children.primary,!1):"",r=[];return Bc(t.children,(t,n)=>{"primary"!==n&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Kc(t,(n,r)=>"primary"===r?[e(t.children.primary,!1)]:[`${r}:${e(n,!1)}`]);return`${Yc(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${eh(t)}=${eh(e)}`).join("&"):`${eh(t)}=${eh(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Qc=new Jc;function Yc(e){return e.segments.map(e=>sh(e)).join("/")}function Xc(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eh(e){return Xc(e).replace(/%3B/gi,";")}function th(e){return Xc(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nh(e){return decodeURIComponent(e)}function rh(e){return nh(e.replace(/\+/g,"%20"))}function sh(e){return`${th(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${th(e)}=${th(t[e])}`).join("")}`;var t}const ih=/^[^\/()?;=#]+/;function oh(e){const t=e.match(ih);return t?t[0]:""}const ah=/^[^=?&#]+/,lh=/^[^?&#]+/;class uh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qc([],{}):new qc([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new qc(e,t)),n}parseSegment(){const e=oh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Wc(nh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=oh(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=oh(this.remaining);e&&(n=e,this.capture(n))}e[nh(t)]=nh(n)}parseQueryParam(e){const t=function(e){const t=e.match(ah);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(lh);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=rh(t),s=rh(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=oh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s=void 0;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s="primary");const i=this.parseChildren();t[s]=1===Object.keys(i).length?i.primary:new qc([],i),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ch{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hh(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=hh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=dh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return dh(e,this._root).map(e=>e.value)}}function hh(e,t){if(e===t.value)return t;for(const n of t.children){const t=hh(e,n);if(t)return t}return null}function dh(e,t){if(e===t.value)return[t];for(const n of t.children){const r=dh(e,n);if(r.length)return r.unshift(t),r}return[]}class ph{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fh(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class gh extends ch{constructor(e,t){super(e),this.snapshot=t,wh(this,e)}toString(){return this.snapshot.toString()}}function mh(e,t){const n=function(e,t){const n=new vh([],{},{},"",{},"primary",t,null,e.root,-1,{});return new _h("",new ph(n,[]))}(e,t),r=new hl([new Wc("",{})]),s=new hl({}),i=new hl({}),o=new hl({}),a=new hl(""),l=new yh(r,s,o,a,i,"primary",t,n.root);return l.snapshot=n.root,new gh(new ph(l,[]),n)}class yh{constructor(e,t,n,r,s,i,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=i,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(q(e=>Ic(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(e=>Ic(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bh(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class vh{constructor(e,t,n,r,s,i,o,a,l,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=i,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ic(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ic(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _h extends ch{constructor(e,t){super(t),this.url=e,wh(this,t)}toString(){return xh(this._root)}}function wh(e,t){t.value._routerState=e,t.children.forEach(t=>wh(e,t))}function xh(e){const t=e.children.length>0?` { ${e.children.map(xh).join(", ")} } `:"";return`${e.value}${t}`}function Ch(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Fc(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Fc(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Fc(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Fc(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Sh(e,t){var n,r;return Fc(e.params,t.params)&&Gc(n=e.url,r=t.url)&&n.every((e,t)=>Fc(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Sh(e.parent,t.parent))}function Eh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function kh(e,t,n,r,s){let i={};return r&&Bc(r,(e,t)=>{i[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new $c(n.root===e?t:function e(t,n,r){const s={};return Bc(t.children,(t,i)=>{s[i]=t===n?r:e(t,n,r)}),new qc(t.segments,s)}(n.root,e,t),i,s)}class Th{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Eh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==Lc(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Oh{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Ah(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:`${e}`}function Ih(e,t,n){if(e||(e=new qc([],{})),0===e.segments.length&&e.hasChildren())return Nh(e,t,n);const r=function(e,t,n){let r=0,s=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(r>=n.length)return i;const t=e.segments[s],o=Ah(n[r]),a=r<n.length-1?n[r+1]:null;if(s>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Rh(o,a,t))return i;r+=2}else{if(!Rh(o,{},t))return i;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(e,t,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new qc(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new qc(e.segments.slice(r.pathIndex),e.children),Nh(t,0,s)}return r.match&&0===s.length?new qc(e.segments,{}):r.match&&!e.hasChildren()?Ph(e,t,n):r.match?Nh(e,0,s):Ph(e,t,n)}function Nh(e,t,n){if(0===n.length)return new qc(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{primary:e}:void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),s={};return Bc(r,(n,r)=>{null!==n&&(s[r]=Ih(e.children[r],t,n))}),Bc(e.children,(e,t)=>{void 0===r[t]&&(s[t]=e)}),new qc(e.segments,s)}}function Ph(e,t,n){const r=e.segments.slice(0,t);let s=0;for(;s<n.length;){if("object"==typeof n[s]&&void 0!==n[s].outlets){const e=Dh(n[s].outlets);return new qc(r,e)}if(0===s&&Eh(n[0])){r.push(new Wc(e.segments[t].path,n[0])),s++;continue}const i=Ah(n[s]),o=s<n.length-1?n[s+1]:null;i&&o&&Eh(o)?(r.push(new Wc(i,Mh(o))),s+=2):(r.push(new Wc(i,{})),s++)}return new qc(r,{})}function Dh(e){const t={};return Bc(e,(e,n)=>{null!==e&&(t[n]=Ph(new qc([],{}),0,e))}),t}function Mh(e){const t={};return Bc(e,(e,n)=>t[n]=`${e}`),t}function Rh(e,t,n){return e==n.path&&Fc(t,n.parameters)}class Vh{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Ch(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=fh(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Bc(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=fh(e),s=e.value.component?n.children:t;Bc(r,(e,t)=>this.deactivateRouteAndItsChildren(e,s)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=fh(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new kc(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Sc(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(Ch(r),r===s)if(r.component){const s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),jh(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),s=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=s,t.outlet&&t.outlet.activateWith(r,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function jh(e){Ch(e.value),e.children.forEach(jh)}function Fh(e){return"function"==typeof e}function Uh(e){return e instanceof $c}class Lh{constructor(e){this.segmentGroup=e||null}}class Bh{constructor(e){this.urlTree=e}}function Hh(e){return new C(t=>t.error(new Lh(e)))}function zh(e){return new C(t=>t.error(new Bh(e)))}function $h(e){return new C(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class qh{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Be)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(q(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(jl(e=>{if(e instanceof Bh)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Lh)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(q(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(jl(e=>{if(e instanceof Lh)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new qc([],{primary:e}):e;return new $c(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(q(e=>new qc([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return cl({});const n=[],r=[],s={};return Bc(e,(e,i)=>{const o=t(i,e).pipe(q(e=>s[i]=e));"primary"===i?n.push(o):r.push(o)}),cl.apply(null,n.concat(r)).pipe(vl(),Vl(),q(()=>s))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,s,i){return cl(...n).pipe(q(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,s,i).pipe(jl(e=>{if(e instanceof Lh)return cl(null);throw e}))),vl(),zl(e=>!!e),jl((e,n)=>{if(e instanceof pl||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,s))return cl(new qc([],{}));throw new Lh(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,s,i,o){return Zh(r)!==i?Hh(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i):Hh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?zh(s):this.lineralizeSegments(n,s).pipe(J(n=>{const s=new qc(n,{});return this.expandSegment(e,s,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:u}=Wh(t,r,s);if(!o)return Hh(t);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?zh(c):this.lineralizeSegments(r,c).pipe(J(r=>this.expandSegment(e,t,n,r.concat(s.slice(l)),i,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(q(e=>(n._loadedConfig=e,new qc(r,{})))):cl(new qc(r,{}));const{matched:s,consumedSegments:i,lastChild:o}=Wh(t,n,r);if(!s)return Hh(t);const a=r.slice(o);return this.getChildConfig(e,n,r).pipe(J(e=>{const n=e.module,r=e.routes,{segmentGroup:s,slicedSegments:o}=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some(n=>Kh(e,t,n)&&"primary"!==Zh(n))}(e,n,r)?{segmentGroup:Gh(new qc(t,function(e,t){const n={};n.primary=t;for(const r of e)""===r.path&&"primary"!==Zh(r)&&(n[Zh(r)]=new qc([],{}));return n}(r,new qc(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>Kh(e,t,n))}(e,n,r)?{segmentGroup:Gh(new qc(e.segments,function(e,t,n,r){const s={};for(const i of n)Kh(e,t,i)&&!r[Zh(i)]&&(s[Zh(i)]=new qc([],{}));return Object.assign({},r,s)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,i,a,r);return 0===o.length&&s.hasChildren()?this.expandChildren(n,r,s).pipe(q(e=>new qc(i,e))):0===r.length&&0===o.length?cl(new qc(i,{})):this.expandSegment(n,s,r,o,"primary",!0).pipe(q(e=>new qc(i.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?cl(new Dc(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?cl(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?Z(r).pipe(q(r=>{const s=e.get(r);let i;if(function(e){return e&&Fh(e.canLoad)}(s))i=s.canLoad(t,n);else{if(!Fh(s))throw new Error("Invalid CanLoad guard");i=s(t,n)}return Hc(i)})).pipe(vl(),$l(e=>!0===e)):cl(!0)}(e.injector,t,n).pipe(J(n=>n?this.configLoader.load(e.injector,t).pipe(q(e=>(t._loadedConfig=e,e))):function(e){return new C(t=>t.error(Nc(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):cl(new Dc([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return cl(n);if(r.numberOfChildren>1||!r.children.primary)return $h(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const s=this.createSegmentGroup(e,t.root,n,r);return new $c(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Bc(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);n[r]=t[s]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const s=this.createSegments(e,t.segments,n,r);let i={};return Bc(t.children,(t,s)=>{i[s]=this.createSegmentGroup(e,t,n,r)}),new qc(s,i)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Wh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||Pc)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Gh(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new qc(e.segments.concat(t.segments),t.children)}return e}function Kh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Zh(e){return e.outlet||"primary"}class Jh{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qh{constructor(e,t){this.component=e,this.route=t}}function Yh(e,t,n){const r=e._root;return function e(t,n,r,s,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=fh(n);return t.children.forEach(t=>{!function(t,n,r,s,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=n?n.value:null,l=r?r.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Gc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Gc(e.url,t.url)||!Fc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sh(e,t)||!Fc(e.queryParams,t.queryParams);case"paramsChange":default:return!Sh(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Jh(s)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,n,o.component?l?l.children:null:r,s,i),u&&i.canDeactivateChecks.push(new Qh(l&&l.outlet&&l.outlet.component||null,a))}else a&&ed(n,l,i),i.canActivateChecks.push(new Jh(s)),e(t,null,o.component?l?l.children:null:r,s,i)}(t,o[t.value.outlet],r,s.concat([t.value]),i),delete o[t.value.outlet]}),Bc(o,(e,t)=>ed(e,r.getContext(t),i)),i}(r,t?t._root:null,n,[r.value])}function Xh(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function ed(e,t,n){const r=fh(e),s=e.value;Bc(r,(e,r)=>{ed(e,s.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Qh(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}const td=Symbol("INITIAL_VALUE");function nd(){return Gl(e=>gl(...e.map(e=>e.pipe(Ll(1),Ql(td)))).pipe(Yl((e,t)=>{let n=!1;return t.reduce((e,r,s)=>{if(e!==td)return e;if(r===td&&(n=!0),!n){if(!1===r)return r;if(s===t.length-1||Uh(r))return r}return e},e)},td),_l(e=>e!==td),q(e=>Uh(e)?e:!0===e),Ll(1)))}function rd(e,t){return null!==e&&t&&t(new Ec(e)),cl(!0)}function sd(e,t){return null!==e&&t&&t(new Cc(e)),cl(!0)}function id(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?cl(r.map(r=>bl(()=>{const s=Xh(r,t,n);let i;if(function(e){return e&&Fh(e.canActivate)}(s))i=Hc(s.canActivate(t,e));else{if(!Fh(s))throw new Error("Invalid CanActivate guard");i=Hc(s(t,e))}return i.pipe(zl())}))).pipe(nd()):cl(!0)}function od(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>bl(()=>cl(t.guards.map(s=>{const i=Xh(s,t.node,n);let o;if(function(e){return e&&Fh(e.canActivateChild)}(i))o=Hc(i.canActivateChild(r,e));else{if(!Fh(i))throw new Error("Invalid CanActivateChild guard");o=Hc(i(r,e))}return o.pipe(zl())})).pipe(nd())));return cl(s).pipe(nd())}class ad{}class ld{constructor(e,t,n,r,s,i){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=i}recognize(){try{const e=hd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new vh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ph(n,t),s=new _h(this.url,r);return this.inheritParamsAndData(s._root),cl(s)}catch(e){return new C(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=bh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=Kc(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const i of e)try{return this.processSegmentAgainstRoute(i,t,n,r)}catch(s){if(!(s instanceof ad))throw s}if(this.noLeftoversInUrl(t,n,r))return[];throw new ad}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new ad;if((e.outlet||"primary")!==r)throw new ad;let s,i=[],o=[];if("**"===e.path){const i=n.length>0?Lc(n).parameters:{};s=new vh(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fd(e),r,e.component,e,ud(t),cd(t)+n.length,gd(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new ad;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||Pc)(n,e,t);if(!r)throw new ad;const s={};Bc(r.posParams,(e,t)=>{s[t]=e.path});const i=r.consumed.length>0?Object.assign({},s,r.consumed[r.consumed.length-1].parameters):s;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:i}}(t,e,n);i=a.consumedSegments,o=n.slice(a.lastChild),s=new vh(i,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fd(e),r,e.component,e,ud(t),cd(t)+i.length,gd(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=hd(t,i,o,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new ph(s,e)]}if(0===a.length&&0===u.length)return[new ph(s,[])];const c=this.processSegment(a,l,u,"primary");return[new ph(s,c)]}}function ud(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function cd(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function hd(e,t,n,r,s){if(n.length>0&&function(e,t,n){return n.some(n=>dd(e,t,n)&&"primary"!==pd(n))}(e,n,r)){const s=new qc(t,function(e,t,n,r){const s={};s.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const i of n)if(""===i.path&&"primary"!==pd(i)){const n=new qc([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,s[pd(i)]=n}return s}(e,t,r,new qc(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>dd(e,t,n))}(e,n,r)){const i=new qc(e.segments,function(e,t,n,r,s,i){const o={};for(const a of r)if(dd(e,n,a)&&!s[pd(a)]){const n=new qc([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===i?e.segments.length:t.length,o[pd(a)]=n}return Object.assign({},s,o)}(e,t,n,r,e.children,s));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}const i=new qc(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function dd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function pd(e){return e.outlet||"primary"}function fd(e){return e.data||{}}function gd(e){return e.resolve||{}}function md(e,t,n,r){const s=Xh(e,t,r);return Hc(s.resolve?s.resolve(t,n):s(t,n))}function yd(e){return function(t){return t.pipe(Gl(t=>{const n=e(t);return n?Z(n).pipe(q(()=>t)):Z([t])}))}}class bd{}class vd{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const _d=new Ne("ROUTES");class wd{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(q(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Dc(Uc(r.injector.get(_d)).map(jc),r)}))}loadModuleFactory(e){return"string"==typeof e?Z(this.loader.load(e)):Hc(e()).pipe(J(e=>e instanceof He?cl(e):Z(this.compiler.compileModuleAsync(e))))}}class xd{}class Cd{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Sd(e){throw e}function Ed(e,t,n){return t.parse("/")}function kd(e,t){return cl(null)}class Td{constructor(e,t,n,r,s,i,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A,this.errorHandler=Sd,this.malformedUriErrorHandler=Ed,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kd,afterPreactivation:kd},this.urlHandlingStrategy=new Cd,this.routeReuseStrategy=new vd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(Be),this.console=s.get(Rs);const l=s.get(Xs);this.isNgZoneEnabled=l instanceof Xs,this.resetConfig(a),this.currentUrlTree=new $c(new qc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wd(i,o,e=>this.triggerEvent(new wc(e)),e=>this.triggerEvent(new xc(e))),this.routerState=mh(this.currentUrlTree,this.rootComponentType),this.transitions=new hl({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(_l(e=>0!==e.id),q(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Gl(e=>{let n=!1,r=!1;return cl(e).pipe(Ol(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Gl(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return cl(e).pipe(Gl(e=>{const n=this.transitions.getValue();return t.next(new dc(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?al:[e]}),Gl(e=>Promise.resolve(e)),(r=this.ngModule.injector,s=this.configLoader,i=this.urlSerializer,o=this.config,function(e){return e.pipe(Gl(e=>function(e,t,n,r,s){return new qh(e,t,n,r,s).apply()}(r,s,i,e.extractedUrl,o).pipe(q(t=>Object.assign({},e,{urlAfterRedirects:t})))))}),Ol(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,s){return function(i){return i.pipe(J(i=>function(e,t,n,r,s="emptyOnly",i="legacy"){return new ld(e,t,n,r,s,i).recognize()}(e,t,i.urlAfterRedirects,n(i.urlAfterRedirects),r,s).pipe(q(e=>Object.assign({},i,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ol(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Ol(e=>{const n=new mc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,s,i,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:s,restoredState:i,extras:o}=e,a=new dc(n,this.serializeUrl(r),s,i);t.next(a);const l=mh(r,this.rootComponentType).snapshot;return cl(Object.assign({},e,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),al}),yd(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),Ol(e=>{const t=new yc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),q(e=>Object.assign({},e,{guards:Yh(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(J(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return 0===o.length&&0===i.length?cl(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return Z(e).pipe(J(e=>function(e,t,n,r,s){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?cl(i.map(i=>{const o=Xh(i,t,s);let a;if(function(e){return e&&Fh(e.canDeactivate)}(o))a=Hc(o.canDeactivate(e,t,n,r));else{if(!Fh(o))throw new Error("Invalid CanDeactivate guard");a=Hc(o(e,t,n,r))}return a.pipe(zl())})).pipe(nd()):cl(!0)}(e.component,e.route,n,t,r)),zl(e=>!0!==e,!0))}(o,r,s,e).pipe(J(n=>n&&"boolean"==typeof n?function(e,t,n,r){return Z(t).pipe(tu(t=>Z([sd(t.route.parent,r),rd(t.route,r),od(e,t.path,n),id(e,t.route,n)]).pipe(vl(),zl(e=>!0!==e,!0))),zl(e=>!0!==e,!0))}(r,i,e,t):cl(n)),q(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Ol(e=>{if(Uh(e.guardsResult)){const t=Nc(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Ol(e=>{const t=new bc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),_l(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new fc(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),yd(e=>{if(e.guards.canActivateChecks.length)return cl(e).pipe(Ol(e=>{const t=new vc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(t=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(e){return e.pipe(J(e=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=e;return s.length?Z(s).pipe(tu(e=>function(e,t,n,r){return function(e,t,n,r){const s=Object.keys(e);if(0===s.length)return cl({});if(1===s.length){const i=s[0];return md(e[i],t,n,r).pipe(q(e=>({[i]:e})))}const i={};return Z(s).pipe(J(s=>md(e[s],t,n,r).pipe(q(e=>(i[s]=e,e))))).pipe(Vl(),q(()=>i))}(e._resolve,e,t,r).pipe(q(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,bh(e,n).resolve),null)))}(e.route,r,t,n)),nu((e,t)=>e),q(t=>e)):cl(e)}))}),Ol(e=>{const t=new _c(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}));var t,n}),yd(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),q(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const s=r.value;s._futureSnapshot=n.value;const i=function(t,n,r){return n.children.map(n=>{for(const s of r.children)if(t.shouldReuseRoute(s.value.snapshot,n.value))return e(t,n,s);return e(t,n)})}(t,n,r);return new ph(s,i)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new yh(new hl((s=n.value).url),new hl(s.params),new hl(s.queryParams),new hl(s.fragment),new hl(s.data),s.outlet,s.component,s),i=n.children.map(n=>e(t,n));return new ph(r,i)}}var s}(e,t._root,n?n._root:void 0);return new gh(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),Ol(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,i=this.routeReuseStrategy,o=e=>this.triggerEvent(e),q(e=>(new Vh(i,e.targetRouterState,e.currentRouterState,o).activate(s),e))),Ol({next(){n=!0},complete(){n=!0}}),ru(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new fc(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),jl(n=>{if(r=!0,(s=n)&&s.ngNavigationCancelingError){const r=Uh(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const s=new fc(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(s),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new gc(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}var s;return al}));var s,i,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Mc(e),this.config=e.map(jc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:s,preserveQueryParams:i,queryParamsHandling:o,preserveFragment:a}=t;Xe()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=a?this.currentUrlTree.fragment:s;let c=null;if(o)switch(o){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=i?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,s){if(0===n.length)return kh(t.root,t.root,t,r,s);const i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Th(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,s)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Bc(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===s?(r.split("/").forEach((r,s)=>{0==s&&"."===r||(0==s&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Th(n,t,r)}(n);if(i.toRoot())return kh(t.root,new qc([],{}),t,r,s);const o=function(e,t,n){if(e.isAbsolute)return new Oh(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Oh(n.snapshot._urlSegment,!0,0);const r=Eh(e.commands[0])?0:1;return function(e,t,n){let r=e,s=t,i=n;for(;i>s;){if(i-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new Oh(r,!1,s-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(i,t,e),a=o.processChildren?Nh(o.segmentGroup,o.index,i.commands):Ih(o.segmentGroup,o.index,i.commands);return kh(o.segmentGroup,a,t,r,s)}(l,this.currentUrlTree,e,c,u)}navigateByUrl(e,t={skipLocationChange:!1}){Xe()&&this.isNgZoneEnabled&&!Xs.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Uh(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(Uh(e))return zc(this.currentUrlTree,e,t);const n=this.parseUrl(e);return zc(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new pc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const s=this.getTransition();if(s&&"imperative"!==t&&"imperative"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"hashchange"==t&&"popstate"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"popstate"==t&&"hashchange"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);let i=null,o=null;const a=new Promise((e,t)=>{i=e,o=t}),l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:i,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const s=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(s)||t?this.location.replaceState(s,"",Object.assign({},r,{navigationId:n})):this.location.go(s,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Od{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ad,this.attachRef=null}}class Ad{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Od,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Id{constructor(e,t,n,r,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ss,this.deactivateEvents=new Ss,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,s=new Nd(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Nd{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===yh?this.route:e===Ad?this.childContexts:this.parent.get(e,t)}}class Pd{}class Dd{preload(e,t){return t().pipe(jl(()=>cl(null)))}}class Md{preload(e,t){return cl(null)}}class Rd{constructor(e,t,n,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new wd(t,n,t=>e.triggerEvent(new wc(t)),t=>e.triggerEvent(new xc(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(_l(e=>e instanceof pc),tu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Be);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return Z(n).pipe(ee(),q(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(J(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class Vd{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof dc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof pc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Tc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Tc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const jd=new Ne("ROUTER_CONFIGURATION"),Fd=new Ne("ROUTER_FORROOT_GUARD"),Ud=[da,{provide:Zc,useClass:Jc},{provide:Td,useFactory:Wd,deps:[yi,Zc,Ad,da,Nt,vi,Hs,_d,jd,[xd,new fe],[bd,new fe]]},Ad,{provide:yh,useFactory:Gd,deps:[Td]},{provide:vi,useClass:xi},Rd,Md,Dd,{provide:jd,useValue:{enableTracing:!1}}];function Ld(){return new di("Router",Td)}class Bd{constructor(e,t){}static forRoot(e,t){return{ngModule:Bd,providers:[Ud,qd(e),{provide:Fd,useFactory:$d,deps:[[Td,new fe,new me]]},{provide:jd,useValue:t||{}},{provide:ca,useFactory:zd,deps:[la,[new pe(ha),new fe],jd]},{provide:Vd,useFactory:Hd,deps:[Td,il,jd]},{provide:Pd,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:Md},{provide:di,multi:!0,useFactory:Ld},[Kd,{provide:Ts,multi:!0,useFactory:Zd,deps:[Kd]},{provide:Qd,useFactory:Jd,deps:[Kd]},{provide:Ms,multi:!0,useExisting:Qd}]]}}static forChild(e){return{ngModule:Bd,providers:[qd(e)]}}}function Hd(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Vd(e,t,n)}function zd(e,t,n={}){return n.useHash?new fa(e,t):new ga(e,t)}function $d(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function qd(e){return[{provide:Ut,multi:!0,useValue:e},{provide:_d,multi:!0,useValue:e}]}function Wd(e,t,n,r,s,i,o,a,l={},u,c){const h=new Td(null,t,n,r,s,i,o,Uc(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const e=au();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function Gd(e){return e.routerState.root}class Kd{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new A}appInitializer(){return this.injector.get(ua,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Td),r=this.injector.get(jd);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?cl(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(jd),n=this.injector.get(Rd),r=this.injector.get(Vd),s=this.injector.get(Td),i=this.injector.get(yi);e===i.components[0]&&(this.isLegacyEnabled(t)?s.initialNavigation():this.isLegacyDisabled(t)&&s.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),s.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function Zd(e){return e.appInitializer.bind(e)}function Jd(e){return e.bootstrapListener.bind(e)}const Qd=new Ne("Router Initializer");var Yd=Gn({encapsulation:2,styles:[],data:{}});function Xd(e){return Yi(0,[(e()(),ji(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ns(1,212992,null,0,Id,[Ad,Nn,en,[8,null],Tt],null,null)],(function(e,t){e(t,1,0)}),null)}function ep(e){return Yi(0,[(e()(),ji(0,0,null,null,1,"ng-component",[],null,null,null,Xd,Yd)),ns(1,49152,null,0,Oc,[],null,null)],null,null)}var tp=Pr("ng-component",Oc,ep,{},{},[]);class np{constructor(){this.expanded=!0,this.cleanOnChange=!0,this.segments=[]}ngOnChanges(){this.cleanOnChange&&(this.segments=[]),"object"==typeof this.json?Object.keys(this.json).forEach(e=>{this.segments.push(this.parseKeyValue(e,this.json[e]))}):this.segments.push(this.parseKeyValue(`(${typeof this.json})`,this.json))}isExpandable(e){return"object"===e.type||"array"===e.type}toggle(e){this.isExpandable(e)&&(e.expanded=!e.expanded)}parseKeyValue(e,t){const n={key:e,value:t,type:void 0,description:""+t,expanded:this.expanded};switch(typeof n.value){case"number":n.type="number";break;case"boolean":n.type="boolean";break;case"function":n.type="function";break;case"string":n.type="string",n.description='"'+n.value+'"';break;case"undefined":n.type="undefined",n.description="undefined";break;case"object":null===n.value?(n.type="null",n.description="null"):Array.isArray(n.value)?(n.type="array",n.description="Array["+n.value.length+"] "+JSON.stringify(n.value)):n.value instanceof Date?n.type="date":(n.type="object",n.description="Object "+JSON.stringify(n.value))}return n}}class rp{}var sp=Gn({encapsulation:0,styles:['@charset "UTF-8";\n    .ngx-json-viewer[_ngcontent-%COMP%] {\n      font-family: monospace;\n      font-size: 1em;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      position: relative; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%] {\n        padding: 2px;\n        margin: 1px 1px 1px 12px; }\n        .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%] {\n          word-wrap: break-word; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%] {\n            position: absolute;\n            margin-left: -14px;\n            margin-top: 3px;\n            font-size: .8em;\n            line-height: 1.2em;\n            vertical-align: middle;\n            color: #787878; }\n            .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]::after {\n              display: inline-block;\n              content: "\u25ba";\n              -webkit-transition: -webkit-transform 0.1s ease-in;\n              transition: -webkit-transform 0.1s ease-in;\n              transition: transform 0.1s ease-in;\n              transition: transform 0.1s ease-in, -webkit-transform 0.1s ease-in; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%] {\n            color: #4E187C; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%] {\n            color: #999; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%] {\n            color: #000; }\n        .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%] {\n          margin-left: 12px; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #FF6B6B; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #009688; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #b938a4; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #05668D; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #fff; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #fff; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        background-color: red; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-key[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        background-color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%] {\n        white-space: nowrap; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%]    > .toggler[_ngcontent-%COMP%]::after {\n        -webkit-transform: rotate(90deg);\n                transform: rotate(90deg); }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]    > .toggler[_ngcontent-%COMP%] {\n        cursor: pointer; }'],data:{}});function ip(e){return Yi(0,[(e()(),ji(0,0,null,null,0,"div",[["class","toggler"]],null,null,null,null,null))],null,null)}function op(e){return Yi(0,[(e()(),ji(0,0,null,null,1,"span",[["class","segment-value"]],null,null,null,null,null)),(e()(),Zi(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.description)}))}function ap(e){return Yi(0,[(e()(),ji(0,0,null,null,2,"section",[["class","children"]],null,null,null,null,null)),(e()(),ji(1,0,null,null,1,"ngx-json-viewer",[],null,null,null,up,sp)),ns(2,573440,null,0,np,[],{json:[0,"json"],expanded:[1,"expanded"]},null)],(function(e,t){e(t,2,0,t.parent.context.$implicit.value,t.component.expanded)}),null)}function lp(e){return Yi(0,[(e()(),ji(0,0,null,null,17,"section",[],null,null,null,null,null)),rs(512,null,Wa,Ga,[Sn,En,sn,cn]),ns(2,278528,null,0,Za,[Wa],{ngClass:[0,"ngClass"]},null),Ki(32,3,new Array(2)),(e()(),ji(4,0,null,null,11,"section",[],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.toggle(e.context.$implicit)&&r),r}),null,null)),rs(512,null,Wa,Ga,[Sn,En,sn,cn]),ns(6,278528,null,0,Za,[Wa],{ngClass:[0,"ngClass"]},null),Gi(7,{"segment-main":0,expandable:1,expanded:2}),(e()(),Vi(16777216,null,null,1,null,ip)),ns(9,16384,null,0,Xa,[Nn,An],{ngIf:[0,"ngIf"]},null),(e()(),ji(10,0,null,null,1,"span",[["class","segment-key"]],null,null,null,null,null)),(e()(),Zi(11,null,["",""])),(e()(),ji(12,0,null,null,1,"span",[["class","segment-separator"]],null,null,null,null,null)),(e()(),Zi(-1,null,[": "])),(e()(),Vi(16777216,null,null,1,null,op)),ns(15,16384,null,0,Xa,[Nn,An],{ngIf:[0,"ngIf"]},null),(e()(),Vi(16777216,null,null,1,null,ap)),ns(17,16384,null,0,Xa,[Nn,An],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,r=e(t,3,0,"segment","segment-type-"+t.context.$implicit.type);e(t,2,0,r);var s=e(t,7,0,!0,n.isExpandable(t.context.$implicit),t.context.$implicit.expanded);e(t,6,0,s),e(t,9,0,n.isExpandable(t.context.$implicit)),e(t,15,0,!t.context.$implicit.expanded||!n.isExpandable(t.context.$implicit)),e(t,17,0,t.context.$implicit.expanded&&n.isExpandable(t.context.$implicit))}),(function(e,t){e(t,11,0,t.context.$implicit.key)}))}function up(e){return Yi(0,[(e()(),ji(0,0,null,null,2,"section",[["class","ngx-json-viewer"]],null,null,null,null,null)),(e()(),Vi(16777216,null,null,1,null,lp)),ns(2,278528,null,0,Qa,[Nn,An,Sn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.segments)}),null)}class cp{constructor(e){var t;this.rawFile=e;let n=(t=e)&&(t.nodeName||t.prop&&t.attr&&t.find)?e.value:e;this["_createFrom"+("string"==typeof n?"FakePath":"Object")](n)}_createFromFakePath(e){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)}_createFromObject(e){this.size=e.size,this.type=e.type,this.name=e.name}}class hp{constructor(e,t,n){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=e,this.some=t,this.options=n,this.file=new cp(t),this._file=t,e.options&&(this.method=e.options.method||"POST",this.alias=e.options.itemAlias||"file"),this.url=e.options.url}upload(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(e){return{form:e}}onProgress(e){return{progress:e}}onSuccess(e,t,n){return{response:e,status:t,headers:n}}onError(e,t,n){return{response:e,status:t,headers:n}}onCancel(e,t,n){return{response:e,status:t,headers:n}}onComplete(e,t,n){return{response:e,status:t,headers:n}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(e){this.onBuildForm(e)}_onProgress(e){this.progress=e,this.onProgress(e)}_onSuccess(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(e,t,n)}_onError(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(e,t,n)}_onCancel(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(e,t,n)}_onComplete(e,t,n){this.onComplete(e,t,n),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let dp=(()=>{class e{static getMimeClass(e){let t="application";return-1!==this.mime_psd.indexOf(e.type)?t="image":e.type.match("image.*")?t="image":e.type.match("video.*")?t="video":e.type.match("audio.*")?t="audio":"application/pdf"===e.type?t="pdf":-1!==this.mime_compress.indexOf(e.type)?t="compress":-1!==this.mime_doc.indexOf(e.type)?t="doc":-1!==this.mime_xsl.indexOf(e.type)?t="xls":-1!==this.mime_ppt.indexOf(e.type)&&(t="ppt"),"application"===t&&(t=this.fileTypeDetection(e.name)),t}static fileTypeDetection(e){let t={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},n=e.split(".");if(n.length<2)return"application";let r=n[n.length-1].toLowerCase();return void 0===t[r]?"application":t[r]}}return e.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],e.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],e.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],e.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],e.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],e})();class pp{constructor(e){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:e=>e._file,formatDataFunctionIsAsync:!1},this.setOptions(e),this.response=new Ss}setOptions(e){this.options=Object.assign(this.options,e),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let t=0;t<this.queue.length;t++)this.queue[t].url=this.options.url}addToQueue(e,t,n){let r=[];for(let a of e)r.push(a);let s=this._getFilters(n),i=this.queue.length,o=[];r.map(e=>{t||(t=this.options);let n=new cp(e);if(this._isValidFile(n,s,t)){let n=new hp(this,e,t);o.push(n),this.queue.push(n),this._onAfterAddingFile(n)}else this._onWhenAddingFileFailed(n,s[this._failFilterIndex],t)}),this.queue.length!==i&&(this._onAfterAddingAll(o),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(e){let t=this.getIndexOfItem(e),n=this.queue[t];n.isUploading&&n.cancel(),this.queue.splice(t,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(e){let t=this.getIndexOfItem(e),n=this.queue[t],r=this.options.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[r](n))}cancelItem(e){let t=this.getIndexOfItem(e),n=this.queue[t];n&&n.isUploading&&(this.options.isHTML5?n._xhr:n._form).abort()}uploadAll(){let e=this.getNotUploadedItems().filter(e=>!e.isUploading);e.length&&(e.map(e=>e._prepareToUploading()),e[0].upload())}cancelAll(){this.getNotUploadedItems().map(e=>e.cancel())}isFile(e){return function(e){return File&&e instanceof File}(e)}isFileLikeObject(e){return e instanceof cp}getIndexOfItem(e){return"number"==typeof e?e:this.queue.indexOf(e)}getNotUploadedItems(){return this.queue.filter(e=>!e.isUploaded)}getReadyItems(){return this.queue.filter(e=>e.isReady&&!e.isUploading).sort((e,t)=>e.index-t.index)}destroy(){}onAfterAddingAll(e){return{fileItems:e}}onBuildItemForm(e,t){return{fileItem:e,form:t}}onAfterAddingFile(e){return{fileItem:e}}onWhenAddingFileFailed(e,t,n){return{item:e,filter:t,options:n}}onBeforeUploadItem(e){return{fileItem:e}}onProgressItem(e,t){return{fileItem:e,progress:t}}onProgressAll(e){return{progress:e}}onSuccessItem(e,t,n,r){return{item:e,response:t,status:n,headers:r}}onErrorItem(e,t,n,r){return{item:e,response:t,status:n,headers:r}}onCancelItem(e,t,n,r){return{item:e,response:t,status:n,headers:r}}onCompleteItem(e,t,n,r){return{item:e,response:t,status:n,headers:r}}onCompleteAll(){}_mimeTypeFilter(e){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(e.type))}_fileSizeFilter(e){return!(this.options.maxFileSize&&e.size>this.options.maxFileSize)}_fileTypeFilter(e){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(dp.getMimeClass(e)))}_onErrorItem(e,t,n,r){e._onError(t,n,r),this.onErrorItem(e,t,n,r)}_onCompleteItem(e,t,n,r){e._onComplete(t,n,r),this.onCompleteItem(e,t,n,r);let s=this.getReadyItems()[0];this.isUploading=!1,s?s.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(e){return t=>t?e[t.toLowerCase()]||void 0:e}_xhrTransport(e){let t,n=this,r=e._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(e),"number"!=typeof e._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)t=this.options.formatDataFunction(e);else{t=new FormData,this._onBuildItemForm(e,t);const n=()=>t.append(e.alias,e._file,e.file.name);this.options.parametersBeforeFiles||n(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(n=>{let r=this.options.additionalParameter[n];"string"==typeof r&&r.indexOf("{{file_name}}")>=0&&(r=r.replace("{{file_name}}",e.file.name)),t.append(n,r)}),this.options.parametersBeforeFiles&&n()}if(r.upload.onprogress=t=>{let n=Math.round(t.lengthComputable?100*t.loaded/t.total:0);this._onProgressItem(e,n)},r.onload=()=>{let t=this._parseHeaders(r.getAllResponseHeaders()),n=this._transformResponse(r.response,t);this["_on"+(this._isSuccessCode(r.status)?"Success":"Error")+"Item"](e,n,r.status,t),this._onCompleteItem(e,n,r.status,t)},r.onerror=()=>{let t=this._parseHeaders(r.getAllResponseHeaders()),n=this._transformResponse(r.response,t);this._onErrorItem(e,n,r.status,t),this._onCompleteItem(e,n,r.status,t)},r.onabort=()=>{let t=this._parseHeaders(r.getAllResponseHeaders()),n=this._transformResponse(r.response,t);this._onCancelItem(e,n,r.status,t),this._onCompleteItem(e,n,r.status,t)},r.open(e.method,e.url,!0),r.withCredentials=e.withCredentials,this.options.headers)for(let s of this.options.headers)r.setRequestHeader(s.name,s.value);if(e.headers.length)for(let s of e.headers)r.setRequestHeader(s.name,s.value);this.authToken&&r.setRequestHeader(this.authTokenHeader,this.authToken),r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&n.response.emit(r.responseText)},this.options.formatDataFunctionIsAsync?t.then(e=>r.send(JSON.stringify(e))):r.send(t),this._render()}_getTotalProgress(e=0){if(this.options.removeAfterUpload)return e;let t=this.getNotUploadedItems().length,n=100/this.queue.length;return Math.round((t?this.queue.length-t:this.queue.length)*n+e*n/100)}_getFilters(e){if(!e)return this.options.filters;if(Array.isArray(e))return e;if("string"==typeof e){let t=e.match(/[^\s,]+/g);return this.options.filters.filter(e=>-1!==t.indexOf(e.name))}return this.options.filters}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(e,t,n){return this._failFilterIndex=-1,!t.length||t.every(t=>(this._failFilterIndex++,t.fn.call(this,e,n)))}_isSuccessCode(e){return e>=200&&e<300||304===e}_transformResponse(e,t){return e}_parseHeaders(e){let t,n,r,s={};return e?(e.split("\n").map(e=>{r=e.indexOf(":"),t=e.slice(0,r).trim().toLowerCase(),n=e.slice(r+1).trim(),t&&(s[t]=s[t]?s[t]+", "+n:n)}),s):s}_onWhenAddingFileFailed(e,t,n){this.onWhenAddingFileFailed(e,t,n)}_onAfterAddingFile(e){this.onAfterAddingFile(e)}_onAfterAddingAll(e){this.onAfterAddingAll(e)}_onBeforeUploadItem(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)}_onBuildItemForm(e,t){e._onBuildForm(t),this.onBuildItemForm(e,t)}_onProgressItem(e,t){let n=this._getTotalProgress(t);this.progress=n,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(n),this._render()}_onSuccessItem(e,t,n,r){e._onSuccess(t,n,r),this.onSuccessItem(e,t,n,r)}_onCancelItem(e,t,n,r){e._onCancel(t,n,r),this.onCancelItem(e,t,n,r)}}class fp{constructor(e){this.onFileSelected=new Ss,this.element=e}getOptions(){return this.uploader.options}getFilters(){return{}}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){let e=this.element.nativeElement.files,t=this.getOptions(),n=this.getFilters();this.uploader.addToQueue(e,t,n),this.onFileSelected.emit(e),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}}class gp{}function mp(...e){let t;return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),0===e.length?al:t?mp(e).pipe(q(e=>t(...e))):new C(t=>new yp(t,e))}class yp extends ${constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let r=0;r<n;r++){const e=z(this,t[r],null,r);e&&this.add(e)}}notifyNext(e,t,n,r,s){this.values[n]=t,s._hasValue||(s._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:r}=this,s=r.length;e._hasValue?(this.completed++,this.completed===s&&(n===s&&t.next(r),t.complete())):t.complete()}}const bp=new Ne("NgValueAccessor"),vp=new Ne("CompositionEventMode");class _p{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=au()?au().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}class wp{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xp extends wp{get formDirective(){return null}get path(){return null}}function Cp(){throw new Error("unimplemented")}class Sp extends wp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Cp()}get asyncValidator(){return Cp()}}class Ep{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class kp extends Ep{constructor(e){super(e)}}class Tp extends Ep{constructor(e){super(e)}}function Op(e){return null==e||0===e.length}const Ap=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ip{static min(e){return t=>{if(Op(t.value)||Op(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Op(t.value)||Op(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Op(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return Op(e.value)?null:Ap.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(Op(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return Ip.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Op(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Np);return 0==t.length?null:function(e){return Dp(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Np);return 0==t.length?null:function(e){return mp(function(e,t){return t.map(t=>t(e))}(e,t).map(Pp)).pipe(q(Dp))}}}function Np(e){return null!=e}function Pp(e){const t=Gt(e)?Z(e):e;if(!Kt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Dp(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function Mp(e){return e.validate?t=>e.validate(t):e}function Rp(e){return e.validate?t=>e.validate(t):e}class Vp{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}const jp='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Fp='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';class Up{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${jp}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Fp}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${jp}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Fp}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function Lp(e,t){return[...t.path,e]}function Bp(e,t){e||qp(t,"Cannot find control with"),t.valueAccessor||qp(t,"No value accessor for form control with"),e.validator=Ip.compose([e.validator,t.validator]),e.asyncValidator=Ip.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Hp(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Hp(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function Hp(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function zp(e,t){null==e&&qp(t,"Cannot find control with"),e.validator=Ip.compose([e.validator,t.validator]),e.asyncValidator=Ip.composeAsync([e.asyncValidator,t.asyncValidator])}function $p(e){return qp(e,"There is no FormControl instance attached to form control element with")}function qp(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function Wp(e){return null!=e?Ip.compose(e.map(Mp)):null}function Gp(e){return null!=e?Ip.composeAsync(e.map(Rp)):null}const Kp=[class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Ht}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Ht}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),s=this._getOptionValue(r.value);n.push(s)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},class{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Sp),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function Zp(e){const t=Qp(e)?e.validators:e;return Array.isArray(t)?Wp(t):t||null}function Jp(e,t){const n=Qp(t)?t.asyncValidators:e;return Array.isArray(n)?Gp(n):n||null}function Qp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Yp{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Zp(e)}setAsyncValidators(e){this.asyncValidator=Jp(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=Pp(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof ef?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof tf&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ss,this.statusChanges=new Ss}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Xp extends Yp{constructor(e=null,t,n){super(Zp(t),Jp(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ef extends Yp{constructor(e,t,n){super(Zp(t),Jp(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Xp?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class tf extends Yp{constructor(e,t,n){super(Zp(t),Jp(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Xp?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const nf=new Ne("NgFormSelectorWarning");class rf extends xp{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Lp(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Wp(this._validators)}get asyncValidator(){return Gp(this._asyncValidators)}_checkParentType(){}}class sf{}const of=new Ne("NgModelWithFormControlWarning");class af extends xp{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Ss}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return Bp(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){!function(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);zp(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);zp(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>$p(t)),t.valueAccessor.registerOnTouched(()=>$p(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&Bp(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=Wp(this._validators);this.form.validator=Ip.compose([this.form.validator,e]);const t=Gp(this._asyncValidators);this.form.asyncValidator=Ip.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||Up.missingFormException()}}class lf extends rf{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){cf(this._parent)&&Up.groupParentException()}}class uf extends xp{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Lp(this.name,this._parent)}get validator(){return Wp(this._validators)}get asyncValidator(){return Gp(this._asyncValidators)}_checkParentType(){cf(this._parent)&&Up.arrayParentException()}}function cf(e){return!(e instanceof lf||e instanceof af||e instanceof uf)}let hf=(()=>{class e extends Sp{constructor(e,t,n,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Ss,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||qp(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,s=void 0;return t.forEach(t=>{var i;t.constructor===_p?n=t:(i=t,Kp.some(e=>i.constructor===e)?(r&&qp(e,"More than one built-in value accessor matches form control with"),r=t):(s&&qp(e,"More than one custom value accessor matches form control with"),s=t))}),s||r||n||(qp(e,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(e){Up.disabledAttrWarning()}ngOnChanges(t){var n,r;this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Ht(t,n.currentValue)}(t,this.viewModel)&&("formControlName",n=e,this,r=this._ngModelWarningConfig,Xe()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Up.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Lp(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Wp(this._rawValidators)}get asyncValidator(){return Gp(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof lf)&&this._parent instanceof rf?Up.ngModelGroupException():this._parent instanceof lf||this._parent instanceof af||this._parent instanceof uf||Up.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e._ngModelWarningSentOnce=!1,e})();class df{}class pf{group(e,t=null){const n=this._reduceControls(e);let r=null,s=null,i=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,i=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new ef(n,{asyncValidators:s,updateOn:i,validators:r})}control(e,t,n){return new Xp(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new tf(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof Xp||e instanceof ef||e instanceof tf?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}class ff{static withConfig(e){return{ngModule:ff,providers:[{provide:nf,useValue:e.warnOnDeprecatedNgFormSelector}]}}}class gf{static withConfig(e){return{ngModule:gf,providers:[{provide:of,useValue:e.warnOnNgModelWithFormControl}]}}}class mf{constructor(e,t){this.hcs=e,this.fb=t,this.blueIcon=new L.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),this.greenIcon=new L.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),this.yellowIcon=new L.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-yellow.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),this.redIcon=new L.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),this.orangeIcon=new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),this.SelctedJson=[],this.uploader=new pp({}),this.reader=new FileReader,this.selectedMarker={},this.singleEventTrue=!1,this.allMarkers=[],this.values="",this.filterdBy="",this.numberOfHits=0,this.elementSelectedForEdeting={},this.newDocSample={type:"node",id:100,lat:1,lon:1,tags:{"addr:housenumber":"  ","addr:street":"  ",amenity:"doctors",healthcare:"  ","healthcare:speciality":" ",name:"  ",opening_hours:"  "},markedAs:"EntryFromHSMainz"},this.newDocString="",this.fileToUpload=null}ngOnInit(){this.myForm=this.fb.group({newDoctorObj:this.newDoc,editDoctorObj:this.elementSelectedForEdetingString}),this.reader.onload=e=>{var t=JSON.parse(e.target.result);console.log(t),t.forEach(e=>{this.hcs.addToIndexedDb(e)})},this.uploader.onAfterAddingFile=e=>{this.reader.readAsText(e._file)},this.map=L.map("map",{zoomControl:!1}).setView({lat:50,lon:8.25},12),this.map.on("dblclick",(function(e){alert("Lat, Lon : "+e.latlng.lat+", "+e.latlng.lng)})),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),this.hcs.cast_databaseHasData.subscribe(e=>{console.log(e),this.loadData()}),this.hcs.db.doctors.add({id:"test1"})}saveNewDoc(){var e;this.newDoc=this.myForm.get("newDoctorObj").value,e=JSON.parse(this.newDoc),confirm("save this Object to Database?")&&(console.log(this.newDoc),this.hcs.db.doctors.add(e).catch(e=>alert(e)))}loadDataByHand(){this.hcs.fetchOsm([49.946580628907704,8.174514770507812,50.06066538593667,8.332958221435547]),this.loadData()}refreshData(){this.hcs.db.doctors.toArray().then(e=>{this.JsonObj=e,this.SelctedJson=[]})}showOnMap(e){this.map.setView([e.lat,e.lon],18)}removeMrkers(){for(let e=0;e<this.allMarkers.length;e++)this.map.removeLayer(this.allMarkers[e])}loadData(){this.removeMrkers(),this.hcs.db.doctors.toArray().then(e=>{this.JsonObj=e,e.forEach(e=>{if("node"===e.type){var t=this.blueIcon;"OSM"==e.markedAs?t=this.greenIcon:"ChangeLater"==e.markedAs?t=this.redIcon:"Complete"==e.markedAs?t=this.orangeIcon:"OSM missing something"==e.markedAs&&(t=this.yellowIcon);var n=L.marker([e.lat,e.lon],{icon:t}).addTo(this.map).on("click",e=>{this.selectedMarker=e.target._popup;var t=e.target._popup._content;this.selectedMarker={target:{value:t.substring(3,t.indexOf("<"))}},this.onIdSearch(this.selectedMarker),this.singleEventTrue=!0}),r=L.popup().setLatLng([51.5,-.09]).setContent("ID:"+e.id+"<br>"+e.tags.name);n.bindPopup(r,{Width:"200px",className:"custom","overflow-x":"auto"}),this.allMarkers.push(n)}})})}markAs(e,t){console.log(e,t),this.hcs.addMarkChangesInDB(e,t),this.loadData()}createMarker(e,t){return L.marker([e.lan,e.lat],{icon:t})}createLayer(e,t){var n=[];return e.forEach(e=>{var r=L.marker([e.lan,e.lat],{icon:t});n.push(r)}),L.layerGroup(n)}onIdSearch(e){this.singleEventTrue=!1,this.values=e.target.value,this.SelctedJson=[],""!=this.values&&this.JsonObj.map(e=>{(""+e.id).includes(this.values+"")&&this.SelctedJson.push(e)}),this.filterdBy="Id",this.numberOfHits=this.SelctedJson.length}onNameSearch(e){this.singleEventTrue=!1,this.values=e.target.value,this.SelctedJson=[],""!=this.values&&"*"==this.values?this.SelctedJson=this.JsonObj:""!=this.values&&this.JsonObj.map(e=>{null!=e.tags&&(""+e.tags.name).toLowerCase().includes(this.values.toLowerCase()+"")&&this.SelctedJson.push(e)}),this.filterdBy="Name",this.numberOfHits=this.SelctedJson.length}onCustomSearch(e){this.singleEventTrue=!1,this.values=e.target.value,this.SelctedJson=[],""!=this.values&&this.JsonObj.map(e=>{e.hasOwnProperty(this.values)&&this.SelctedJson.push(e),null!=e.tags&&e.tags.hasOwnProperty(this.values)&&this.SelctedJson.push(e)})}selectForEditing(e){console.log(e),this.elementSelectedForEdeting=e,this.elementSelectedForEdetingString=JSON.stringify(this.elementSelectedForEdeting)}saveChangedDoc(){var e=this.myForm.get("editDoctorObj").value,t=JSON.parse(e);this.hcs.db.doctors.update(t.id,t).then((function(e){e?alert("success!"):alert("Nothing was updated")}))}delete(e){console.log(e),confirm("do want to delte this element?"+e.id)&&this.hcs.db.doctors.delete(e.id).then((function(e){console.log("success"),this.hcs.db.update()})),this.hcs.editDatabaseHasData(!0),this.refreshData()}createNewDocSample(){this.newDocSample.id+=1,this.newDocString=JSON.stringify(this.newDocSample),console.log(this.newDocSample)}downloadDatabase(){confirm("download the databse?")&&this.hcs.db.doctors.toArray((function(e){var t,n,r;t=e,console.log(t),n=JSON.stringify(t),(r=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),r.setAttribute("download","MyDoctorDatabase.json"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}))}onFileSelected(e){const t=e[0];var n=new FileReader;n.addEventListener("loadend",e=>{JSON.parse(n.result+"").forEach(e=>{this.hcs.db.doctors.update(e.id,e).then((function(t){console.log("update!"),0==t&&(console.log("meh"),this.hcs.db.doctors.add(e))}))})}),n.readAsText(t)}handleFileInput(e){this.fileToUpload=e.item(0),console.log(e)}}var yf=Object.keys,bf=Array.isArray,vf="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function _f(e,t){return"object"!=typeof t?e:(yf(t).forEach((function(n){e[n]=t[n]})),e)}var wf=Object.getPrototypeOf,xf={}.hasOwnProperty;function Cf(e,t){return xf.call(e,t)}function Sf(e,t){"function"==typeof t&&(t=t(wf(e))),yf(t).forEach((function(n){kf(e,n,t[n])}))}var Ef=Object.defineProperty;function kf(e,t,n,r){Ef(e,t,_f(n&&Cf(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Tf(e){return{from:function(t){return e.prototype=Object.create(t.prototype),kf(e.prototype,"constructor",e),{extend:Sf.bind(null,e.prototype)}}}}var Of=Object.getOwnPropertyDescriptor,Af=[].slice;function If(e,t,n){return Af.call(e,t,n)}function Nf(e,t){return t(e)}function Pf(e){if(!e)throw new Error("Assertion Failed")}function Df(e){vf.setImmediate?setImmediate(e):setTimeout(e,0)}function Mf(e,t){return e.reduce((function(e,n,r){var s=t(n,r);return s&&(e[s[0]]=s[1]),e}),{})}function Rf(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function Vf(e,t){if(Cf(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,s=t.length;r<s;++r){var i=Vf(e,t[r]);n.push(i)}return n}var o=t.indexOf(".");if(-1!==o){var a=e[t.substr(0,o)];return void 0===a?void 0:Vf(a,t.substr(o+1))}}function jf(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){Pf("string"!=typeof n&&"length"in n);for(var r=0,s=t.length;r<s;++r)jf(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var o=t.substr(0,i),a=t.substr(i+1);if(""===a)void 0===n?delete e[o]:e[o]=n;else{var l=e[o];l||(l=e[o]={}),jf(l,a,n)}}else void 0===n?delete e[t]:e[t]=n}}function Ff(e){var t={};for(var n in e)Cf(e,n)&&(t[n]=e[n]);return t}var Uf=[].concat;function Lf(e){return Uf.apply([],e)}var Bf="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(Lf([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return vf[e]})).map((function(e){return vf[e]}));function Hf(e){if(!e||"object"!=typeof e)return e;var t;if(bf(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(Hf(e[n]))}else if(Bf.indexOf(e.constructor)>=0)t=e;else for(var s in t=e.constructor?Object.create(e.constructor.prototype):{},e)Cf(e,s)&&(t[s]=Hf(e[s]));return t}function zf(e,t,n,r){return n=n||{},r=r||"",yf(e).forEach((function(s){if(Cf(t,s)){var i=e[s],o=t[s];"object"==typeof i&&"object"==typeof o&&i&&o&&""+i.constructor==""+o.constructor?zf(i,o,n,r+s+"."):i!==o&&(n[r+s]=t[s])}else n[r+s]=void 0})),yf(t).forEach((function(s){Cf(e,s)||(n[r+s]=t[s])})),n}var $f="undefined"!=typeof Symbol&&Symbol.iterator,qf=$f?function(e){var t;return null!=e&&(t=e[$f])&&t.apply(e)}:function(){return null},Wf={};function Gf(e){var t,n,r,s;if(1===arguments.length){if(bf(e))return e.slice();if(this===Wf&&"string"==typeof e)return[e];if(s=qf(e)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Kf="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Zf(e,t){Kf=e,Jf=t}var Jf=function(){return!0},Qf=!new Error("").stack;function Yf(){if(Qf)try{throw new Error}catch(e){return e}return new Error}function Xf(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Jf).map((function(e){return"\n"+e})).join("")):""}var eg=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tg=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(eg),ng={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function rg(e,t){this._e=Yf(),this.name=e,this.message=t}function sg(e,t,n,r){this._e=Yf(),this.failures=t,this.failedKeys=r,this.successCount=n}function ig(e,t){this._e=Yf(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map((function(e){return e.toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}(e,t)}Tf(rg).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Xf(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Tf(sg).from(rg),Tf(ig).from(rg);var og=tg.reduce((function(e,t){return e[t]=t+"Error",e}),{}),ag=rg,lg=tg.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=Yf(),this.name=n,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=ng[t]||n,this.inner=null)}return Tf(r).from(ag),e[t]=r,e}),{});lg.Syntax=SyntaxError,lg.Type=TypeError,lg.Range=RangeError;var ug=eg.reduce((function(e,t){return e[t+"Error"]=lg[t],e}),{}),cg=tg.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=lg[t]),e}),{});function hg(){}function dg(e){return e}function pg(e,t){return null==e||e===dg?t:function(n){return t(e(n))}}function fg(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function gg(e,t){return e===hg?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?fg(r,this.onsuccess):r),s&&(this.onerror=this.onerror?fg(s,this.onerror):s),void 0!==i?i:n}}function mg(e,t){return e===hg?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?fg(n,this.onsuccess):n),r&&(this.onerror=this.onerror?fg(r,this.onerror):r)}}function yg(e,t){return e===hg?t:function(n){var r=e.apply(this,arguments);_f(n,r);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?fg(s,this.onsuccess):s),i&&(this.onerror=this.onerror?fg(i,this.onerror):i),void 0===r?void 0===o?void 0:o:_f(r,o)}}function bg(e,t){return e===hg?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function vg(e,t){return e===hg?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}cg.ModifyError=sg,cg.DexieError=rg,cg.BulkError=ig;var _g={},wg=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=vf.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),xg=wg[0],Cg=wg[1],Sg=wg[2],Eg=Cg&&Cg.then,kg=xg&&xg.constructor,Tg=wg[3],Og=!!Sg,Ag=!1,Ig=Sg?function(){Sg.then(Yg)}:vf.setImmediate?setImmediate.bind(null,Yg):vf.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Yg(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Yg,0)},Ng=function(e,t){Lg.push([e,t]),Dg&&(Ig(),Dg=!1)},Pg=!0,Dg=!0,Mg=[],Rg=[],Vg=null,jg=dg,Fg={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:wm,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{wm(e[0],e[1])}catch(t){}}))}},Ug=Fg,Lg=[],Bg=0,Hg=[];function zg(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=hg,this._lib=!1;var t=this._PSD=Ug;if(Kf&&(this._stackHolder=Yf(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==_g)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Gg(this,this._value))}this._state=null,this._value=null,++t.ref,Wg(this,e)}var $g={get:function(){var e=Ug,t=lm;function n(n,r){var s=this,i=!e.global&&(e!==Ug||t!==lm);i&&dm();var o=new zg((function(t,o){Zg(s,new qg(vm(n,e,i),vm(r,e,i),t,o,e))}));return Kf&&Qg(o,this),o}return n.prototype=_g,n},set:function(e){kf(this,"then",e&&e.prototype===_g?$g:{get:function(){return e},set:$g.set})}};function qg(e,t,n,r,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=s}function Wg(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Xg();t&&"function"==typeof t.then?Wg(e,(function(e,n){t instanceof zg?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Kg(e)),n&&em()}}),Gg.bind(null,e))}catch(n){Gg(e,n)}}function Gg(e,t){if(Rg.push(t),null===e._state){var n=e._lib&&Xg();t=jg(t),e._state=!1,e._value=t,Kf&&null!==t&&"object"==typeof t&&!t._promise&&Rf((function(){var n=function e(t,n){var r;return Of(t,n)||(r=wf(t))&&e(r,n)}(t,"stack");t._promise=e,kf(t,"stack",{get:function(){return Ag?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){Mg.some((function(t){return t._value===e._value}))||Mg.push(e)}(e),Kg(e),n&&em()}}function Kg(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Zg(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),0===Bg&&(++Bg,Ng((function(){0==--Bg&&tm()}),[]))}function Zg(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Bg,Ng(Jg,[n,e,t])}else e._listeners.push(t)}function Jg(e,t,n){try{Vg=t;var r,s=t._value;t._state?r=e(s):(Rg.length&&(Rg=[]),r=e(s),-1===Rg.indexOf(s)&&function(e){for(var t=Mg.length;t;)if(Mg[--t]._value===e._value)return void Mg.splice(t,1)}(t)),n.resolve(r)}catch(i){n.reject(i)}finally{Vg=null,0==--Bg&&tm(),--n.psd.ref||n.psd.finalize()}}function Qg(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Yg(){Xg()&&em()}function Xg(){var e=Pg;return Pg=!1,Dg=!1,e}function em(){var e,t,n;do{for(;Lg.length>0;)for(e=Lg,Lg=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Lg.length>0);Pg=!0,Dg=!0}function tm(){var e=Mg;Mg=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Hg.slice(0),n=t.length;n;)t[--n]()}function nm(e){return new zg(_g,!1,e)}function rm(e,t){var n=Ug;return function(){var r=Xg(),s=Ug;try{return mm(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{mm(s,!1),r&&em()}}}Sf(zg.prototype,{then:$g,_then:function(e,t){Zg(this,new qg(null,null,e,t,Ug))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return this.then(null,"function"==typeof t?function(e){return e instanceof t?n(e):nm(e)}:function(e){return e&&e.name===t?n(e):nm(e)})},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),nm(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{Ag=!0;var e=function e(t,n,r){if(n.length===r)return n;var s="";if(!1===t._state){var i,o,a=t._value;null!=a?(i=a.name||"Error",o=a.message||a,s=Xf(a,0)):(i=a,o=""),n.push(i+(o?": "+o:"")+s)}return Kf&&((s=Xf(t._stackHolder,2))&&-1===n.indexOf(s)&&n.push(s),t._prev&&e(t._prev,n,r)),n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Ag=!1}}},timeout:function(e,t){var n=this;return e<1/0?new zg((function(r,s){var i=setTimeout((function(){return s(new lg.Timeout(t))}),e);n.then(r,s).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&kf(zg.prototype,Symbol.toStringTag,"Promise"),Fg.env=ym(),Sf(zg,{all:function(){var e=Gf.apply(null,arguments).map(pm);return new zg((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(s,i){return zg.resolve(s).then((function(n){e[i]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof zg)return e;if(e&&"function"==typeof e.then)return new zg((function(t,n){e.then(t,n)}));var t=new zg(_g,!0,e);return Qg(t,Vg),t},reject:nm,race:function(){var e=Gf.apply(null,arguments).map(pm);return new zg((function(t,n){e.map((function(e){return zg.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Ug},set:function(e){return Ug=e}},newPSD:cm,usePSD:bm,scheduler:{get:function(){return Ng},set:function(e){Ng=e}},rejectionMapper:{get:function(){return jg},set:function(e){jg=e}},follow:function(e,t){return new zg((function(n,r){return cm((function(t,n){var r=Ug;r.unhandleds=[],r.onunhandled=n,r.finalize=fg((function(){var e=this;Hg.push((function r(){0===e.unhandleds.length?t():n(e.unhandleds[0]),Hg.splice(Hg.indexOf(r),1)})),++Bg,Ng((function(){0==--Bg&&tm()}),[])}),r.finalize),e()}),t,n,r)}))}});var sm={awaits:0,echoes:0,id:0},im=0,om=[],am=0,lm=0,um=0;function cm(e,t,n,r){var s=Ug,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++um;var o=Fg.env;i.env=Og?{Promise:zg,PromiseProp:{value:zg,configurable:!0,writable:!0},all:zg.all,race:zg.race,resolve:zg.resolve,reject:zg.reject,nthen:_m(o.nthen,i),gthen:_m(o.gthen,i)}:{},t&&_f(i,t),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=bm(i,e,n,r);return 0===i.ref&&i.finalize(),a}function hm(){return sm.id||(sm.id=++im),++sm.awaits,sm.echoes+=7,sm.id}function dm(e){!sm.awaits||e&&e!==sm.id||(0==--sm.awaits&&(sm.id=0),sm.echoes=7*sm.awaits)}function pm(e){return sm.echoes&&e&&e.constructor===kg?(hm(),e.then((function(e){return dm(),e}),(function(e){return dm(),xm(e)}))):e}function fm(e){++lm,sm.echoes&&0!=--sm.echoes||(sm.echoes=sm.id=0),om.push(Ug),mm(e,!0)}function gm(){var e=om[om.length-1];om.pop(),mm(e,!1)}function mm(e,t){var n,r=Ug;if((t?!sm.echoes||am++&&e===Ug:!am||--am&&e===Ug)||(n=t?fm.bind(null,e):gm,Eg.call(xg,n)),e!==Ug&&(Ug=e,r===Fg&&(Fg.env=ym()),Og)){var s=Fg.env.Promise,i=e.env;Cg.then=i.nthen,s.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(vf,"Promise",i.PromiseProp),s.all=i.all,s.race=i.race,s.resolve=i.resolve,s.reject=i.reject)}}function ym(){var e=vf.Promise;return Og?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(vf,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:Cg.then,gthen:e.prototype.then}:{}}function bm(e,t,n,r,s){var i=Ug;try{return mm(e,!0),t(n,r,s)}finally{mm(i,!1)}}function vm(e,t,n){return"function"!=typeof e?e:function(){var r=Ug;n&&hm(),mm(t,!0);try{return e.apply(this,arguments)}finally{mm(r,!1)}}}function _m(e,t){return function(n,r){return e.call(this,vm(n,t,!1),vm(r,t,!1))}}function wm(e,t){var n;try{n=t.onuncatched(e)}catch(i){}if(!1!==n)try{var r,s={promise:t,reason:e};if(vf.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),_f(r,s)):vf.CustomEvent&&_f(r=new CustomEvent("unhandledrejection",{detail:s}),s),r&&vf.dispatchEvent&&(dispatchEvent(r),!vf.PromiseRejectionEvent&&vf.onunhandledrejection))try{vf.onunhandledrejection(r)}catch(o){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(i){}}var xm=zg.reject;function Cm(e){var t={},n=function(n,r){if(r){for(var s=arguments.length,i=new Array(s-1);--s;)i[s-1]=arguments[s];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,s=arguments.length;r<s;++r)i(arguments[r]);return n;function i(e,r,s){if("object"==typeof e)return o(e);r||(r=bg),s||(s=hg);var i={subscribers:[],fire:s,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=r(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(r,s)}};return t[e]=n[e]=i,i}function o(e){yf(e).forEach((function(t){var n=e[t];if(bf(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new lg.InvalidArgument("Invalid event config");var r=i(t,dg,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){Df((function(){e.apply(null,t)}))}))}))}}))}}var Sm,Em=String.fromCharCode(65535),km=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return Em}}(),Tm="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Om=[],Am="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Im=Am,Nm=Am,Pm=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function Dm(e,t){var n,r,s,i,o,a=Dm.dependencies,l=_f({addons:Dm.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},t),u=l.addons,c=l.autoOpen,h=l.indexedDB,d=l.IDBKeyRange,p=this._dbSchema={},f=[],g=[],m={},y=null,b=null,v=!1,_=null,w=!1,x="readwrite",C=this,S=new zg((function(e){n=e})),E=new zg((function(e,t){r=t})),k=!0,T=!!$m(h);function O(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function A(e,t,n,r){var s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){I(s,e)})),s}function I(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function N(e,t,n){var r=arguments.length;if(r<2)throw new lg.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];n=s.pop();var i=Lf(s);return[e,i,n]}function P(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=m[e]?m[e].hook:Cm(null,{creating:[gg,hg],reading:[pg,dg],updating:[yg,hg],deleting:[mg,hg]})}function D(e,t,n){return(n?Fm:Vm)((function(n){e.push(n),t&&t()}))}function M(e,t,n,r,s){return new zg((function(i,o){var a=n.length,l=a-1;if(0===a)return i();if(r){var u,c=Fm(o),h=Rm(null);Rf((function(){for(var r=0;r<a;++r){var o=n[r];s.call(u={onsuccess:null,onerror:null},o[0],o[1],t);var d=e.delete(o[0]);d._hookCtx=u,d.onerror=c,d.onsuccess=r===l?Rm(i):h}}),(function(e){throw u.onerror&&u.onerror(e),e}))}else for(var d=0;d<a;++d){var p=e.delete(n[d]);p.onerror=Vm(o),d===l&&(p.onsuccess=rm((function(){return i()})))}}))}function R(e,t,n,r){var s=this;this.db=C,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=Cm(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new zg((function(e,t){s._resolve=e,s._reject=t})),this._completion.then((function(){s.active=!1,s.on.complete.fire()}),(function(e){var t=s.active;return s.active=!1,s.on.error.fire(e),s.parent?s.parent._reject(e):t&&s.idbtrans&&s.idbtrans.abort(),xm(e)}))}function V(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function j(e,t){var n=null,r=null;if(t)try{n=t()}catch(o){r=o}var s=e._ctx,i=s.table;this._ctx={table:i,index:s.index,isPrimKey:!s.index||i.schema.primKey.keyPath&&s.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:s.or,valueMapper:i.hook.reading.fire}}function F(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function U(e,t){return e._cfg.version-t._cfg.version}function L(e,t,n){t.forEach((function(t){var r=n[t];e.forEach((function(e){t in e||(e===R.prototype||e instanceof R?kf(e,t,{get:function(){return this.table(t)}}):e[t]=new P(t,r))}))}))}function B(e,t,n,r,s,i){var o=rm(i?function(e,t,r){return n(i(e),t,r)}:n,s);e.onerror||(e.onerror=Vm(s)),e.onsuccess=function(e,t){return function(){try{e.apply(this,arguments)}catch(n){t(n)}}}(t?function(){var n=e.result;if(n){var i=function(){n.continue()};t(n,(function(e){i=e}),r,s)&&o(n.value,n,(function(e){i=e})),i()}else r()}:function(){var t=e.result;if(t){var n=function(){t.continue()};o(t.value,t,(function(e){n=e})),n()}else r()},s)}function H(e,t){return h.cmp(e,t)}function z(e,t){return H(e,t)>0?e:t}function $(e,t){return h.cmp(e,t)}function q(e,t){return h.cmp(t,e)}function W(e,t){return e<t?-1:e===t?0:1}function G(e,t){return e>t?-1:e===t?0:1}function K(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function Z(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var i=n[r],o=t.objectStore(i);s="getAll"in o;for(var a=0;a<o.indexNames.length;++a){var l=o.indexNames[a],u=o.index(l).keyPath,c="string"==typeof u?u:"["+If(u).join("+")+"]";if(e[i]){var h=e[i].idxByName[c];h&&(h.name=l)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&vf.WorkerGlobalScope&&vf instanceof vf.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s=!1)}function J(e){C.on("blocked").fire(e),Om.filter((function(e){return e.name===C.name&&e!==C&&!e._vcFired})).map((function(t){return t.on("versionchange").fire(e)}))}this.version=function(e){if(y||v)throw new lg.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=f.filter((function(t){return t._cfg.version===e}))[0];return t||(t=new O(e),f.push(t),f.sort(U),k=!1,t)},_f(O.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?_f(this._cfg.storesSource,e):e;var t={};f.forEach((function(e){_f(t,e._cfg.storesSource)}));var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),p=C._dbSchema=n,[m,C,R.prototype].forEach((function(e){for(var t in e)e[t]instanceof P&&delete e[t]})),L([m,C,R.prototype,this._cfg.tables],yf(n),n),g=yf(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){yf(e).forEach((function(n){if(null!==e[n]){var r={},s=function(e){var t=[];return e.split(",").forEach((function(e){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new Bm(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),bf(r),/\./.test(e)))})),t}(e[n]),i=s.shift();if(i.multi)throw new lg.Schema("Primary key cannot be multi-valued");i.keyPath&&jf(r,i.keyPath,i.auto?0:i.keyPath),s.forEach((function(e){if(e.auto)throw new lg.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new lg.Schema("Index must have a name and cannot be an empty string");jf(r,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),t[n]=new Hm(n,i,s,r)}}))}}),this._allTables=m,this._createTransaction=function(e,t,n,r){return new R(e,t,n,r)},this._whenReady=function(e){return w||Ug.letThrough?e():new zg((function(e,t){if(!v){if(!c)return void t(new lg.DatabaseClosed);C.open().catch(hg)}S.then(e,t)})).then(e)},this.verno=0,this.open=function(){if(v||y)return S.then((function(){return b?xm(b):C}));Kf&&(E._stackHolder=Yf()),v=!0,b=null,w=!1;var t=n,r=null;return zg.race([E,new zg((function(t,n){if(!h)throw new lg.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var s=k?h.open(e):h.open(e,Math.round(10*C.verno));if(!s)throw new lg.MissingAPI("IndexedDB API not available");s.onerror=Vm(n),s.onblocked=rm(J),s.onupgradeneeded=rm((function(t){if(r=s.transaction,k&&!C._allowEmptyDB){s.onerror=Um,r.abort(),s.result.close();var i=h.deleteDatabase(e);i.onsuccess=i.onerror=rm((function(){n(new lg.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else r.onerror=Vm(n),function(e,t,n){var r=C._createTransaction(x,g,p);r.create(t),r._completion.catch(n);var s=r._reject.bind(r);cm((function(){Ug.trans=r,0===e?(yf(p).forEach((function(e){A(t,e,p[e].primKey,p[e].indexes)})),zg.follow((function(){return C.on.populate.fire(r)})).catch(s)):function(e,t,n){var r=[],s=f.filter((function(t){return t._cfg.version===e}))[0];if(!s)throw new lg.Upgrade("Dexie specification of currently installed DB version is missing");p=C._dbSchema=s._cfg.dbschema;var i=!1;return f.filter((function(t){return t._cfg.version>e})).forEach((function(e){r.push((function(){var r=p,s=e._cfg.dbschema;Z(r,n),Z(s,n),p=C._dbSchema=s;var o=function(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var s=e[r],i=t[r];if(s){var o={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(s.primKey.src!==i.primKey.src)o.recreate=!0,n.change.push(o);else{var a=s.idxByName,l=i.idxByName;for(var u in a)l[u]||o.del.push(u);for(u in l){var c=a[u],h=l[u];c?c.src!==h.src&&o.change.push(h):o.add.push(h)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,i])}return n}(r,s);if(o.add.forEach((function(e){A(n,e[0],e[1].primKey,e[1].indexes)})),o.change.forEach((function(e){if(e.recreate)throw new lg.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach((function(e){I(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),I(t,e)})),e.del.forEach((function(e){t.deleteIndex(e)}))})),e._cfg.contentUpgrade)return i=!0,zg.follow((function(){e._cfg.contentUpgrade(t)}))})),r.push((function(t){i&&Im||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(e._cfg.dbschema,t)}))})),function e(){return r.length?zg.resolve(r.shift()(t.idbtrans)).then(e):zg.resolve()}().then((function(){!function(e,t){yf(e).forEach((function(n){t.db.objectStoreNames.contains(n)||A(t,n,e[n].primKey,e[n].indexes)}))}(p,n)}))}(e,r,t).catch(s)}))}((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,r,n)}),n),s.onsuccess=rm((function(){if(r=null,y=s.result,Om.push(C),k)!function(){if(C.verno=y.version/10,C._dbSchema=p={},0!==(g=If(y.objectStoreNames,0)).length){var e=y.transaction(zm(g),"readonly");g.forEach((function(t){for(var n=e.objectStore(t),r=n.keyPath,s=r&&"string"==typeof r&&-1!==r.indexOf("."),i=new Bm(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,s),o=[],a=0;a<n.indexNames.length;++a){var l=n.index(n.indexNames[a]);s=(r=l.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var u=new Bm(l.name,r,!!l.unique,!!l.multiEntry,!1,r&&"string"!=typeof r,s);o.push(u)}p[t]=new Hm(t,i,o,{})})),L([m],yf(p),p)}}();else if(y.objectStoreNames.length>0)try{Z(p,y.transaction(zm(y.objectStoreNames),"readonly"))}catch(n){}y.onversionchange=rm((function(e){C._vcFired=!0,C.on("versionchange").fire(e)})),T||"__dbnames"===e||Sm.dbnames.put({name:e}).catch(hg),t()}),n)}))]).then((function(){return _=[],zg.resolve(Dm.vip(C.on.ready.fire)).then((function e(){if(_.length>0){var t=_.reduce(vg,hg);return _=[],zg.resolve(Dm.vip(t)).then(e)}}))})).finally((function(){_=null})).then((function(){return v=!1,C})).catch((function(e){try{r&&r.abort()}catch(t){}return v=!1,C.close(),xm(b=e)})).finally((function(){w=!0,t()}))},this.close=function(){var e=Om.indexOf(C);if(e>=0&&Om.splice(e,1),y){try{y.close()}catch(t){}y=null}c=!1,b=new lg.DatabaseClosed,v&&r(b),S=new zg((function(e){n=e})),E=new zg((function(e,t){r=t}))},this.delete=function(){var t=arguments.length>0;return new zg((function(n,r){if(t)throw new lg.InvalidArgument("Arguments not allowed in db.delete()");function s(){C.close();var t=h.deleteDatabase(e);t.onsuccess=rm((function(){T||Sm.dbnames.delete(e).catch(hg),n()})),t.onerror=Vm(r),t.onblocked=J}v?S.then(s):s()}))},this.backendDB=function(){return y},this.isOpen=function(){return null!==y},this.hasBeenClosed=function(){return b&&b instanceof lg.DatabaseClosed},this.hasFailed=function(){return null!==b},this.dynamicallyOpened=function(){return k},this.name=e,Sf(this,{tables:{get:function(){return yf(m).map((function(e){return m[e]}))}}}),this.on=Cm(this,"populate","blocked","versionchange",{ready:[vg,hg]}),this.on.ready.subscribe=Nf(this.on.ready.subscribe,(function(e){return function(t,n){Dm.vip((function(){w?(b||zg.resolve().then(t),n&&e(t)):_?(_.push(t),n&&e(t)):(e(t),n||e((function e(){C.on.ready.unsubscribe(t),C.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=N.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){var r=Ug.trans;r&&r.db===C&&-1===e.indexOf("!")||(r=null);var s=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var i=t.map((function(e){var t=e instanceof P?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=x)throw new lg.InvalidArgument("Invalid transaction mode: "+e);e=x}if(r){if("readonly"===r.mode&&e===x){if(!s)throw new lg.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&i.forEach((function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!s)throw new lg.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),s&&r&&!r.active&&(r=null)}}catch(a){return r?r._promise(null,(function(e,t){t(a)})):xm(a)}return r?r._promise(e,o,"lock"):Ug.trans?bm(Ug.transless,(function(){return C._whenReady(o)})):C._whenReady(o);function o(){return zg.resolve().then((function(){var t,s=Ug.transless||Ug,o=C._createTransaction(e,i,p,r),a={trans:o,transless:s};r?o.idbtrans=r.idbtrans:o.create(),n.constructor===Tg&&hm();var l=zg.follow((function(){if(t=n.call(o,o))if(t.constructor===kg){var e=dm.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=Lm(t))}),a);return(t&&"function"==typeof t.then?zg.resolve(t).then((function(e){return o.active?e:xm(new lg.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return t}))).then((function(e){return r&&o._resolve(),o._completion.then((function(){return e}))})).catch((function(e){return o._reject(e),xm(e)}))}))}},this.table=function(e){if(!Cf(m,e))throw new lg.InvalidTable("Table "+e+" does not exist");return m[e]},Sf(P.prototype,{_trans:function(e,t,n){var r=this._tx||Ug.trans;return r&&r.db===C?r===Ug.trans?r._promise(e,t,n):cm((function(){return r._promise(e,t,n)}),{trans:r,transless:Ug.transless||Ug}):function e(t,n,r){if(w||Ug.letThrough){var s=C._createTransaction(t,n,p);try{s.create()}catch(i){return xm(i)}return s._promise(t,(function(e,t){return cm((function(){return Ug.trans=s,r(e,t,s)}))})).then((function(e){return s._completion.then((function(){return e}))}))}if(!v){if(!c)return xm(new lg.DatabaseClosed);C.open().catch(hg)}return S.then((function(){return e(t,n,r)}))}(e,[this.name],t)},_idbstore:function(e,t,n){var r=this.name;return this._trans(e,(function(e,n,s){if(-1===s.storeNames.indexOf(r))throw new lg.NotFound("Table"+r+" not part of transaction");return t(e,n,s.idbtrans.objectStore(r),s)}),n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore("readonly",(function(t,r,s){var i=s.get(e);i.onerror=Vm(r),i.onsuccess=rm((function(){t(n.hook.reading.fire(i.result))}),r)})).then(t)},where:function(e){if("string"==typeof e)return new V(this,e);if(bf(e))return new V(this,"["+e.join("+")+"]");var t=yf(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&km!==Em)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));n||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var r=this.schema.idxByName,s=t.reduce((function(t,n){return[t[0]||r[n],t[0]||!r[n]?K(t[1],(function(t){return""+Vf(t,n)==""+e[n]})):t[1]]}),[null,null]),i=s[0];return i?this.where(i.name).equals(e[i.keyPath]).filter(s[1]):n?this.filter(s[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new j(new V(this,bf(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new j(new V(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&Mm(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(Cf(t,r))try{n[r]=t[r]}catch(s){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(Dm.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===hg?this._idbstore(x,(function(t,n,r,s){t(M(r,s,e,!1,hg))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,t){var n=this;return this._idbstore(x,(function(r,s,i){if(!i.keyPath&&!n.schema.primKey.auto&&!t)throw new lg.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(i.keyPath&&t)throw new lg.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new lg.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var o,a,l=function(e){0===u.length?r(e):s(new ig(n.name+".bulkPut(): "+u.length+" of "+c+" operations failed",u))},u=[],c=e.length,h=n;if(n.hook.creating.fire===hg&&n.hook.updating.fire===hg){a=D(u);for(var d=0,p=e.length;d<p;++d)(o=t?i.put(e[d],t[d]):i.put(e[d])).onerror=a;o.onerror=D(u,l),o.onsuccess=jm(l)}else{var f=t||i.keyPath&&e.map((function(e){return Vf(e,i.keyPath)})),g=f&&Mf(f,(function(t,n){return null!=t&&[t,e[n]]}));(f?h.where(":id").anyOf(f.filter((function(e){return null!=e}))).modify((function(){this.value=g[this.primKey],g[this.primKey]=null})).catch(sg,(function(e){u=e.failures})).then((function(){for(var n=[],r=t&&[],s=f.length-1;s>=0;--s){var i=f[s];(null==i||g[i])&&(n.push(e[s]),t&&r.push(i),null!=i&&(g[i]=null))}return n.reverse(),t&&r.reverse(),h.bulkAdd(n,r)})).then((function(e){var t=f[f.length-1];return null!=t?t:e})):h.bulkAdd(e)).then(l).catch(ig,(function(e){u=u.concat(e.failures),l()})).catch(s)}}),"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore(x,(function(s,i,o,a){if(!o.keyPath&&!n.schema.primKey.auto&&!t)throw new lg.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new lg.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new lg.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return s();function l(e){0===d.length?s(e):i(new ig(n.name+".bulkAdd(): "+d.length+" of "+p+" operations failed",d))}var u,c,h,d=[],p=e.length;if(r!==hg){var f,g=o.keyPath;c=D(d,null,!0),h=Rm(null),Rf((function(){for(var n=0,s=e.length;n<s;++n){f={onerror:null,onsuccess:null};var i=t&&t[n],l=e[n],d=t?i:g?Vf(l,g):void 0,p=r.call(f,d,l,a);null==d&&null!=p&&(g?jf(l=Hf(l),g,p):i=p),(u=null!=i?o.add(l,i):o.add(l))._hookCtx=f,n<s-1&&(u.onerror=c,f.onsuccess&&(u.onsuccess=h))}}),(function(e){throw f.onerror&&f.onerror(e),e})),u.onerror=D(d,l,!0),u.onsuccess=Rm(l)}else{c=D(d);for(var m=0,y=e.length;m<y;++m)(u=t?o.add(e[m],t[m]):o.add(e[m])).onerror=c;u.onerror=D(d,l),u.onsuccess=jm(l)}}))},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(x,(function(r,s,i,o){var a={onsuccess:null,onerror:null};if(n!==hg){var l=null!=t?t:i.keyPath?Vf(e,i.keyPath):void 0,u=n.call(a,l,e,o);null==l&&null!=u&&(i.keyPath?jf(e,i.keyPath,u):t=u)}try{var c=null!=t?i.add(e,t):i.add(e);c._hookCtx=a,c.onerror=Fm(s),c.onsuccess=Rm((function(t){var n=i.keyPath;n&&jf(e,n,t),r(t)}))}catch(h){throw a.onerror&&a.onerror(h),h}}))},put:function(e,t){var n=this;if(this.hook.creating.fire!==hg||this.hook.updating.fire!==hg){var r=this.schema.primKey.keyPath,s=void 0!==t?t:r&&Vf(e,r);return null==s?this.add(e):(e=Hf(e),this._trans(x,(function(){return n.where(":id").equals(s).modify((function(){this.value=e})).then((function(r){return 0===r?n.add(e,t):s}))}),"locked"))}return this._idbstore(x,(function(n,r,s){var i=void 0!==t?s.put(e,t):s.put(e);i.onerror=Vm(r),i.onsuccess=rm((function(t){var r=s.keyPath;r&&jf(e,r,t.target.result),n(i.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(x,(function(t,n,r){var s=r.delete(e);s.onerror=Vm(n),s.onsuccess=rm((function(){t(s.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(x,(function(e,t,n){var r=n.clear();r.onerror=Vm(t),r.onsuccess=rm((function(){e(r.result)}))}))},update:function(e,t){if("object"!=typeof t||bf(t))throw new lg.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||bf(e))return this.where(":id").equals(e).modify(t);yf(t).forEach((function(n){jf(e,n,t[n])}));var n=Vf(e,this.schema.primKey.keyPath);return void 0===n?xm(new lg.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),Sf(R.prototype,{_lock:function(){return Pf(!Ug.global),++this._reculock,1!==this._reculock||Ug.global||(Ug.lockOwnerFor=this),this},_unlock:function(){if(Pf(!Ug.global),0==--this._reculock)for(Ug.global||(Ug.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{bm(e[1],e[0])}catch(t){}}return this},_locked:function(){return this._reculock&&Ug.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(Pf(!this.idbtrans),!e&&!y)switch(b&&b.name){case"DatabaseClosedError":throw new lg.DatabaseClosed(b);case"MissingAPIError":throw new lg.MissingAPI(b.message,b);default:throw new lg.OpenFailed(b)}if(!this.active)throw new lg.TransactionInactive;return Pf(null===this._completion._state),(e=this.idbtrans=e||y.transaction(zm(this.storeNames),this.mode)).onerror=rm((function(n){Um(n),t._reject(e.error)})),e.onabort=rm((function(n){Um(n),t.active&&t._reject(new lg.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=rm((function(){t.active=!1,t._resolve()})),this},_promise:function(e,t,n){var r=this;if(e===x&&this.mode!==x)return xm(new lg.ReadOnly("Transaction is readonly"));if(!this.active)return xm(new lg.TransactionInactive);if(this._locked())return new zg((function(s,i){r._blockedFuncs.push([function(){r._promise(e,t,n).then(s,i)},Ug])}));if(n)return cm((function(){var e=new zg((function(e,n){r._lock();var s=t(e,n,r);s&&s.then&&s.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var s=new zg((function(e,n){var s=t(e,n,r);s&&s.then&&s.then(e,n)}));return s._lib=!0,s},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=zg.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return e}));else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new zg((function(n,s){e.then((function(e){return t._waitingQueue.push(rm(n.bind(null,e)))}),(function(e){return t._waitingQueue.push(rm(s.bind(null,e)))})).finally((function(){t._waitingFor===r&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new lg.Abort),this.active=!1},tables:{get:(i="Transaction.tables",o=function(){return m},function(){return console.warn(i+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+Xf(Yf(),1)),o.apply(this,arguments)})},table:function(e){return new P(e,C.table(e).schema,this)}}),Sf(V.prototype,(function(){function e(e,t,n){var r=e instanceof V?new j(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new j(e,(function(){return d.only("")})).limit(0)}function n(e,t,n,r,s,i){for(var o=Math.min(e.length,r.length),a=-1,l=0;l<o;++l){var u=t[l];if(u!==r[l])return s(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):s(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;s(e[l],u)<0&&(a=l)}return o<r.length&&"next"===i?e+n.substr(e.length):o<e.length&&"prev"===i?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function r(t,r,s,i){var o,a,l,u,c,h,p,f=s.length;if(!s.every((function(e){return"string"==typeof e})))return e(t,"String expected.");function g(e){o=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),a=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),l="next"===e?W:G;var t=s.map((function(e){return{lower:a(e),upper:o(e)}})).sort((function(e,t){return l(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),h=e,p="next"===e?"":i}g("next");var m=new j(t,(function(){return d.bound(u[0],c[f-1]+i)}));m._ondirectionchange=function(e){g(e)};var y=0;return m._addAlgorithm((function(e,t,s){var i=e.key;if("string"!=typeof i)return!1;var o=a(i);if(r(o,c,y))return!0;for(var d=null,g=y;g<f;++g){var m=n(i,o,u[g],c[g],l,h);null===m&&null===d?y=g+1:(null===d||l(d,m)>0)&&(d=m)}return t(null!==d?function(){e.continue(d+p)}:s),!1})),m}return{between:function(n,r,s,i){s=!1!==s,i=!0===i;try{return H(n,r)>0||0===H(n,r)&&(s||i)&&(!s||!i)?t(this):new j(this,(function(){return d.bound(n,r,!s,!i)}))}catch(o){return e(this,Tm)}},equals:function(e){return new j(this,(function(){return d.only(e)}))},above:function(e){return new j(this,(function(){return d.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new j(this,(function(){return d.lowerBound(e)}))},below:function(e){return new j(this,(function(){return d.upperBound(e,!0)}))},belowOrEqual:function(e){return new j(this,(function(){return d.upperBound(e)}))},startsWith:function(t){return"string"!=typeof t?e(this,"String expected."):this.between(t,t+Em,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],Em)},equalsIgnoreCase:function(e){return r(this,(function(e,t){return e===t[0]}),[e],"")},anyOfIgnoreCase:function(){var e=Gf.apply(Wf,arguments);return 0===e.length?t(this):r(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=Gf.apply(Wf,arguments);return 0===e.length?t(this):r(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,Em)},anyOf:function(){var n=Gf.apply(Wf,arguments),r=$;try{n.sort(r)}catch(o){return e(this,Tm)}if(0===n.length)return t(this);var s=new j(this,(function(){return d.bound(n[0],n[n.length-1])}));s._ondirectionchange=function(e){n.sort(r="next"===e?$:q)};var i=0;return s._addAlgorithm((function(e,t,s){for(var o=e.key;r(o,n[i])>0;)if(++i===n.length)return t(s),!1;return 0===r(o,n[i])||(t((function(){e.continue(n[i])})),!1)})),s},notEqual:function(e){return this.inAnyRange([[-1/0,e],[e,km]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=Gf.apply(Wf,arguments);if(0===t.length)return new j(this);try{t.sort($)}catch(r){return e(this,Tm)}var n=t.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return n.push([t[t.length-1],km]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return t(this);if(!n.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&$(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",lg.InvalidArgument);var s,i=!r||!1!==r.includeLowers,o=r&&!0===r.includeUppers,a=$;function l(e,t){return a(e[0],t[0])}try{(s=n.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var s=e[n];if(H(t[0],s[1])<0&&H(t[1],s[0])>0){s[0]=H(i=s[0],o=t[0])<0?i:o,s[1]=z(s[1],t[1]);break}}var i,o;return n===r&&e.push(t),e}),[])).sort(l)}catch(g){return e(this,Tm)}var u=0,c=o?function(e){return $(e,s[u][1])>0}:function(e){return $(e,s[u][1])>=0},h=i?function(e){return q(e,s[u][0])>0}:function(e){return q(e,s[u][0])>=0},p=c,f=new j(this,(function(){return d.bound(s[0][0],s[s.length-1][1],!i,!o)}));return f._ondirectionchange=function(e){"next"===e?(p=c,a=$):(p=h,a=q),s.sort(l)},f._addAlgorithm((function(e,t,n){for(var r=e.key;p(r);)if(++u===s.length)return t(n),!1;return!!function(e){return!c(e)&&!h(e)}(r)||0!==H(r,s[u][1])&&0!==H(r,s[u][0])&&(t((function(){e.continue(a===$?s[u][0]:s[u][1])})),!1)})),f},startsWithAnyOf:function(){var n=Gf.apply(Wf,arguments);return n.every((function(e){return"string"==typeof e}))?0===n.length?t(this):this.inAnyRange(n.map((function(e){return[e,e+Em]}))):e(this,"startsWithAnyOf() only works with strings")}}})),Sf(j.prototype,(function(){function e(e,t){e.filter=K(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return K(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new lg.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function r(e,t){var r=n(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function i(e,t,n,s,i){var o=e.replayFilter?K(e.filter,e.replayFilter()):e.filter;e.or?function(){var a={},l=0;function u(){2==++l&&n()}function c(e,n,r){if(!o||o(n,r,u,s)){var i=n.primaryKey,l=""+i;"[object ArrayBuffer]"===l&&(l=""+new Uint8Array(i)),Cf(a,l)||(a[l]=!0,t(e,n,r))}}e.or._iterate(c,u,s,i),B(r(e,i),e.algorithm,c,u,s,!e.keysOnly&&e.valueMapper)}():B(r(e,i),K(e.algorithm,o),t,n,s,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,xm.bind(null,n.error)):n.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,xm.bind(null,t.error)):t.table._idbstore(x,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=K(t.algorithm,e)},_iterate:function(e,t,n,r){return i(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&_f(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read((function(n,r,s){i(t,e,n,r,s)}))},count:function(e){var t=this._ctx;if(F(t,!0))return this._read((function(e,r,s){var i=n(t,s),o=t.range?i.count(t.range):i.count();o.onerror=Vm(r),o.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}}),e);var r=0;return this._read((function(e,n,s){i(t,(function(){return++r,!1}),(function(){e(r)}),n,s)}),e)},sortBy:function(e,t){var n=e.split(".").reverse(),r=n[0],s=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var o="next"===this._ctx.dir?1:-1;function a(e,t){var n=i(e,s),r=i(t,s);return n<r?-o:n>r?o:0}return this.toArray((function(e){return e.sort(a)})).then(t)},toArray:function(e){var t=this._ctx;return this._read((function(e,r,o){if(s&&"next"===t.dir&&F(t,!0)&&t.limit>0){var a=t.table.hook.reading.fire,l=n(t,o),u=t.limit<1/0?l.getAll(t.range,t.limit):l.getAll(t.range);u.onerror=Vm(r),u.onsuccess=jm(a===dg?e:function(t){try{e(t.map(a))}catch(n){r(n)}})}else{var c=[];i(t,(function(e){c.push(e)}),(function(){e(c)}),r,o)}}),e)},offset:function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,F(n)?t(n,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):t(n,(function(){var t=e;return function(){return--t<0}})),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},until:function(t,n){return e(this._ctx,(function(e,r,s){return!t(e.value)||(r(s),n)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,(function(e){return t(e.value)})),function(e,t){e.isMatch=K(e.isMatch,t)}(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new V(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},primaryKeys:function(e){var t=this._ctx;if(s&&"next"===t.dir&&F(t,!0)&&t.limit>0)return this._read((function(e,r,s){var i=n(t,s),o=t.limit<1/0?i.getAllKeys(t.range,t.limit):i.getAllKeys(t.range);o.onerror=Vm(r),o.onsuccess=jm(e)})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,(function(e){var t=e.primaryKey.toString(),n=Cf(r,t);return r[t]=!0,!n})),this},modify:function(e){var t=this,n=this._ctx.table.hook,r=n.updating.fire,s=n.deleting.fire;return this._write((function(n,i,o,a){var l;if("function"==typeof e)l=r===hg&&s===hg?e:function(t){var n=Hf(t);if(!1===e.call(this,t,this))return!1;if(Cf(this,"value")){var i=zf(n,this.value),o=r.call(this,i,this.primKey,n,a);o&&(t=this.value,yf(o).forEach((function(e){jf(t,e,o[e])})))}else s.call(this,this.primKey,t,a)};else if(r===hg){var u=yf(e),c=u.length;l=function(t){for(var n=!1,r=0;r<c;++r){var s=u[r],i=e[s];Vf(t,s)!==i&&(jf(t,s,i),n=!0)}return n}}else{var h=e;e=Ff(h),l=function(t){var n=!1,s=r.call(this,e,this.primKey,Hf(t),a);return s&&_f(e,s),yf(e).forEach((function(r){var s=e[r];Vf(t,r)!==s&&(jf(t,r,s),n=!0)})),s&&(e=Ff(h)),n}}var d=0,p=0,f=!1,g=[],m=[],y=null;function b(e){return e&&(g.push(e),m.push(y)),i(new sg("Error modifying one or more objects",g,p,m))}function v(){f&&p+g.length===d&&(g.length>0?b():n(p))}t.clone().raw()._iterate((function(e,t){y=t.primaryKey;var n={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return g.push(e),m.push(n.primKey),v(),!0}if(!1!==l.call(n,e,n)){var s=!Cf(n,"value");++d,Rf((function(){var e=s?t.delete():t.update(n.value);e._hookCtx=n,e.onerror=Fm(r),e.onsuccess=Rm((function(){++p,v()}))}),r)}else n.onsuccess&&n.onsuccess(n.value)}),(function(){f=!0,v()}),b,o)}))},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,s=r!==hg;if(!s&&F(t)&&(t.isPrimKey&&!Nm||!n))return this._write((function(e,t,r){var s=Vm(t),i=n?r.count(n):r.count();i.onerror=s,i.onsuccess=function(){var o=i.result;Rf((function(){var t=n?r.delete(n):r.clear();t.onerror=s,t.onsuccess=function(){return e(o)}}),(function(e){return t(e)}))}}));var i=s?2e3:1e4;return this._write((function(n,o,a,l){var u=0,c=e.clone({keysOnly:!t.isMatch&&!s}).distinct().limit(i).raw(),h=[],d=function(){return c.each(s?function(e,t){h.push([t.primaryKey,t.value])}:function(e,t){h.push(t.primaryKey)}).then((function(){return h.sort(s?function(e,t){return $(e[0],t[0])}:$),M(a,l,h,s,r)})).then((function(){var e=h.length;return u+=e,h=[],e<i?u:d()}))};n(d())}))}}})),_f(this,{Collection:j,Table:P,Transaction:R,Version:O,WhereClause:V}),C.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+C.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+C.name+"'. Closing db now to resume the delete request."),C.close()})),C.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+C.name+"') was blocked"):console.warn("Upgrade '"+C.name+"' blocked by other connection holding version "+e.oldVersion/10)})),u.forEach((function(e){e(C)}))}function Mm(e,t){return yf(t).forEach((function(n){var r=function e(t){if("function"==typeof t)return new t;if(bf(t))return[e(t[0])];if(t&&"object"==typeof t){var n={};return Mm(n,t),n}return t}(t[n]);e[n]=r})),e}function Rm(e){return rm((function(t){var n=t.target,r=n._hookCtx,s=r.value||n.result,i=r&&r.onsuccess;i&&i(s),e&&e(s)}),e)}function Vm(e){return rm((function(t){return Um(t),e(t.target.error),!1}))}function jm(e){return rm((function(t){e(t.target.result)}))}function Fm(e){return rm((function(t){var n=t.target,r=n.error,s=n._hookCtx,i=s&&s.onerror;return i&&i(r),Um(t),e(r),!1}))}function Um(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function Lm(e){var t=function(t){return e.next(t)},n=s(t),r=s((function(t){return e.throw(t)}));function s(e){return function(t){var s=e(t),i=s.value;return s.done?i:i&&"function"==typeof i.then?i.then(n,r):bf(i)?zg.all(i).then(n,r):n(i)}}return s(t)()}function Bm(e,t,n,r,s,i,o){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=s,this.compound=i,this.dotted=o;var a="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(s?"++":"")+a}function Hm(e,t,n,r){this.name=e,this.primKey=t||new Bm,this.indexes=n||[new Bm],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=Mf(n,(function(e){return[e.name,e]}))}function zm(e){return 1===e.length?e[0]:e}function $m(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}Zf(Kf,Pm),Sf(Dm,cg),Sf(Dm,{delete:function(e){var t=new Dm(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new Dm(e).open().then((function(e){return e.close(),!0})).catch(Dm.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var t=$m(Dm.dependencies.indexedDB);return t?new zg((function(e,n){var r=t();r.onsuccess=function(t){e(If(t.target.result,0))},r.onerror=Vm(n)})).then(e):Sm.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&_f(this,e)}},applyStructure:Mm,ignoreTransaction:function(e){return Ug.trans?bm(Ug.transless,e):e()},vip:function(e){return cm((function(){return Ug.letThrough=!0,e()}))},async:function(e){return function(){try{var t=Lm(e.apply(this,arguments));return t&&"function"==typeof t.then?t:zg.resolve(t)}catch(n){return xm(n)}}},spawn:function(e,t,n){try{var r=Lm(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:zg.resolve(r)}catch(s){return xm(s)}},currentTransaction:{get:function(){return Ug.trans||null}},waitFor:function(e,t){var n=zg.resolve("function"==typeof e?Dm.ignoreTransaction(e):e).timeout(t||6e4);return Ug.trans?Ug.trans.waitFor(n):n},Promise:zg,debug:{get:function(){return Kf},set:function(e){Zf(e,"dexie"===e?function(){return!0}:Pm)}},derive:Tf,extend:_f,props:Sf,override:Nf,Events:Cm,getByKeyPath:Vf,setByKeyPath:jf,delByKeyPath:function(e,t){"string"==typeof t?jf(e,t,void 0):"length"in t&&[].map.call(t,(function(t){jf(e,t,void 0)}))},shallowClone:Ff,deepClone:Hf,getObjectDiff:zf,asap:Df,maxKey:km,minKey:-1/0,addons:[],connections:Om,MultiModifyError:lg.Modify,errnames:og,IndexSpec:Bm,TableSchema:Hm,dependencies:function(){try{return{indexedDB:vf.indexedDB||vf.mozIndexedDB||vf.webkitIndexedDB||vf.msIndexedDB,IDBKeyRange:vf.IDBKeyRange||vf.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:Dm,Dexie:Dm}),zg.rejectionMapper=function(e,t){if(!e||e instanceof rg||e instanceof TypeError||e instanceof SyntaxError||!e.name||!ug[e.name])return e;var n=new ug[e.name](t||e.message,e);return"stack"in e&&kf(n,"stack",{get:function(){return this.inner.stack}}),n},(Sm=new Dm("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==vf.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(e){return Sm.dbnames.put({name:e}).catch(hg)})),localStorage.removeItem("Dexie.DatabaseNames"))}catch(e){}}();var qm=Dm;class Wm extends A{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(e){return this.hasError?(e.error(this.thrownError),p.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),p.EMPTY):super._subscribe(e)}next(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}error(e){this.hasCompleted||super.error(e)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}function Gm(e){const{args:t,subscriber:n,params:r}=e,{callbackFunc:s,context:i,scheduler:o}=r;let{subject:a}=r;if(!a){a=r.subject=new Wm;const e=(...e)=>{this.add(o.schedule(Km,0,{value:e.length<=1?e[0]:e,subject:a}))};try{s.apply(i,[...t,e])}catch(l){a.error(l)}}this.add(a.subscribe(n))}function Km(e){const{value:t,subject:n}=e;n.next(t),n.complete()}function Zm(e){const{params:t,subscriber:n,context:r}=e,{callbackFunc:s,args:i,scheduler:o}=t;let a=t.subject;if(!a){a=t.subject=new Wm;const e=(...e)=>{const t=e.shift();this.add(t?o.schedule(Qm,0,{err:t,subject:a}):o.schedule(Jm,0,{value:e.length<=1?e[0]:e,subject:a}))};try{s.apply(r,[...i,e])}catch(l){this.add(o.schedule(Qm,0,{err:l,subject:a}))}}this.add(a.subscribe(n))}function Jm(e){const{value:t,subject:n}=e;n.next(t),n.complete()}function Qm(e){const{err:t,subject:n}=e;n.error(t)}function Ym(e){const{subscriber:t,condition:n}=e;if(t.closed)return;if(e.needIterate)try{e.state=e.iterate(e.state)}catch(s){return void t.error(s)}else e.needIterate=!0;if(n){let r;try{r=n(e.state)}catch(s){return void t.error(s)}if(!r)return void t.complete();if(t.closed)return}let r;try{r=e.resultSelector(e.state)}catch(s){return void t.error(s)}return t.closed||(t.next(r),t.closed)?void 0:this.schedule(e)}C.bindCallback=function e(t,n,r){if(n){if(!N(n))return(...s)=>e(t,r)(...s).pipe(q(e=>u(e)?n(...e):n(e)));r=n}return function(...e){const n=this;let s;const i={context:n,subject:s,callbackFunc:t,scheduler:r};return new C(o=>{if(r)return r.schedule(Gm,0,{args:e,subscriber:o,params:i});if(!s){s=new Wm;const r=(...e)=>{s.next(e.length<=1?e[0]:e),s.complete()};try{t.apply(n,[...e,r])}catch(a){b(s)?s.error(a):console.warn(a)}}return s.subscribe(o)})}},C.bindNodeCallback=function e(t,n,r){if(n){if(!N(n))return(...s)=>e(t,r)(...s).pipe(q(e=>u(e)?n(...e):n(e)));r=n}return function(...e){const n={subject:void 0,args:e,callbackFunc:t,scheduler:r,context:this};return new C(s=>{const{context:i}=n;let{subject:o}=n;if(r)return r.schedule(Zm,0,{params:n,subscriber:s,context:i});if(!o){o=n.subject=new Wm;const r=(...e)=>{const t=e.shift();t?o.error(t):(o.next(e.length<=1?e[0]:e),o.complete())};try{t.apply(i,[...e,r])}catch(a){b(o)?o.error(a):console.warn(a)}}return o.subscribe(s)})}},C.combineLatest=gl,C.concat=Jl,C.defer=bl,C.empty=ll,C.forkJoin=mp,C.from=Z,C.fromEvent=function e(t,n,r,i){return s(r)&&(i=r,r=void 0),i?e(t,n,r).pipe(q(e=>u(e)?i(...e):i(e))):new C(e=>{!function e(t,n,r,s,i){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,r,i),o=()=>e.removeEventListener(n,r,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,r),o=()=>e.off(n,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,r),o=()=>e.removeListener(n,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],n,r,s,i)}s.add(o)}(t,n,(function(t){e.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),e,r)})},C.fromEventPattern=function e(t,n,r){return r?e(t,n).pipe(q(e=>u(e)?r(...e):r(e))):new C(e=>{const r=(...t)=>e.next(1===t.length?t[0]:t);let i;try{i=t(r)}catch(o){return void e.error(o)}if(s(n))return()=>n(r,i)})},C.fromPromise=Z,C.generate=function(e,t,n,r,s){let i,o;return 1==arguments.length?(o=e.initialState,t=e.condition,n=e.iterate,i=e.resultSelector||X,s=e.scheduler):void 0===r||N(r)?(o=e,i=X,s=r):(o=e,i=r),new C(e=>{let r=o;if(s)return s.schedule(Ym,0,{subscriber:e,iterate:n,condition:t,resultSelector:i,state:r});for(;;){if(t){let n;try{n=t(r)}catch(a){return void e.error(a)}if(!n){e.complete();break}}let s;try{s=i(r)}catch(a){return void e.error(a)}if(e.next(s),e.closed)break;try{r=n(r)}catch(a){return void e.error(a)}}})},C.if=function(e,t=al,n=al){return bl(()=>e()?t:n)};class Xm extends p{constructor(e,t){super()}schedule(e,t=0){return this}}class ey extends Xm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(s){n=!0,r=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let ty=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class ny extends ty{constructor(e,t=ty.now){super(e,()=>ny.delegate&&ny.delegate!==this?ny.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return ny.delegate&&ny.delegate!==this?ny.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const ry=new ny(ey);function sy(e){return!u(e)&&e-parseFloat(e)+1>=0}function iy(e){const{subscriber:t,counter:n,period:r}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}function oy(...e){if(1===e.length){if(!u(e[0]))return e[0];e=e[0]}return K(e,void 0).lift(new ay)}C.interval=function(e=0,t=ry){return(!sy(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=ry),new C(n=>(n.add(t.schedule(iy,e,{subscriber:n,counter:0,period:e})),n))},C.merge=te;class ay{call(e,t){return t.subscribe(new ly(e))}}class ly extends ${constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let n=0;n<t&&!this.hasFirst;n++){let t=e[n],r=z(this,t,t,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(e,t,n,r,s){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==n){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}C.race=oy;const uy=new C(_);function cy(e){const{keys:t,index:n,subscriber:r,subscription:s,obj:i}=e;if(!r.closed)if(n<t.length){const e=t[n];r.next([e,i[e]]),s.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:s,obj:i}))}else r.complete()}function hy(e){const{start:t,index:n,count:r,subscriber:s}=e;n>=r?s.complete():(s.next(t),s.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function dy(e,t){return new C(t?n=>t.schedule(py,0,{error:e,subscriber:n}):t=>t.error(e))}function py({error:e,subscriber:t}){t.error(e)}function fy(e=0,t,n){let r=-1;return sy(t)?r=Number(t)<1?1:Number(t):N(t)&&(n=t),N(n)||(n=ry),new C(t=>{const s=sy(e)?e:+e-n.now();return n.schedule(gy,s,{index:0,period:r,subscriber:t})})}function gy(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function my(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),K(e,void 0).lift(new yy(t))}C.never=function(){return uy},C.of=cl,C.onErrorResumeNext=function e(...t){if(0===t.length)return al;const[n,...r]=t;return 1===t.length&&u(n)?e(...n):new C(t=>{const s=()=>t.add(e(...r).subscribe(t));return Z(n).subscribe({next(e){t.next(e)},error:s,complete:s})})},C.pairs=function(e,t){return new C(t?n=>{const r=Object.keys(e),s=new p;return s.add(t.schedule(cy,0,{keys:r,index:0,subscriber:n,subscription:s,obj:e})),s}:t=>{const n=Object.keys(e);for(let r=0;r<n.length&&!t.closed;r++){const s=n[r];e.hasOwnProperty(s)&&t.next([s,e[s]])}t.complete()})},C.range=function(e=0,t,n){return new C(r=>{void 0===t&&(t=e,e=0);let s=0,i=e;if(n)return n.schedule(hy,0,{index:s,count:t,start:e,subscriber:r});for(;;){if(s++>=t){r.complete();break}if(r.next(i++),r.closed)break}})},C.using=function(e,t){return new C(n=>{let r,s;try{r=e()}catch(o){return void n.error(o)}try{s=t(r)}catch(o){return void n.error(o)}const i=(s?Z(s):al).subscribe(n);return()=>{i.unsubscribe(),r&&r.unsubscribe()}})},C.throw=dy,C.throwError=dy,C.timer=fy;class yy{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new by(e,this.resultSelector))}}class by extends m{constructor(e,t,n=Object.create(null)){super(e),this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:null,this.values=n}_next(e){const t=this.iterators;u(e)?t.push(new _y(e)):t.push("function"==typeof e[V]?new vy(e[V]()):new wy(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let t=e[n];t.stillUnsubscribed?this.destination.add(t.subscribe(t,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let i=0;i<t;i++){let t=e[i];if("function"==typeof t.hasValue&&!t.hasValue())return}let r=!1;const s=[];for(let i=0;i<t;i++){let t=e[i],o=t.next();if(t.hasCompleted()&&(r=!0),o.done)return void n.complete();s.push(o.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),r&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class vy{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return e&&e.done}}class _y{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[V](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class wy extends ${constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[V](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e,t,n,r,s){this.buffer.push(t),this.parent.checkIterators()}subscribe(e,t){return z(this,this.observable,this,t)}}C.zip=my;const xy="undefined"!=typeof window&&window,Cy="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Sy="undefined"!=typeof global&&global,Ey=xy||Sy||Cy;function ky(e,t=null){return new Dy({method:"GET",url:e,headers:t})}function Ty(e,t,n){return new Dy({method:"POST",url:e,body:t,headers:n})}function Oy(e,t){return new Dy({method:"DELETE",url:e,headers:t})}function Ay(e,t,n){return new Dy({method:"PUT",url:e,body:t,headers:n})}function Iy(e,t,n){return new Dy({method:"PATCH",url:e,body:t,headers:n})}const Ny=q((e,t)=>e.response);function Py(e,t){return Ny(new Dy({method:"GET",url:e,responseType:"json",headers:t}))}let Dy=(()=>{class e extends C{constructor(e){super();const t={async:!0,createXHR:function(){return this.crossDomain?function(){if(Ey.XMLHttpRequest)return new Ey.XMLHttpRequest;if(Ey.XDomainRequest)return new Ey.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(Ey.XMLHttpRequest)return new Ey.XMLHttpRequest;{let t;try{const n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(let r=0;r<3;r++)try{if(t=n[r],new Ey.ActiveXObject(t))break}catch(e){}return new Ey.ActiveXObject(t)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)t.url=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);this.request=t}_subscribe(e){return new My(e,this.request)}}return e.create=(()=>{const t=t=>new e(t);return t.get=ky,t.post=Ty,t.delete=Oy,t.put=Ay,t.patch=Iy,t.getJSON=Py,t})(),e})();class My extends m{constructor(e,t){super(e),this.request=t,this.done=!1;const n=t.headers=t.headers||{};t.crossDomain||this.getHeader(n,"X-Requested-With")||(n["X-Requested-With"]="XMLHttpRequest"),this.getHeader(n,"Content-Type")||Ey.FormData&&t.body instanceof Ey.FormData||void 0===t.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),t.body=this.serializeBody(t.body,this.getHeader(t.headers,"Content-Type")),this.send()}next(e){this.done=!0;const{xhr:t,request:n,destination:r}=this;let s;try{s=new Ry(e,t,n)}catch(i){return r.error(i)}r.next(s)}send(){const{request:e,request:{user:t,method:n,url:r,async:s,password:i,headers:o,body:a}}=this;try{const l=this.xhr=e.createXHR();this.setupEvents(l,e),t?l.open(n,r,s,t,i):l.open(n,r,s),s&&(l.timeout=e.timeout,l.responseType=e.responseType),"withCredentials"in l&&(l.withCredentials=!!e.withCredentials),this.setHeaders(l,o),a?l.send(a):l.send()}catch(l){this.error(l)}}serializeBody(e,t){if(!e||"string"==typeof e)return e;if(Ey.FormData&&e instanceof Ey.FormData)return e;if(t){const e=t.indexOf(";");-1!==e&&(t=t.substring(0,e))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&");case"application/json":return JSON.stringify(e);default:return e}}setHeaders(e,t){for(let n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])}getHeader(e,t){for(let n in e)if(n.toLowerCase()===t.toLowerCase())return e[n]}setupEvents(e,t){const n=t.progressSubscriber;function r(e){const{subscriber:t,progressSubscriber:n,request:s}=r;let i;n&&n.error(e);try{i=new Uy(this,s)}catch(o){i=o}t.error(i)}if(e.ontimeout=r,r.request=t,r.subscriber=this,r.progressSubscriber=n,e.upload&&"withCredentials"in e){if(n){let t;t=function(e){const{progressSubscriber:n}=t;n.next(e)},Ey.XDomainRequest?e.onprogress=t:e.upload.onprogress=t,t.progressSubscriber=n}let r;r=function(e){const{progressSubscriber:t,subscriber:n,request:s}=r;let i;t&&t.error(e);try{i=new jy("ajax error",this,s)}catch(o){i=o}n.error(i)},e.onerror=r,r.request=t,r.subscriber=this,r.progressSubscriber=n}function s(e){}function i(e){const{subscriber:t,progressSubscriber:n,request:r}=i;if(4===this.readyState){let i=1223===this.status?204:this.status,o="text"===this.responseType?this.response||this.responseText:this.response;if(0===i&&(i=o?200:0),i<400)n&&n.complete(),t.next(e),t.complete();else{let o;n&&n.error(e);try{o=new jy("ajax error "+i,this,r)}catch(s){o=s}t.error(o)}}}e.onreadystatechange=s,s.subscriber=this,s.progressSubscriber=n,s.request=t,e.onload=i,i.subscriber=this,i.progressSubscriber=n,i.request=t}unsubscribe(){const{done:e,xhr:t}=this;!e&&t&&4!==t.readyState&&"function"==typeof t.abort&&t.abort(),super.unsubscribe()}}class Ry{constructor(e,t,n){this.originalEvent=e,this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=Fy(this.responseType,t)}}function Vy(e,t,n){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=Fy(this.responseType,t),this}Vy.prototype=Object.create(Error.prototype);const jy=Vy;function Fy(e,t){switch(e){case"json":return function(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(t);case"xml":return t.responseXML;case"text":default:return"response"in t?t.response:t.responseText}}const Uy=function(e,t){return jy.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this};C.ajax=Dy.create;class Ly extends ey{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}class By extends ny{}const Hy=new By(Ly);let zy=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return cl(this.value);case"E":return dy(this.error);case"C":return ll()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function $y(e,t=0){return function(n){return n.lift(new qy(e,t))}}class qy{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new Wy(e,this.scheduler,this.delay))}}class Wy extends m{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Wy.dispatch,this.delay,new Gy(e,this.destination)))}_next(e){this.scheduleMessage(zy.createNext(e))}_error(e){this.scheduleMessage(zy.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(zy.createComplete()),this.unsubscribe()}}class Gy{constructor(e,t){this.notification=e,this.destination=t}}class Ky extends A{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new Zy(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=n.length;let i;if(this.closed)throw new k;if(this.isStopped||this.hasError?i=p.EMPTY:(this.observers.push(e),i=new T(this,e)),r&&e.add(e=new Wy(e,r)),t)for(let o=0;o<s&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<s&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),i}_getNow(){return(this.scheduler||Hy).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,s=r.length;let i=0;for(;i<s&&!(e-r[i].time<n);)i++;return s>t&&(i=Math.max(i,s-t)),i>0&&r.splice(0,i),r}}class Zy{constructor(e,t){this.time=e,this.value=t}}const Jy={url:"",deserializer:e=>JSON.parse(e.data),serializer:e=>JSON.stringify(e)};class Qy extends I{constructor(e,t){if(super(),e instanceof C)this.destination=t,this.source=e;else{const t=this._config=Object.assign({},Jy);if(this._output=new A,"string"==typeof e)t.url=e;else for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(!t.WebSocketCtor&&WebSocket)t.WebSocketCtor=WebSocket;else if(!t.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new Ky}}lift(e){const t=new Qy(this._config,this.destination);return t.operator=e,t.source=this,t}_resetState(){this._socket=null,this.source||(this.destination=new Ky),this._output=new A}multiplex(e,t,n){const r=this;return new C(s=>{try{r.next(e())}catch(o){s.error(o)}const i=r.subscribe(e=>{try{n(e)&&s.next(e)}catch(o){s.error(o)}},e=>s.error(e),()=>s.complete());return()=>{try{r.next(t())}catch(o){s.error(o)}i.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:e,protocol:t,url:n,binaryType:r}=this._config,s=this._output;let i=null;try{i=t?new e(n,t):new e(n),this._socket=i,r&&(this._socket.binaryType=r)}catch(a){return void s.error(a)}const o=new p(()=>{this._socket=null,i&&1===i.readyState&&i.close()});i.onopen=e=>{const{_socket:t}=this;if(!t)return i.close(),void this._resetState();const{openObserver:n}=this._config;n&&n.next(e);const r=this.destination;this.destination=m.create(t=>{if(1===i.readyState)try{const{serializer:e}=this._config;i.send(e(t))}catch(e){this.destination.error(e)}},e=>{const{closingObserver:t}=this._config;t&&t.next(void 0),e&&e.code?i.close(e.code,e.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:e}=this._config;e&&e.next(void 0),i.close(),this._resetState()}),r&&r instanceof Ky&&o.add(r.subscribe(this.destination))},i.onerror=e=>{this._resetState(),s.error(e)},i.onclose=e=>{this._resetState();const{closeObserver:t}=this._config;t&&t.next(e),e.wasClean?s.complete():s.error(e)},i.onmessage=e=>{try{const{deserializer:t}=this._config;s.next(t(e))}catch(t){s.error(t)}}}_subscribe(e){const{source:t}=this;return t?t.subscribe(e):(this._socket||this._connectSocket(),this._output.subscribe(e),e.add(()=>{const{_socket:e}=this;0===this._output.observers.length&&(e&&1===e.readyState&&e.close(),this._resetState())}),e)}unsubscribe(){const{_socket:e}=this;e&&1===e.readyState&&e.close(),this._resetState(),super.unsubscribe()}}function Yy(e){return function(t){return t.lift(new Xy(e))}}C.webSocket=function(e){return new Qy(e)};class Xy{constructor(e){this.closingNotifier=e}call(e,t){return t.subscribe(new eb(e,this.closingNotifier))}}class eb extends ${constructor(e,t){super(e),this.buffer=[],this.add(z(this,t))}_next(e){this.buffer.push(e)}notifyNext(e,t,n,r,s){const i=this.buffer;this.buffer=[],this.destination.next(i)}}function tb(e,t=null){return function(n){return n.lift(new nb(e,t))}}C.prototype.buffer=function(e){return Yy(e)(this)};class nb{constructor(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?sb:rb}call(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}class rb extends m{constructor(e,t){super(e),this.bufferSize=t,this.buffer=[]}_next(e){const t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}_complete(){const e=this.buffer;e.length>0&&this.destination.next(e),super._complete()}}class sb extends m{constructor(e,t,n){super(e),this.bufferSize=t,this.startBufferEvery=n,this.buffers=[],this.count=0}_next(e){const{bufferSize:t,startBufferEvery:n,buffers:r,count:s}=this;this.count++,s%n==0&&r.push([]);for(let i=r.length;i--;){const n=r[i];n.push(e),n.length===t&&(r.splice(i,1),this.destination.next(n))}}_complete(){const{buffers:e,destination:t}=this;for(;e.length>0;){let n=e.shift();n.length>0&&t.next(n)}super._complete()}}function ib(e){let t=arguments.length,n=ry;N(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);let r=null;t>=2&&(r=arguments[1]);let s=Number.POSITIVE_INFINITY;return t>=3&&(s=arguments[2]),function(t){return t.lift(new ob(e,r,s,n))}}C.prototype.bufferCount=function(e,t=null){return tb(e,t)(this)};class ob{constructor(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}call(e,t){return t.subscribe(new lb(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class ab{constructor(){this.buffer=[]}}class lb extends m{constructor(e,t,n,r,s){super(e),this.bufferTimeSpan=t,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=s,this.contexts=[];const i=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly)this.add(i.closeAction=s.schedule(ub,t,{subscriber:this,context:i,bufferTimeSpan:t}));else{const e={bufferTimeSpan:t,bufferCreationInterval:n,subscriber:this,scheduler:s};this.add(i.closeAction=s.schedule(hb,t,{subscriber:this,context:i})),this.add(s.schedule(cb,n,e))}}_next(e){const t=this.contexts,n=t.length;let r;for(let s=0;s<n;s++){const n=t[s],i=n.buffer;i.push(e),i.length==this.maxBufferSize&&(r=n)}r&&this.onBufferFull(r)}_error(e){this.contexts.length=0,super._error(e)}_complete(){const{contexts:e,destination:t}=this;for(;e.length>0;){const n=e.shift();t.next(n.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(e){this.closeContext(e);const t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();const t=this.bufferTimeSpan;this.add(e.closeAction=this.scheduler.schedule(ub,t,{subscriber:this,context:e,bufferTimeSpan:t}))}}openContext(){const e=new ab;return this.contexts.push(e),e}closeContext(e){this.destination.next(e.buffer);const t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)}}function ub(e){const t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function cb(e){const{bufferCreationInterval:t,bufferTimeSpan:n,subscriber:r,scheduler:s}=e,i=r.openContext();r.closed||(r.add(i.closeAction=s.schedule(hb,n,{subscriber:r,context:i})),this.schedule(e,t))}function hb(e){const{subscriber:t,context:n}=e;t.closeContext(n)}function db(e,t){return function(n){return n.lift(new pb(e,t))}}C.prototype.bufferTime=function(e){let t=arguments.length,n=ry;N(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);let r=null;t>=2&&(r=arguments[1]);let s=Number.POSITIVE_INFINITY;return t>=3&&(s=arguments[2]),ib(e,r,s,n)(this)};class pb{constructor(e,t){this.openings=e,this.closingSelector=t}call(e,t){return t.subscribe(new fb(e,this.openings,this.closingSelector))}}class fb extends ${constructor(e,t,n){super(e),this.openings=t,this.closingSelector=n,this.contexts=[],this.add(z(this,t))}_next(e){const t=this.contexts,n=t.length;for(let r=0;r<n;r++)t[r].buffer.push(e)}_error(e){const t=this.contexts;for(;t.length>0;){const e=t.shift();e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,super._error(e)}_complete(){const e=this.contexts;for(;e.length>0;){const t=e.shift();this.destination.next(t.buffer),t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,super._complete()}notifyNext(e,t,n,r,s){e?this.closeBuffer(e):this.openBuffer(t)}notifyComplete(e){this.closeBuffer(e.context)}openBuffer(e){try{const t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(t){this._error(t)}}closeBuffer(e){const t=this.contexts;if(t&&e){const{buffer:n,subscription:r}=e;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}}trySubscribe(e){const t=this.contexts,n=new p,r={buffer:[],subscription:n};t.push(r);const s=z(this,e,r);!s||s.closed?this.closeBuffer(r):(s.context=r,this.add(s),n.add(s))}}function gb(e){return function(t){return t.lift(new mb(e))}}C.prototype.bufferToggle=function(e,t){return db(e,t)(this)};class mb{constructor(e){this.closingSelector=e}call(e,t){return t.subscribe(new yb(e,this.closingSelector))}}class yb extends ${constructor(e,t){super(e),this.closingSelector=t,this.subscribing=!1,this.openBuffer()}_next(e){this.buffer.push(e)}_complete(){const e=this.buffer;e&&this.destination.next(e),super._complete()}_unsubscribe(){this.buffer=null,this.subscribing=!1}notifyNext(e,t,n,r,s){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let e,{closingSubscription:t}=this;t&&(this.remove(t),t.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:t}=this;e=t()}catch(n){return this.error(n)}t=new p,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(z(this,e)),this.subscribing=!1}}function bb(e){return jl(e)(this)}function vb(e){return t=>t.lift(new ml(e))}function _b(e,t){return tu(()=>e,t)}function wb(e){return t=>t.lift(new xb(e,t))}C.prototype.bufferWhen=function(e){return gb(e)(this)},C.prototype.catch=bb,C.prototype._catch=bb,C.prototype.combineAll=function(e){return vb(e)(this)},C.prototype.combineLatest=function(...e){let t=null;return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&u(e[0])&&(e=e[0].slice()),this.lift.call(cl(this,...e),new ml(t))},C.prototype.concat=function(...e){return this.lift.call(Jl(this,...e))},C.prototype.concatAll=function(){return vl()(this)},C.prototype.concatMap=function(e){return tu(e)(this)},C.prototype.concatMapTo=function(e){return _b(e)(this)};class xb{constructor(e,t){this.predicate=e,this.source=t}call(e,t){return t.subscribe(new Cb(e,this.predicate,this.source))}}class Cb extends m{constructor(e,t,n){super(e),this.predicate=t,this.source=n,this.count=0,this.index=0}_next(e){this.predicate?this._tryPredicate(e):this.count++}_tryPredicate(e){let t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Sb(){return function(e){return e.lift(new Eb)}}C.prototype.count=function(e){return wb(e)(this)};class Eb{call(e,t){return t.subscribe(new kb(e))}}class kb extends m{constructor(e){super(e)}_next(e){e.observe(this.destination)}}function Tb(e){return t=>t.lift(new Ob(e))}C.prototype.dematerialize=function(){return Sb()(this)};class Ob{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Ab(e,this.durationSelector))}}class Ab extends ${constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1,this.durationSubscription=null}_next(e){try{const t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(t){this.destination.error(t)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(e,t){let n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=z(this,t),n&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(e,t,n,r,s){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const e=this.value,t=this.durationSubscription;t&&(this.durationSubscription=null,t.unsubscribe(),this.remove(t)),this.value=null,this.hasValue=!1,super._next(e)}}}function Ib(e,t=ry){return n=>n.lift(new Nb(e,t))}C.prototype.debounce=function(e){return Tb(e)(this)};class Nb{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new Pb(e,this.dueTime,this.scheduler))}}class Pb extends m{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Db,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Db(e){e.debouncedNext()}function Mb(e){return e instanceof Date&&!isNaN(+e)}function Rb(e,t=ry){const n=Mb(e)?+e-t.now():Math.abs(e);return e=>e.lift(new Vb(n,t))}C.prototype.debounceTime=function(e,t=ry){return Ib(e,t)(this)},C.prototype.defaultIfEmpty=function(e=null){return Dl(e)(this)};class Vb{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new jb(e,this.delay,this.scheduler))}}class jb extends m{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,s=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(s);if(n.length>0){const t=Math.max(0,n[0].time-r.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(jb.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new Fb(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(zy.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(zy.createComplete()),this.unsubscribe()}}class Fb{constructor(e,t){this.time=e,this.notification=t}}function Ub(e,t){return t?n=>new Hb(n,t).lift(new Lb(e)):t=>t.lift(new Lb(e))}C.prototype.delay=function(e,t=ry){return Rb(e,t)(this)};class Lb{constructor(e){this.delayDurationSelector=e}call(e,t){return t.subscribe(new Bb(e,this.delayDurationSelector))}}class Bb extends ${constructor(e,t){super(e),this.delayDurationSelector=t,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(e,t,n,r,s){this.destination.next(e),this.removeSubscription(s),this.tryComplete()}notifyError(e,t){this._error(e)}notifyComplete(e){const t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()}_next(e){const t=this.index++;try{const n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(n){this.destination.error(n)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(e){e.unsubscribe();const t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue}tryDelay(e,t){const n=z(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class Hb extends C{constructor(e,t){super(),this.source=e,this.subscriptionDelay=t}_subscribe(e){this.subscriptionDelay.subscribe(new zb(e,this.source))}}class zb extends m{constructor(e,t){super(),this.parent=e,this.source=t,this.sourceSubscribed=!1}_next(e){this.subscribeToSource()}_error(e){this.unsubscribe(),this.parent.error(e)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function $b(e,t){return n=>n.lift(new qb(e,t))}C.prototype.delayWhen=function(e,t){return Ub(e,t)(this)};class qb{constructor(e,t){this.keySelector=e,this.flushes=t}call(e,t){return t.subscribe(new Wb(e,this.keySelector,this.flushes))}}class Wb extends ${constructor(e,t,n){super(e),this.keySelector=t,this.values=new Set,n&&this.add(z(this,n))}notifyNext(e,t,n,r,s){this.values.clear()}notifyError(e,t){this._error(e)}_next(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)}_useKeySelector(e){let t;const{destination:n}=this;try{t=this.keySelector(e)}catch(r){return void n.error(r)}this._finalizeNext(t,e)}_finalizeNext(e,t){const{values:n}=this;n.has(e)||(n.add(e),this.destination.next(t))}}function Gb(e,t){return n=>n.lift(new Kb(e,t))}C.prototype.distinct=function(e,t){return $b(e,t)(this)};class Kb{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Zb(e,this.compare,this.keySelector))}}class Zb extends m{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function Jb(e,t){return Gb((n,r)=>t?t(n[e],r[e]):n[e]===r[e])}function Qb(e,t,n){return Ol(e,t,n)(this)}function Yb(){return e=>e.lift(new Xb)}C.prototype.distinctUntilChanged=function(e,t){return Gb(e,t)(this)},C.prototype.distinctUntilKeyChanged=function(e,t){return Jb(e,t)(this)},C.prototype.do=Qb,C.prototype._do=Qb;class Xb{call(e,t){return t.subscribe(new ev(e))}}class ev extends ${constructor(e){super(e),this.hasCompleted=!1,this.hasSubscription=!1}_next(e){this.hasSubscription||(this.hasSubscription=!0,this.add(z(this,e)))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function tv(e,t){return t?n=>n.pipe(tv((n,r)=>Z(e(n,r)).pipe(q((e,s)=>t(n,e,r,s))))):t=>t.lift(new nv(e))}C.prototype.exhaust=function(){return Yb()(this)};class nv{constructor(e){this.project=e}call(e,t){return t.subscribe(new rv(e,this.project))}}class rv extends ${constructor(e,t){super(e),this.project=t,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(e){this.hasSubscription||this.tryNext(e)}tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new P(this,void 0,void 0);this.destination.add(r),z(this,e,t,n,r)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,s){this.destination.next(t)}notifyError(e){this.destination.error(e)}notifyComplete(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function sv(e,t=Number.POSITIVE_INFINITY,n){return t=(t||0)<1?Number.POSITIVE_INFINITY:t,r=>r.lift(new iv(e,t,n))}C.prototype.exhaustMap=function(e){return tv(e)(this)};class iv{constructor(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}call(e,t){return t.subscribe(new ov(e,this.project,this.concurrent,this.scheduler))}}class ov extends ${constructor(e,t,n,r){super(e),this.project=t,this.concurrent=n,this.scheduler=r,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(e){const{subscriber:t,result:n,value:r,index:s}=e;t.subscribeToProjection(n,r,s)}_next(e){const t=this.destination;if(t.closed)return void this._complete();const n=this.index++;if(this.active<this.concurrent){t.next(e);try{const{project:t}=this,r=t(e,n);this.scheduler?this.destination.add(this.scheduler.schedule(ov.dispatch,0,{subscriber:this,result:r,value:e,index:n})):this.subscribeToProjection(r,e,n)}catch(r){t.error(r)}}else this.buffer.push(e)}subscribeToProjection(e,t,n){this.active++,this.destination.add(z(this,e,t,n))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,s){this._next(t)}notifyComplete(e){const t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}function av(e,t){if(e<0)throw new Sl;const n=arguments.length>=2;return r=>r.pipe(_l((t,n)=>n===e),Ll(1),n?Dl(t):Nl(()=>new Sl))}function lv(e){return ru(e)(this)}function uv(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return n=>n.lift(new cv(e,n,!1,t))}C.prototype.expand=function(e,t=Number.POSITIVE_INFINITY,n){return sv(e,t=(t||0)<1?Number.POSITIVE_INFINITY:t,n)(this)},C.prototype.elementAt=function(e,t){return av.apply(void 0,arguments)(this)},C.prototype.filter=function(e,t){return _l(e,t)(this)},C.prototype.finally=lv,C.prototype._finally=lv;class cv{constructor(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}call(e,t){return t.subscribe(new hv(e,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class hv extends m{constructor(e,t,n,r,s){super(e),this.predicate=t,this.source=n,this.yieldIndex=r,this.thisArg=s,this.index=0}notifyComplete(e){const t=this.destination;t.next(e),t.complete(),this.unsubscribe()}_next(e){const{predicate:t,thisArg:n}=this,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(s){this.destination.error(s)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function dv(e,t){return n=>n.lift(new cv(e,n,!0,t))}function pv(e,t,n,r){return s=>s.lift(new fv(e,t,n,r))}C.prototype.find=function(e,t){return uv(e,t)(this)},C.prototype.findIndex=function(e,t){return dv(e,t)(this)},C.prototype.first=function(...e){return zl(...e)(this)};class fv{constructor(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}call(e,t){return t.subscribe(new gv(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class gv extends m{constructor(e,t,n,r,s){super(e),this.keySelector=t,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=s,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)}_group(e,t){let n=this.groups;n||(n=this.groups=new Map);let r,s=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(i){this.error(i)}else r=e;if(!s){s=this.subjectSelector?this.subjectSelector():new A,n.set(t,s);const e=new yv(t,s,this);if(this.destination.next(e),this.durationSelector){let e;try{e=this.durationSelector(new yv(t,s))}catch(i){return void this.error(i)}this.add(e.subscribe(new mv(t,s,this)))}}s.closed||s.next(r)}_error(e){const t=this.groups;t&&(t.forEach((t,n)=>{t.error(e)}),t.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((e,t)=>{e.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class mv extends m{constructor(e,t,n){super(t),this.key=e,this.group=t,this.parent=n}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:t}=this;this.key=this.parent=null,e&&e.removeGroup(t)}}class yv extends C{constructor(e,t,n){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=n}_subscribe(e){const t=new p,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&t.add(new bv(n)),t.add(r.subscribe(e)),t}}class bv extends p{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;e.closed||this.closed||(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}function vv(){return function(e){return e.lift(new _v)}}C.prototype.groupBy=function(e,t,n,r){return pv(e,t,n,r)(this)};class _v{call(e,t){return t.subscribe(new wv(e))}}class wv extends m{_next(e){}}function xv(){return e=>e.lift(new Cv)}C.prototype.ignoreElements=function(){return vv()(this)};class Cv{call(e,t){return t.subscribe(new Sv(e))}}class Sv extends m{constructor(e){super(e)}notifyComplete(e){const t=this.destination;t.next(e),t.complete()}_next(e){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ev(e){return function(t){return t.lift(new kv(e))}}C.prototype.isEmpty=function(){return xv()(this)};class kv{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Tv(e,this.durationSelector))}}class Tv extends ${constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const r=z(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Ov(e,t=ry){return Ev(()=>fy(e,t))}function Av(e){return e(this)}function Iv(e){return t=>t.lift(new Nv(e))}C.prototype.audit=function(e){return Ev(e)(this)},C.prototype.auditTime=function(e,t=ry){return Ov(e,t)(this)},C.prototype.last=function(...e){return Vl(...e)(this)},C.prototype.let=Av,C.prototype.letBind=Av,C.prototype.every=function(e,t){return $l(e,t)(this)},C.prototype.map=function(e,t){return q(e,t)(this)};class Nv{constructor(e){this.value=e}call(e,t){return t.subscribe(new Pv(e,this.value))}}class Pv extends m{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}function Dv(){return function(e){return e.lift(new Mv)}}C.prototype.mapTo=function(e){return Iv(e)(this)};class Mv{call(e,t){return t.subscribe(new Rv(e))}}class Rv extends m{constructor(e){super(e)}_next(e){this.destination.next(zy.createNext(e))}_error(e){const t=this.destination;t.next(zy.createError(e)),t.complete()}_complete(){const e=this.destination;e.next(zy.createComplete()),e.complete()}}function Vv(e){return nu("function"==typeof e?(t,n)=>e(t,n)>0?t:n:(e,t)=>e>t?e:t)}function jv(e,t=Number.POSITIVE_INFINITY){return J(e,t)(this)}function Fv(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?J(()=>e,t,n):("number"==typeof t&&(n=t),J(()=>e,n))}function Uv(e,t=Number.POSITIVE_INFINITY){return Fv(e,t)(this)}function Lv(e,t,n=Number.POSITIVE_INFINITY){return r=>r.lift(new Bv(e,t,n))}C.prototype.materialize=function(){return Dv()(this)},C.prototype.max=function(e){return Vv(e)(this)},C.prototype.merge=function(...e){return this.lift.call(te(this,...e))},C.prototype.mergeAll=function(e=Number.POSITIVE_INFINITY){return ee(e)(this)},C.prototype.mergeMap=jv,C.prototype.flatMap=jv,C.prototype.flatMapTo=Uv,C.prototype.mergeMapTo=Uv;class Bv{constructor(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}call(e,t){return t.subscribe(new Hv(e,this.accumulator,this.seed,this.concurrent))}}class Hv extends ${constructor(e,t,n,r){super(e),this.accumulator=t,this.acc=n,this.concurrent=r,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){if(this.active<this.concurrent){const n=this.index++,r=this.destination;let s;try{const{accumulator:t}=this;s=t(this.acc,e,n)}catch(t){return r.error(t)}this.active++,this._innerSub(s,e,n)}else this.buffer.push(e)}_innerSub(e,t,n){const r=new P(this,void 0,void 0);this.destination.add(r),z(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(e,t,n,r,s){const{destination:i}=this;this.acc=t,this.hasValue=!0,i.next(t)}notifyComplete(e){const t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function zv(e){return nu("function"==typeof e?(t,n)=>e(t,n)<0?t:n:(e,t)=>e<t?e:t)}function $v(...e){return 1===e.length&&u(e[0])&&(e=e[0]),t=>t.lift(new qv(e))}C.prototype.mergeScan=function(e,t,n=Number.POSITIVE_INFINITY){return Lv(e,t,n)(this)},C.prototype.min=function(e){return zv(e)(this)},C.prototype.multicast=function(e,t){return le(e,t)(this)},C.prototype.observeOn=function(e,t=0){return $y(e,t)(this)};class qv{constructor(e){this.nextSources=e}call(e,t){return t.subscribe(new Wv(e,this.nextSources))}}class Wv extends ${constructor(e,t){super(e),this.destination=e,this.nextSources=t}notifyError(e,t){this.subscribeToNextSource()}notifyComplete(e){this.subscribeToNextSource()}_error(e){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const e=this.nextSources.shift();if(e){const t=new P(this,void 0,void 0);this.destination.add(t),z(this,e,void 0,void 0,t)}else this.destination.complete()}}function Gv(){return e=>e.lift(new Kv)}C.prototype.onErrorResumeNext=function(...e){return $v(...e)(this)};class Kv{call(e,t){return t.subscribe(new Zv(e))}}class Zv extends m{constructor(e){super(e),this.hasPrev=!1}_next(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e}}function Jv(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function Qv(e,t){return n=>[_l(e,t)(n),_l(Jv(e,t))(n)]}function Yv(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return n=>q(function(e,t){return n=>{let r=n;for(let s=0;s<t;s++){const t=r[e[s]];if(void 0===t)return;r=t}return r}}(e,t))(n)}function Xv(e){return e?le(()=>new A,e):le(new A)}function e_(e){return t=>le(new hl(e))(t)}function t_(e,t,n,r){n&&"function"!=typeof n&&(r=n);const s="function"==typeof n?n:void 0,i=new Ky(e,t,r);return e=>le(()=>i,s)(e)}function n_(){return e=>le(new Wm)(e)}function r_(...e){return function(t){return 1===e.length&&u(e[0])&&(e=e[0]),t.lift.call(oy(t,...e))}}function s_(e=-1){return t=>0===e?ll():t.lift(new i_(e<0?-1:e-1,t))}C.prototype.pairwise=function(){return Gv()(this)},C.prototype.partition=function(e,t){return Qv(e,t)(this)},C.prototype.pluck=function(...e){return Yv(...e)(this)},C.prototype.publish=function(e){return Xv(e)(this)},C.prototype.publishBehavior=function(e){return e_(e)(this)},C.prototype.publishReplay=function(e,t,n,r){return t_(e,t,n,r)(this)},C.prototype.publishLast=function(){return n_()(this)},C.prototype.race=function(...e){return r_(...e)(this)},C.prototype.reduce=function(e,t){return arguments.length>=2?nu(e,t)(this):nu(e)(this)};class i_{constructor(e,t){this.count=e,this.source=t}call(e,t){return t.subscribe(new o_(e,this.count,this.source))}}class o_ extends m{constructor(e,t,n){super(e),this.count=t,this.source=n}complete(){if(!this.isStopped){const{source:e,count:t}=this;if(0===t)return super.complete();t>-1&&(this.count=t-1),e.subscribe(this._unsubscribeAndRecycle())}}}function a_(e){return t=>t.lift(new l_(e))}C.prototype.repeat=function(e=-1){return s_(e)(this)};class l_{constructor(e){this.notifier=e}call(e,t){return t.subscribe(new u_(e,this.notifier,t))}}class u_ extends ${constructor(e,t,n){super(e),this.notifier=t,this.source=n,this.sourceIsBeingSubscribedTo=!0}notifyNext(e,t,n,r,s){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(e){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next()}}_unsubscribe(){const{notifications:e,retriesSubscription:t}=this;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null}_unsubscribeAndRecycle(){const{_unsubscribe:e}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=e,this}subscribeToRetries(){let e;this.notifications=new A;try{const{notifier:t}=this;e=t(this.notifications)}catch(t){return super.complete()}this.retries=e,this.retriesSubscription=z(this,e)}}function c_(e=-1){return t=>t.lift(new h_(e,t))}C.prototype.repeatWhen=function(e){return a_(e)(this)};class h_{constructor(e,t){this.count=e,this.source=t}call(e,t){return t.subscribe(new d_(e,this.count,this.source))}}class d_ extends m{constructor(e,t,n){super(e),this.count=t,this.source=n}error(e){if(!this.isStopped){const{source:t,count:n}=this;if(0===n)return super.error(e);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}}}function p_(e){return t=>t.lift(new f_(e,t))}C.prototype.retry=function(e=-1){return c_(e)(this)};class f_{constructor(e,t){this.notifier=e,this.source=t}call(e,t){return t.subscribe(new g_(e,this.notifier,this.source))}}class g_ extends ${constructor(e,t,n){super(e),this.notifier=t,this.source=n}error(e){if(!this.isStopped){let n=this.errors,r=this.retries,s=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new A;try{const{notifier:e}=this;r=e(n)}catch(t){return super.error(t)}s=z(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=s,n.next(e)}}_unsubscribe(){const{errors:e,retriesSubscription:t}=this;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null}notifyNext(e,t,n,r,s){const{_unsubscribe:i}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=i,this.source.subscribe(this)}}function m_(e){return t=>t.lift(new y_(e))}C.prototype.retryWhen=function(e){return p_(e)(this)};class y_{constructor(e){this.notifier=e}call(e,t){const n=new b_(e),r=t.subscribe(n);return r.add(z(n,this.notifier)),r}}class b_ extends ${constructor(){super(...arguments),this.hasValue=!1}_next(e){this.value=e,this.hasValue=!0}notifyNext(e,t,n,r,s){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function v_(e,t=ry){return n=>n.lift(new __(e,t))}C.prototype.sample=function(e){return m_(e)(this)};class __{constructor(e,t){this.period=e,this.scheduler=t}call(e,t){return t.subscribe(new w_(e,this.period,this.scheduler))}}class w_ extends m{constructor(e,t,n){super(e),this.period=t,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(x_,t,{subscriber:this,period:t}))}_next(e){this.lastValue=e,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function x_(e){let{subscriber:t,period:n}=e;t.notifyNext(),this.schedule(e,n)}function C_(e,t){return n=>n.lift(new S_(e,t))}C.prototype.sampleTime=function(e,t=ry){return v_(e,t)(this)},C.prototype.scan=function(e,t){return arguments.length>=2?Yl(e,t)(this):Yl(e)(this)};class S_{constructor(e,t){this.compareTo=e,this.comparator=t}call(e,t){return t.subscribe(new E_(e,this.compareTo,this.comparator))}}class E_ extends m{constructor(e,t,n){super(e),this.compareTo=t,this.comparator=n,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(t.subscribe(new k_(e,this)))}_next(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:e,_b:t,comparator:n}=this;for(;e.length>0&&t.length>0;){let s=e.shift(),i=t.shift(),o=!1;try{o=n?n(s,i):s===i}catch(r){this.destination.error(r)}o||this.emit(!1)}}emit(e){const{destination:t}=this;t.next(e),t.complete()}nextB(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class k_ extends m{constructor(e,t){super(e),this.parent=t}_next(e){this.parent.nextB(e)}_error(e){this.parent.error(e),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}function T_(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let s,i,o=0,a=!1,l=!1;return function(u){o++,s&&!a||(a=!1,s=new Ky(e,t,r),i=u.subscribe({next(e){s.next(e)},error(e){a=!0,s.error(e)},complete(){l=!0,s.complete()}}));const c=s.subscribe(this);this.add(()=>{o--,c.unsubscribe(),i&&!l&&n&&0===o&&(i.unsubscribe(),i=void 0,s=void 0)})}}(r))}function O_(e){return t=>t.lift(new A_(e,t))}C.prototype.sequenceEqual=function(e,t){return C_(e,t)(this)},C.prototype.share=function(){return he()(this)},C.prototype.shareReplay=function(e,t,n){return e&&"object"==typeof e?T_(e)(this):T_(e,t,n)(this)};class A_{constructor(e,t){this.predicate=e,this.source=t}call(e,t){return t.subscribe(new I_(e,this.predicate,this.source))}}class I_ extends m{constructor(e,t,n){super(e),this.predicate=t,this.source=n,this.seenValue=!1,this.index=0}applySingleValue(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)}_next(e){const t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)}tryNext(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(n){this.destination.error(n)}}_complete(){const e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new pl)}}function N_(e){return t=>t.lift(new P_(e))}C.prototype.single=function(e){return O_(e)(this)};class P_{constructor(e){this.total=e}call(e,t){return t.subscribe(new D_(e,this.total))}}class D_ extends m{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function M_(e){return t=>t.lift(new R_(e))}C.prototype.skip=function(e){return N_(e)(this)};class R_{constructor(e){if(this._skipCount=e,this._skipCount<0)throw new Sl}call(e,t){return t.subscribe(0===this._skipCount?new m(e):new V_(e,this._skipCount))}}class V_ extends m{constructor(e,t){super(e),this._skipCount=t,this._count=0,this._ring=new Array(t)}_next(e){const t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{const r=n%t,s=this._ring,i=s[r];s[r]=e,this.destination.next(i)}}}function j_(e){return t=>t.lift(new F_(e))}C.prototype.skipLast=function(e){return M_(e)(this)};class F_{constructor(e){this.notifier=e}call(e,t){return t.subscribe(new U_(e,this.notifier))}}class U_ extends ${constructor(e,t){super(e),this.hasValue=!1;const n=new P(this,void 0,void 0);this.add(n),this.innerSubscription=n,z(this,t,void 0,void 0,n)}_next(e){this.hasValue&&super._next(e)}notifyNext(e,t,n,r,s){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function L_(e){return t=>t.lift(new B_(e))}C.prototype.skipUntil=function(e){return j_(e)(this)};class B_{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new H_(e,this.predicate))}}class H_ extends m{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}C.prototype.skipWhile=function(e){return L_(e)(this)},C.prototype.startWith=function(...e){return Ql(...e)(this)};let z_=1;const $_={},q_={setImmediate(e){const t=z_++;return $_[t]=e,Promise.resolve().then(()=>function(e){const t=$_[e];t&&t()}(t)),t},clearImmediate(e){delete $_[e]}};class W_ extends ey{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=q_.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(q_.clearImmediate(t),e.scheduled=void 0)}}class G_ extends ny{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,n){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw n}}}const K_=new G_(W_);class Z_ extends C{constructor(e,t=0,n=K_){super(),this.source=e,this.delayTime=t,this.scheduler=n,(!sy(t)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=K_)}static create(e,t=0,n=K_){return new Z_(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(Z_.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function J_(e,t=0){return function(n){return n.lift(new Q_(e,t))}}class Q_{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new Z_(t,this.delay,this.scheduler).subscribe(e)}}function Y_(){return Gl(X)}function X_(){return Y_()(this)}function ew(e,t){return t?Gl(()=>e,t):Gl(()=>e)}function tw(e){return t=>t.lift(new nw(e))}C.prototype.subscribeOn=function(e,t=0){return J_(e,t)(this)},C.prototype.switch=X_,C.prototype._switch=X_,C.prototype.switchMap=function(e){return Gl(e)(this)},C.prototype.switchMapTo=function(e){return ew(e)(this)},C.prototype.take=function(e){return Ll(e)(this)},C.prototype.takeLast=function(e){return El(e)(this)};class nw{constructor(e){this.notifier=e}call(e,t){const n=new rw(e),r=z(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class rw extends ${constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,r,s){this.seenValue=!0,this.complete()}notifyComplete(){}}function sw(e,t=!1){return n=>n.lift(new iw(e,t))}C.prototype.takeUntil=function(e){return tw(e)(this)};class iw{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new ow(e,this.predicate,this.inclusive))}}class ow extends m{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}C.prototype.takeWhile=function(e){return sw(e)(this)};const aw={leading:!0,trailing:!1};function lw(e,t=aw){return n=>n.lift(new uw(e,t.leading,t.trailing))}class uw{constructor(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}call(e,t){return t.subscribe(new cw(e,this.durationSelector,this.leading,this.trailing))}}class cw extends ${constructor(e,t,n,r){super(e),this.destination=e,this.durationSelector=t,this._leading=n,this._trailing=r,this._hasValue=!1}_next(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))}send(){const{_hasValue:e,_sendValue:t}=this;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null}throttle(e){const t=this.tryDurationSelector(e);t&&this.add(this._throttled=z(this,t))}tryDurationSelector(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}}throttlingDone(){const{_throttled:e,_trailing:t}=this;e&&e.unsubscribe(),this._throttled=null,t&&this.send()}notifyNext(e,t,n,r,s){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function hw(e,t=ry,n=aw){return r=>r.lift(new dw(e,t,n.leading,n.trailing))}C.prototype.throttle=function(e,t=aw){return lw(e,t)(this)};class dw{constructor(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}call(e,t){return t.subscribe(new pw(e,this.duration,this.scheduler,this.leading,this.trailing))}}class pw extends m{constructor(e,t,n,r,s){super(e),this.duration=t,this.scheduler=n,this.leading=r,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(fw,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function fw(e){const{subscriber:t}=e;t.clearThrottle()}function gw(e=ry){return t=>bl(()=>t.pipe(Yl(({current:t},n)=>({value:n,current:e.now(),last:t}),{current:e.now(),value:void 0,last:void 0}),q(({current:e,last:t,value:n})=>new mw(n,e-t))))}C.prototype.throttleTime=function(e,t=ry,n=aw){return hw(e,t,n)(this)};class mw{constructor(e,t){this.value=e,this.interval=t}}function yw(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}C.prototype.timeInterval=function(e=ry){return gw(e)(this)},yw.prototype=Object.create(Error.prototype);const bw=yw;function vw(e,t,n=ry){return r=>{let s=Mb(e),i=s?+e-n.now():Math.abs(e);return r.lift(new _w(i,s,t,n))}}class _w{constructor(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}call(e,t){return t.subscribe(new ww(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class ww extends ${constructor(e,t,n,r,s){super(e),this.absoluteTimeout=t,this.waitFor=n,this.withObservable=r,this.scheduler=s,this.action=null,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:t}=e;e._unsubscribeAndRecycle(),e.add(z(e,t))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(ww.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}function xw(e,t=ry){return vw(e,dy(new bw),t)}function Cw(e=ry){return q(t=>new Sw(t,e.now()))}C.prototype.timeout=function(e,t=ry){return xw(e,t)(this)},C.prototype.timeoutWith=function(e,t,n=ry){return vw(e,t,n)(this)};class Sw{constructor(e,t){this.value=e,this.timestamp=t}}function Ew(e,t,n){return 0===n?[t]:(e.push(t),e)}function kw(){return nu(Ew,[])}function Tw(e){return function(t){return t.lift(new Ow(e))}}C.prototype.timestamp=function(e=ry){return Cw(e)(this)},C.prototype.toArray=function(){return kw()(this)},n("XypG");class Ow{constructor(e){this.windowBoundaries=e}call(e,t){const n=new Aw(e),r=t.subscribe(n);return r.closed||n.add(z(n,this.windowBoundaries)),r}}class Aw extends ${constructor(e){super(e),this.window=new A,e.next(this.window)}notifyNext(e,t,n,r,s){this.openWindow()}notifyError(e,t){this._error(e)}notifyComplete(e){this._complete()}_next(e){this.window.next(e)}_error(e){this.window.error(e),this.destination.error(e)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const e=this.window;e&&e.complete();const t=this.destination,n=this.window=new A;t.next(n)}}function Iw(e,t=0){return function(n){return n.lift(new Nw(e,t))}}C.prototype.window=function(e){return Tw(e)(this)};class Nw{constructor(e,t){this.windowSize=e,this.startWindowEvery=t}call(e,t){return t.subscribe(new Pw(e,this.windowSize,this.startWindowEvery))}}class Pw extends m{constructor(e,t,n){super(e),this.destination=e,this.windowSize=t,this.startWindowEvery=n,this.windows=[new A],this.count=0,e.next(this.windows[0])}_next(e){const t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,s=this.windows,i=s.length;for(let a=0;a<i&&!this.closed;a++)s[a].next(e);const o=this.count-r+1;if(o>=0&&o%t==0&&!this.closed&&s.shift().complete(),++this.count%t==0&&!this.closed){const e=new A;s.push(e),n.next(e)}}_error(e){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)}_complete(){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function Dw(e){let t=ry,n=null,r=Number.POSITIVE_INFINITY;return N(arguments[3])&&(t=arguments[3]),N(arguments[2])?t=arguments[2]:sy(arguments[2])&&(r=arguments[2]),N(arguments[1])?t=arguments[1]:sy(arguments[1])&&(n=arguments[1]),function(s){return s.lift(new Mw(e,n,r,t))}}C.prototype.windowCount=function(e,t=0){return Iw(e,t)(this)};class Mw{constructor(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}call(e,t){return t.subscribe(new Vw(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class Rw extends A{constructor(){super(...arguments),this._numberOfNextedValues=0}next(e){this._numberOfNextedValues++,super.next(e)}get numberOfNextedValues(){return this._numberOfNextedValues}}class Vw extends m{constructor(e,t,n,r,s){super(e),this.destination=e,this.windowTimeSpan=t,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=s,this.windows=[];const i=this.openWindow();if(null!==n&&n>=0){const e={windowTimeSpan:t,windowCreationInterval:n,subscriber:this,scheduler:s};this.add(s.schedule(Uw,t,{subscriber:this,window:i,context:null})),this.add(s.schedule(Fw,n,e))}else this.add(s.schedule(jw,t,{subscriber:this,window:i,windowTimeSpan:t}))}_next(e){const t=this.windows,n=t.length;for(let r=0;r<n;r++){const n=t[r];n.closed||(n.next(e),n.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(n))}}_error(e){const t=this.windows;for(;t.length>0;)t.shift().error(e);this.destination.error(e)}_complete(){const e=this.windows;for(;e.length>0;){const t=e.shift();t.closed||t.complete()}this.destination.complete()}openWindow(){const e=new Rw;return this.windows.push(e),this.destination.next(e),e}closeWindow(e){e.complete();const t=this.windows;t.splice(t.indexOf(e),1)}}function jw(e){const{subscriber:t,windowTimeSpan:n,window:r}=e;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function Fw(e){const{windowTimeSpan:t,subscriber:n,scheduler:r,windowCreationInterval:s}=e,i=n.openWindow();let o={action:this,subscription:null};o.subscription=r.schedule(Uw,t,{subscriber:n,window:i,context:o}),this.add(o.subscription),this.schedule(e,s)}function Uw(e){const{subscriber:t,window:n,context:r}=e;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}function Lw(e,t){return n=>n.lift(new Bw(e,t))}C.prototype.windowTime=function(e){let t=ry,n=null,r=Number.POSITIVE_INFINITY;return N(arguments[3])&&(t=arguments[3]),N(arguments[2])?t=arguments[2]:sy(arguments[2])&&(r=arguments[2]),N(arguments[1])?t=arguments[1]:sy(arguments[1])&&(n=arguments[1]),Dw(e,n,r,t)(this)};class Bw{constructor(e,t){this.openings=e,this.closingSelector=t}call(e,t){return t.subscribe(new Hw(e,this.openings,this.closingSelector))}}class Hw extends ${constructor(e,t,n){super(e),this.openings=t,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=z(this,t,t))}_next(e){const{contexts:t}=this;if(t){const n=t.length;for(let r=0;r<n;r++)t[r].window.next(e)}}_error(e){const{contexts:t}=this;if(this.contexts=null,t){const n=t.length;let r=-1;for(;++r<n;){const n=t[r];n.window.error(e),n.subscription.unsubscribe()}}super._error(e)}_complete(){const{contexts:e}=this;if(this.contexts=null,e){const t=e.length;let n=-1;for(;++n<t;){const t=e[n];t.window.complete(),t.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:e}=this;if(this.contexts=null,e){const t=e.length;let n=-1;for(;++n<t;){const t=e[n];t.window.unsubscribe(),t.subscription.unsubscribe()}}}notifyNext(e,t,n,r,s){if(e===this.openings){let e;try{const{closingSelector:n}=this;e=n(t)}catch(i){return this.error(i)}const n=new A,r=new p,s={window:n,subscription:r};this.contexts.push(s);const o=z(this,e,s);o.closed?this.closeWindow(this.contexts.length-1):(o.context=s,r.add(o)),this.destination.next(n)}else this.closeWindow(this.contexts.indexOf(e))}notifyError(e){this.error(e)}notifyComplete(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))}closeWindow(e){if(-1===e)return;const{contexts:t}=this,n=t[e],{window:r,subscription:s}=n;t.splice(e,1),r.complete(),s.unsubscribe()}}function zw(e){return function(t){return t.lift(new $w(e))}}C.prototype.windowToggle=function(e,t){return Lw(e,t)(this)};class $w{constructor(e){this.closingSelector=e}call(e,t){return t.subscribe(new qw(e,this.closingSelector))}}class qw extends ${constructor(e,t){super(e),this.destination=e,this.closingSelector=t,this.openWindow()}notifyNext(e,t,n,r,s){this.openWindow(s)}notifyError(e,t){this._error(e)}notifyComplete(e){this.openWindow(e)}_next(e){this.window.next(e)}_error(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(e=null){e&&(this.remove(e),e.unsubscribe());const t=this.window;t&&t.complete();const n=this.window=new A;let r;this.destination.next(n);try{const{closingSelector:e}=this;r=e()}catch(s){return this.destination.error(s),void this.window.error(s)}this.add(this.closingNotification=z(this,r))}}function Ww(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Gw(e,n))}}C.prototype.windowWhen=function(e){return zw(e)(this)};class Gw{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new Kw(e,this.observables,this.project))}}class Kw extends ${constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let s=0;s<r;s++)this.toRespond.push(s);for(let s=0;s<r;s++){let e=t[s];this.add(z(this,e,e,s))}}notifyNext(e,t,n,r,s){this.values[n]=t;const i=this.toRespond;if(i.length>0){const e=i.indexOf(n);-1!==e&&i.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function Zw(e){return t=>t.lift(new yy(e))}function Jw(...e){let t=null;return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&u(e[0])&&(e=e[0].slice()),n=>n.lift.call(Z([n,...e]),new ml(t))}function Qw(...e){return t=>t.lift.call(Jl(t,...e))}function Yw(...e){return t=>{let n=e[e.length-1];N(n)?e.pop():n=null;const r=e.length;return Jl(t,1!==r||n?r>0?K(e,n):ll(n):ul(e[0]))}}function Xw(...e){return t=>t.lift.call(te(t,...e))}function ex(...e){return function(t){return t.lift.call(my(t,...e))}}C.prototype.withLatestFrom=function(...e){return Ww(...e)(this)},C.prototype.zip=function(...e){return this.lift.call(my(this,...e))},C.prototype.zipAll=function(e){return Zw(e)(this)};class tx{constructor(){}build(){return new XMLHttpRequest}}const nx=function(){var e={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};return e[e.Get]="Get",e[e.Post]="Post",e[e.Put]="Put",e[e.Delete]="Delete",e[e.Options]="Options",e[e.Head]="Head",e[e.Patch]="Patch",e}(),rx=function(){var e={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};return e[e.Basic]="Basic",e[e.Cors]="Cors",e[e.Default]="Default",e[e.Error]="Error",e[e.Opaque]="Opaque",e}(),sx=function(){var e={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};return e[e.NONE]="NONE",e[e.JSON]="JSON",e[e.FORM]="FORM",e[e.FORM_DATA]="FORM_DATA",e[e.TEXT]="TEXT",e[e.BLOB]="BLOB",e[e.ARRAY_BUFFER]="ARRAY_BUFFER",e}(),ix=function(){var e={Text:0,Json:1,ArrayBuffer:2,Blob:3};return e[e.Text]="Text",e[e.Json]="Json",e[e.ArrayBuffer]="ArrayBuffer",e[e.Blob]="Blob",e}();class ox{constructor(e){this._headers=new Map,this._normalizedNames=new Map,e&&(e instanceof ox?e.forEach((e,t)=>{e.forEach(e=>this.append(t,e))}):Object.keys(e).forEach(t=>{const n=Array.isArray(e[t])?e[t]:[e[t]];this.delete(t),n.forEach(e=>this.append(t,e))}))}static fromResponseHeaderString(e){const t=new ox;return e.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),s=e.slice(n+1).trim();t.set(r,s)}}),t}append(e,t){const n=this.getAll(e);null===n?this.set(e,t):n.push(t)}delete(e){const t=e.toLowerCase();this._normalizedNames.delete(t),this._headers.delete(t)}forEach(e){this._headers.forEach((t,n)=>e(t,this._normalizedNames.get(n),this._headers))}get(e){const t=this.getAll(e);return null===t?null:t.length>0?t[0]:null}has(e){return this._headers.has(e.toLowerCase())}keys(){return Array.from(this._normalizedNames.values())}set(e,t){Array.isArray(t)?t.length&&this._headers.set(e.toLowerCase(),[t.join(",")]):this._headers.set(e.toLowerCase(),[t]),this.mayBeSetNormalizedName(e)}values(){return Array.from(this._headers.values())}toJSON(){const e={};return this._headers.forEach((t,n)=>{const r=[];t.forEach(e=>r.push(...e.split(","))),e[this._normalizedNames.get(n)]=r}),e}getAll(e){return this.has(e)&&this._headers.get(e.toLowerCase())||null}entries(){throw new Error('"entries" method is not implemented on Headers class')}mayBeSetNormalizedName(e){const t=e.toLowerCase();this._normalizedNames.has(t)||this._normalizedNames.set(t,e)}}class ax{constructor(e={}){const{body:t,status:n,headers:r,statusText:s,type:i,url:o}=e;this.body=null!=t?t:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=s?s:null,this.type=null!=i?i:null,this.url=null!=o?o:null}merge(e){return new ax({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})}}class lx extends ax{constructor(){super({status:200,statusText:"Ok",type:rx.Default,headers:new ox})}}class ux{}function cx(e){if("string"!=typeof e)return e;switch(e.toUpperCase()){case"GET":return nx.Get;case"POST":return nx.Post;case"PUT":return nx.Put;case"DELETE":return nx.Delete;case"OPTIONS":return nx.Options;case"HEAD":return nx.Head;case"PATCH":return nx.Patch}throw new Error(`Invalid request method. The method "${e}" is not supported.`)}class hx{encodeKey(e){return dx(e)}encodeValue(e){return dx(e)}}function dx(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class px{constructor(e="",t=new hx){this.rawParams=e,this.queryEncoder=t,this.paramsMap=function(e=""){const t=new Map;return e.length>0&&e.split("&").forEach(e=>{const n=e.indexOf("="),[r,s]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)],i=t.get(r)||[];i.push(s),t.set(r,i)}),t}(e)}clone(){const e=new px("",this.queryEncoder);return e.appendAll(this),e}has(e){return this.paramsMap.has(e)}get(e){const t=this.paramsMap.get(e);return Array.isArray(t)?t[0]:null}getAll(e){return this.paramsMap.get(e)||[]}set(e,t){if(null==t)return void this.delete(e);const n=this.paramsMap.get(e)||[];n.length=0,n.push(t),this.paramsMap.set(e,n)}setAll(e){e.paramsMap.forEach((e,t)=>{const n=this.paramsMap.get(t)||[];n.length=0,n.push(e[0]),this.paramsMap.set(t,n)})}append(e,t){if(null==t)return;const n=this.paramsMap.get(e)||[];n.push(t),this.paramsMap.set(e,n)}appendAll(e){e.paramsMap.forEach((e,t)=>{const n=this.paramsMap.get(t)||[];for(let r=0;r<e.length;++r)n.push(e[r]);this.paramsMap.set(t,n)})}replaceAll(e){e.paramsMap.forEach((e,t)=>{const n=this.paramsMap.get(t)||[];n.length=0;for(let r=0;r<e.length;++r)n.push(e[r]);this.paramsMap.set(t,n)})}toString(){const e=[];return this.paramsMap.forEach((t,n)=>{t.forEach(t=>e.push(this.queryEncoder.encodeKey(n)+"="+this.queryEncoder.encodeValue(t)))}),e.join("&")}delete(e){this.paramsMap.delete(e)}}class fx{json(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body}text(e="legacy"){if(this._body instanceof px)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(e){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error(`Invalid value for encodingHint: ${e}`)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()}arrayBuffer(){return this._body instanceof ArrayBuffer?this._body:function(e){const t=new Uint16Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=e.charCodeAt(n);return t.buffer}(this.text())}blob(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")}}class gx extends fx{constructor(e){super(),this._body=e.body,this.status=e.status,this.ok=this.status>=200&&this.status<=299,this.statusText=e.statusText,this.headers=e.headers,this.type=e.type,this.url=e.url}toString(){return`Response with status: ${this.status} ${this.statusText} for URL: ${this.url}`}}const mx=/^\)\]\}',?\n/;class yx{constructor(e,t,n){this.request=e,this.response=new C(r=>{const s=t.build();s.open(nx[e.method].toUpperCase(),e.url),null!=e.withCredentials&&(s.withCredentials=e.withCredentials);const i=()=>{let t=1223===s.status?204:s.status,i=null;204!==t&&(i=void 0===s.response?s.responseText:s.response,"string"==typeof i&&(i=i.replace(mx,""))),0===t&&(t=i?200:0);const o=ox.fromResponseHeaderString(s.getAllResponseHeaders()),a=("responseURL"in(l=s)?l.responseURL:/^X-Request-URL:/m.test(l.getAllResponseHeaders())?l.getResponseHeader("X-Request-URL"):null)||e.url;var l;let u=new ax({body:i,status:t,headers:o,statusText:s.statusText||"OK",url:a});null!=n&&(u=n.merge(u));const c=new gx(u);if(c.ok=(e=>e>=200&&e<300)(t),c.ok)return r.next(c),void r.complete();r.error(c)},o=e=>{let t=new ax({body:e,type:rx.Error,status:s.status,statusText:s.statusText});null!=n&&(t=n.merge(t)),r.error(new gx(t))};if(this.setDetectedContentType(e,s),null==e.headers&&(e.headers=new ox),e.headers.has("Accept")||e.headers.append("Accept","application/json, text/plain, */*"),e.headers.forEach((e,t)=>s.setRequestHeader(t,e.join(","))),null!=e.responseType&&null!=s.responseType)switch(e.responseType){case ix.ArrayBuffer:s.responseType="arraybuffer";break;case ix.Json:s.responseType="json";break;case ix.Text:s.responseType="text";break;case ix.Blob:s.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return s.addEventListener("load",i),s.addEventListener("error",o),s.send(this.request.getBody()),()=>{s.removeEventListener("load",i),s.removeEventListener("error",o),s.abort()}})}setDetectedContentType(e,t){if(null==e.headers||null==e.headers.get("Content-Type"))switch(e.contentType){case sx.NONE:break;case sx.JSON:t.setRequestHeader("content-type","application/json");break;case sx.FORM:t.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case sx.TEXT:t.setRequestHeader("content-type","text/plain");break;case sx.BLOB:const n=e.blob();n.type&&t.setRequestHeader("content-type",n.type)}}}class bx{constructor(e="XSRF-TOKEN",t="X-XSRF-TOKEN"){this._cookieName=e,this._headerName=t}configureRequest(e){const t=au().getCookie(this._cookieName);t&&e.headers.set(this._headerName,t)}}class vx{constructor(e,t,n){this._browserXHR=e,this._baseResponseOptions=t,this._xsrfStrategy=n}createConnection(e){return this._xsrfStrategy.configureRequest(e),new yx(e,this._browserXHR,this._baseResponseOptions)}}class _x{get search(){return this.params}set search(e){this.params=e}constructor(e={}){const{method:t,headers:n,body:r,url:s,search:i,params:o,withCredentials:a,responseType:l}=e;this.method=null!=t?cx(t):null,this.headers=null!=n?n:null,this.body=null!=r?r:null,this.url=null!=s?s:null,this.params=this._mergeSearchParams(o||i),this.withCredentials=null!=a?a:null,this.responseType=null!=l?l:null}merge(e){return new _x({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new ox(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})}_mergeSearchParams(e){return e?e instanceof px?e.clone():"string"==typeof e?new px(e):this._parseParams(e):this.params}_parseParams(e={}){const t=new px;return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>this._appendParam(n,e,t)):this._appendParam(n,r,t)}),t}_appendParam(e,t,n){"string"!=typeof t&&(t=JSON.stringify(t)),n.append(e,t)}}class wx extends _x{constructor(){super({method:nx.Get,headers:new ox})}}class xx extends fx{constructor(e){super();const t=e.url;this.url=e.url;const n=e.params||e.search;if(n){let e;if(e="object"!=typeof n||n instanceof px?n.toString():function(e){const t=new px;return Object.keys(e).forEach(n=>{const r=e[n];r&&Array.isArray(r)?r.forEach(e=>t.append(n,e.toString())):t.append(n,r.toString())}),t}(n).toString(),e.length>0){let n="?";-1!=this.url.indexOf("?")&&(n="&"==this.url[this.url.length-1]?"":"&"),this.url=t+n+e}}this._body=e.body,this.method=cx(e.method),this.headers=new ox(e.headers),this.contentType=this.detectContentType(),this.withCredentials=e.withCredentials,this.responseType=e.responseType}detectContentType(){switch(this.headers.get("content-type")){case"application/json":return sx.JSON;case"application/x-www-form-urlencoded":return sx.FORM;case"multipart/form-data":return sx.FORM_DATA;case"text/plain":case"text/html":return sx.TEXT;case"application/octet-stream":return this._body instanceof Tx?sx.ARRAY_BUFFER:sx.BLOB;default:return this.detectContentTypeFromBody()}}detectContentTypeFromBody(){return null==this._body?sx.NONE:this._body instanceof px?sx.FORM:this._body instanceof Ex?sx.FORM_DATA:this._body instanceof kx?sx.BLOB:this._body instanceof Tx?sx.ARRAY_BUFFER:this._body&&"object"==typeof this._body?sx.JSON:sx.TEXT}getBody(){switch(this.contentType){case sx.JSON:case sx.FORM:return this.text();case sx.FORM_DATA:return this._body;case sx.TEXT:return this.text();case sx.BLOB:return this.blob();case sx.ARRAY_BUFFER:return this.arrayBuffer();default:return null}}}const Cx=function(){},Sx="object"==typeof window?window:Cx,Ex=Sx.FormData||Cx,kx=Sx.Blob||Cx,Tx=Sx.ArrayBuffer||Cx;function Ox(e,t){return e.createConnection(t).response}function Ax(e,t,n,r){return e.merge(new _x(t?{method:t.method||n,url:t.url||r,search:t.search,params:t.params,headers:t.headers,body:t.body,withCredentials:t.withCredentials,responseType:t.responseType}:{method:n,url:r}))}class Ix{constructor(e,t){this._backend=e,this._defaultOptions=t}request(e,t){let n;if("string"==typeof e)n=Ox(this._backend,new xx(Ax(this._defaultOptions,t,nx.Get,e)));else{if(!(e instanceof xx))throw new Error("First argument must be a url string or Request instance.");n=Ox(this._backend,e)}return n}get(e,t){return this.request(new xx(Ax(this._defaultOptions,t,nx.Get,e)))}post(e,t,n){return this.request(new xx(Ax(this._defaultOptions.merge(new _x({body:t})),n,nx.Post,e)))}put(e,t,n){return this.request(new xx(Ax(this._defaultOptions.merge(new _x({body:t})),n,nx.Put,e)))}delete(e,t){return this.request(new xx(Ax(this._defaultOptions,t,nx.Delete,e)))}patch(e,t,n){return this.request(new xx(Ax(this._defaultOptions.merge(new _x({body:t})),n,nx.Patch,e)))}head(e,t){return this.request(new xx(Ax(this._defaultOptions,t,nx.Head,e)))}options(e,t){return this.request(new xx(Ax(this._defaultOptions,t,nx.Options,e)))}}function Nx(){return new bx}function Px(e,t){return new Ix(e,t)}class Dx{}let Mx=(()=>{class e{constructor(e,t){this.http=e,this.datePipe=t,this.databaseHasData=new hl(!1),this.cast_databaseHasData=this.databaseHasData.asObservable()}editDatabaseHasData(e){this.databaseHasData.next(e)}fetchOsm(e){this.getOsmData(this.createOSMquery(e)).subscribe(e=>{console.log(e.elements),e.elements.forEach(e=>{var t=new Date;e.markedAs="OSM",e.timeStamp=this.datePipe.transform(t,"yyyy-MM-dd-hh-mm-ss"),this.addToIndexedDb(e)})}),this.editDatabaseHasData(!0)}importDataFromJson(){}createDatabase(){this.db=new qm("MyDoctorDatabase"),this.db.version(1).stores({doctors:"id"})}addMarkChangesInDB(e,t){this.db.doctors.update(e,{markedAs:t+""})}addToIndexedDb(e){this.db.doctors.add(e)}getOsmData(e){return this.http.get(e).map(e=>e.json()).catch(e=>C.throw(e.statusText))}createOSMquery(e){return"https://overpass-api.de/api/interpreter?data=[out:json][timeout:15];(node['amenity'='doctors']("+e+");way['amenity'='doctors']("+e+");relation['amenity'='doctors']("+e+"););out%20geom;"}}return e.ngInjectableDef=ve({factory:function(){return new e(Fe(Ix),Fe(nl))},token:e,providedIn:"root"}),e})();var Rx=Gn({encapsulation:0,styles:[[".mapDiv[_ngcontent-%COMP%]{height:40vw;border-radius:0;background-color:#0a0a1e;border:0 solid;touch-action:auto}.dashboard[_ngcontent-%COMP%]{position:absolute;top:67%;left:20px;margin-top:0;width:50%;border-radius:0;background-color:#f8f8f8;border:0 solid}.dashboardright[_ngcontent-%COMP%]{position:absolute;top:67%;left:55%;margin-top:0;background-color:#f8f8f8}.jsonView[_ngcontent-%COMP%]{border-radius:0;background-color:#f8f8f8;border:0 solid;overflow-y:scroll}.jsonViewSingle[_ngcontent-%COMP%]{position:absolute;top:70%;left:55%;margin-top:20px;width:50%;border-radius:0;background-color:#f8f8f8;border:0 solid;overflow-y:scroll}.parent[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);grid-template-rows:repeat(8,1fr);grid-column-gap:20px;grid-row-gap:20px}.div1[_ngcontent-%COMP%]{grid-area:1/1/4/4}.div2[_ngcontent-%COMP%]{grid-area:1/4/4/6;max-height:40vw;overflow-y:auto}.div3[_ngcontent-%COMP%]{grid-area:1/6/4/8;padding:10px}.div4[_ngcontent-%COMP%]{grid-area:4/1/5/8}.div5[_ngcontent-%COMP%]{grid-area:4/1/8/3}.div6[_ngcontent-%COMP%]{grid-area:4/3/8/5}.div7[_ngcontent-%COMP%]{grid-area:4/5/8/8}.tipps[_ngcontent-%COMP%]{margin:10px;font-size:20px}.frame[_ngcontent-%COMP%]{border:1px solid #000}.searchResultListElement[_ngcontent-%COMP%]{margin:20px 2% 2%;padding:4px;border:1px solid #000;overflow-x:auto;width:90%}.searchResultListElementButton[_ngcontent-%COMP%]{box-shadow:inset 0 1px 0 0 #fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(5%,#f9f9f9),to(#e9e9e9));background:linear-gradient(to bottom,#f9f9f9 5%,#e9e9e9 100%);background-color:#f9f9f9;border-radius:3px;border:1px solid #dcdcdc;display:inline-block;cursor:pointer;color:#666;font-family:Arial;font-size:12px;font-weight:700;padding:3px 32px;text-decoration:none;text-shadow:0 1px 0 #fff;margin-top:10px}.myButton[_ngcontent-%COMP%]{box-shadow:inset 0 1px 0 0 #fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(5%,#f9f9f9),to(#e9e9e9));background:linear-gradient(to bottom,#f9f9f9 5%,#e9e9e9 100%);background-color:#f9f9f9;border-radius:6px;border:1px solid #dcdcdc;display:inline-block;cursor:pointer;color:#666;font-family:Arial;font-size:17px;font-weight:700;padding:7px 42px;text-decoration:none;text-shadow:0 1px 0 #fff;margin-top:10px}.myButton[_ngcontent-%COMP%]:hover{background:-webkit-gradient(linear,left top,left bottom,color-stop(5%,#e9e9e9),to(#f9f9f9));background:linear-gradient(to bottom,#e9e9e9 5%,#f9f9f9 100%);background-color:#e9e9e9}.myButton[_ngcontent-%COMP%]:active{position:relative;top:1px}"]],data:{}});function Vx(e){return Yi(0,[(e()(),ji(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Zi(1,null,["Name: ",""]))],null,(function(e,t){e(t,1,0,t.parent.parent.context.$implicit.tags.name)}))}function jx(e){return Yi(0,[(e()(),ji(0,0,null,null,27,"div",[["class","searchResultListElement"]],null,null,null,null,null)),(e()(),Vi(16777216,null,null,1,null,Vx)),ns(2,16384,null,0,Xa,[Nn,An],{ngIf:[0,"ngIf"]},null),(e()(),Zi(3,null,[" ID:"," "])),(e()(),ji(4,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(5,0,null,null,1,"ngx-json-viewer",[["class","jsonView"]],null,null,null,up,sp)),ns(6,573440,null,0,np,[],{json:[0,"json"],expanded:[1,"expanded"]},null),(e()(),ji(7,0,null,null,1,"button",[["class","searchResultListElementButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showOnMap(e.parent.context.$implicit)&&r),r}),null,null)),(e()(),Zi(-1,null,["Show on Map"])),(e()(),ji(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(10,0,null,null,1,"button",[["class","searchResultListElementButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.markAs(e.parent.context.$implicit.id,"OSM missing something")&&r),r}),null,null)),(e()(),Zi(-1,null,["Mark As incomplete"])),(e()(),ji(12,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(13,0,null,null,1,"button",[["class","searchResultListElementButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.markAs(e.parent.context.$implicit.id,"OSM")&&r),r}),null,null)),(e()(),Zi(-1,null,["Mark As OSM"])),(e()(),ji(15,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(16,0,null,null,1,"button",[["class","searchResultListElementButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.markAs(e.parent.context.$implicit.id,"ChangeLater")&&r),r}),null,null)),(e()(),Zi(-1,null,["Mark As Change Later"])),(e()(),ji(18,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(19,0,null,null,1,"button",[["class","searchResultListElementButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.markAs(e.parent.context.$implicit.id,"Complete")&&r),r}),null,null)),(e()(),Zi(-1,null,["Mark As Change Complete"])),(e()(),ji(21,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(22,0,null,null,1,"button",[["class","searchResultListElementButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.selectForEditing(e.parent.context.$implicit)&&r),r}),null,null)),(e()(),Zi(-1,null,["Select for editing"])),(e()(),ji(24,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(25,0,null,null,1,"button",[["class","searchResultListElementButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.delete(e.parent.context.$implicit)&&r),r}),null,null)),(e()(),Zi(-1,null,["delete"])),(e()(),ji(27,0,null,null,0,"br",[],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,2,0,"undefined"!=t.parent.context.$implicit.tags),e(t,6,0,t.parent.context.$implicit,n.singleEventTrue)}),(function(e,t){e(t,3,0,t.parent.context.$implicit.id)}))}function Fx(e){return Yi(0,[(e()(),ji(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Vi(16777216,null,null,1,null,jx)),ns(2,16384,null,0,Xa,[Nn,An],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,"undefined"!=t.context.$implicit)}),null)}function Ux(e){return Yi(0,[(e()(),ji(0,0,null,null,126,"div",[["class","parent"]],null,null,null,null,null)),(e()(),ji(1,0,null,null,1,"div",[["class","div1 frame"]],null,null,null,null,null)),(e()(),ji(2,0,null,null,0,"div",[["class","mapDiv"],["id","map"]],null,null,null,null,null)),(e()(),ji(3,0,null,null,12,"div",[["class","div2 frame"]],null,null,null,null,null)),(e()(),Zi(4,null,[" Search Results "," "])),(e()(),ji(5,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" ID: "])),(e()(),ji(7,0,null,null,0,"input",[],null,[[null,"keyup"]],(function(e,t,n){var r=!0;return"keyup"===t&&(r=!1!==e.component.onIdSearch(n)&&r),r}),null,null)),(e()(),ji(8,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" Name: "])),(e()(),ji(10,0,null,null,0,"input",[],null,[[null,"keyup"]],(function(e,t,n){var r=!0;return"keyup"===t&&(r=!1!==e.component.onNameSearch(n)&&r),r}),null,null)),(e()(),ji(11,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" Key: "])),(e()(),ji(13,0,null,null,0,"input",[],null,[[null,"keyup"]],(function(e,t,n){var r=!0;return"keyup"===t&&(r=!1!==e.component.onCustomSearch(n)&&r),r}),null,null)),(e()(),Vi(16777216,null,null,1,null,Fx)),ns(15,278528,null,0,Qa,[Nn,An,Sn],{ngForOf:[0,"ngForOf"]},null),(e()(),ji(16,0,null,null,15,"div",[["class","div3 frame"]],null,null,null,null,null)),(e()(),ji(17,0,null,null,1,"button",[["class","myButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.removeMrkers()&&r),r}),null,null)),(e()(),Zi(-1,null,["clear map"])),(e()(),ji(19,0,null,null,1,"button",[["class","myButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.loadData()&&r),r}),null,null)),(e()(),Zi(-1,null,["refreshMap"])),(e()(),ji(21,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(22,0,null,null,1,"button",[["class","myButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.loadDataByHand()&&r),r}),null,null)),(e()(),Zi(-1,null,["load osm data"])),(e()(),ji(24,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(25,0,null,null,1,"button",[["class","myButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.downloadDatabase()&&r),r}),null,null)),(e()(),Zi(-1,null,["download data"])),(e()(),ji(27,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(28,0,null,null,3,"div",[["class","myButton"]],null,null,null,null,null)),(e()(),Zi(-1,null,[" upload data "])),(e()(),ji(30,0,null,null,1,"input",[["accept",".json"],["ng2FileSelect",""],["type","file"]],null,[[null,"onFileSelected"],[null,"change"]],(function(e,t,n){var r=!0,s=e.component;return"change"===t&&(r=!1!==zr(e,31).onChange()&&r),"onFileSelected"===t&&(r=!1!==s.onFileSelected(n)&&r),r}),null,null)),ns(31,16384,null,0,fp,[sn],{uploader:[0,"uploader"]},{onFileSelected:"onFileSelected"}),(e()(),ji(32,0,null,null,18,"div",[["class","div5 frame"]],null,null,null,null,null)),(e()(),ji(33,0,null,null,17,"form",[["class","new"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==zr(e,35).onSubmit(n)&&r),"reset"===t&&(r=!1!==zr(e,35).onReset()&&r),r}),null,null)),ns(34,16384,null,0,sf,[],null,null),ns(35,540672,null,0,af,[[8,null],[8,null]],{form:[0,"form"]},null),rs(2048,null,xp,null,[af]),ns(37,16384,null,0,Tp,[[4,xp]],null,null),(e()(),ji(38,0,null,null,4,"div",[["class","div2 frame"]],null,null,null,null,null)),(e()(),ji(39,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Zi(-1,null,["Editor"])),(e()(),ji(41,0,null,null,1,"ngx-json-viewer",[["class","jsonView"]],null,null,null,up,sp)),ns(42,573440,null,0,np,[],{json:[0,"json"],expanded:[1,"expanded"]},null),(e()(),ji(43,0,null,null,5,"textarea",[["class","textfield"],["formControlName","editDoctorObj"],["style","width: 90%; height: 400px;"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==zr(e,44)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==zr(e,44).onTouched()&&r),"compositionstart"===t&&(r=!1!==zr(e,44)._compositionStart()&&r),"compositionend"===t&&(r=!1!==zr(e,44)._compositionEnd(n.target.value)&&r),r}),null,null)),ns(44,16384,null,0,_p,[cn,sn,[2,vp]],null,null),rs(1024,null,bp,(function(e){return[e]}),[_p]),ns(46,671744,null,0,hf,[[3,xp],[8,null],[8,null],[6,bp],[2,of]],{name:[0,"name"]},null),rs(2048,null,Sp,null,[hf]),ns(48,16384,null,0,kp,[[4,Sp]],null,null),(e()(),ji(49,0,null,null,1,"button",[["class","myButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.saveChangedDoc()&&r),r}),null,null)),(e()(),Zi(-1,null,[" save "])),(e()(),ji(51,0,null,null,19,"div",[["class","div6 frame"]],null,null,null,null,null)),(e()(),ji(52,0,null,null,18,"form",[["class","new"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==zr(e,54).onSubmit(n)&&r),"reset"===t&&(r=!1!==zr(e,54).onReset()&&r),r}),null,null)),ns(53,16384,null,0,sf,[],null,null),ns(54,540672,null,0,af,[[8,null],[8,null]],{form:[0,"form"]},null),rs(2048,null,xp,null,[af]),ns(56,16384,null,0,Tp,[[4,xp]],null,null),(e()(),ji(57,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Zi(-1,null,["Neuer Eintrag"])),(e()(),ji(59,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(60,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(61,0,null,null,5,"textarea",[["class","textfield"],["formControlName","newDoctorObj"],["style","width: 90%; height: 400px;"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==zr(e,62)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==zr(e,62).onTouched()&&r),"compositionstart"===t&&(r=!1!==zr(e,62)._compositionStart()&&r),"compositionend"===t&&(r=!1!==zr(e,62)._compositionEnd(n.target.value)&&r),r}),null,null)),ns(62,16384,null,0,_p,[cn,sn,[2,vp]],null,null),rs(1024,null,bp,(function(e){return[e]}),[_p]),ns(64,671744,null,0,hf,[[3,xp],[8,null],[8,null],[6,bp],[2,of]],{name:[0,"name"]},null),rs(2048,null,Sp,null,[hf]),ns(66,16384,null,0,kp,[[4,Sp]],null,null),(e()(),ji(67,0,null,null,1,"button",[["class","myButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.createNewDocSample()&&r),r}),null,null)),(e()(),Zi(-1,null,["createNewDocSample"])),(e()(),ji(69,0,null,null,1,"button",[["class","myButton"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.saveNewDoc()&&r),r}),null,null)),(e()(),Zi(-1,null,[" save "])),(e()(),ji(71,0,null,null,55,"div",[["class","div7 frame"]],null,null,null,null,null)),(e()(),ji(72,0,null,null,54,"div",[["class","tipps"]],null,null,null,null,null)),(e()(),ji(73,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Zi(-1,null,["Tipps"])),(e()(),Zi(-1,null,[" - Double Click on the map shows coordinates"])),(e()(),ji(76,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" - the upload automatically updates all values in DB with the same ID in the upload file "])),(e()(),ji(78,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" - to check your json use "])),(e()(),ji(80,0,null,null,1,"a",[["href","http://json.parser.online.fr/"]],null,null,null,null,null)),(e()(),Zi(-1,null,[" http://json.parser.online.fr/ "])),(e()(),ji(82,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" - clear the data in your browser with the developer tools in Chrome: F12 ->Application -> Clear Storage "])),(e()(),ji(84,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" - the osm data is fetched from the Bounding Box:49.946,8.174,50.060,8.332 "])),(e()(),ji(86,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" - to get all data type * in the name search\n"])),(e()(),ji(88,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(89,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(90,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(91,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Zi(-1,null,["Legend "])),(e()(),ji(93,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(94,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(95,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(96,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" marker without specific categorie "])),(e()(),ji(98,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(99,0,null,null,0,"img",[["src","https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png"]],null,null,null,null,null)),(e()(),ji(100,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(101,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(102,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(103,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" OSM "])),(e()(),ji(105,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(106,0,null,null,0,"img",[["src","https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png"]],null,null,null,null,null)),(e()(),ji(107,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(108,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(109,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),Zi(-1,null,["OSM missing something "])),(e()(),ji(111,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(112,0,null,null,0,"img",[["src","https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-yellow.png"]],null,null,null,null,null)),(e()(),ji(113,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(114,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(115,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" ChangeLater "])),(e()(),ji(117,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(118,0,null,null,0,"img",[["src","https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png"]],null,null,null,null,null)),(e()(),ji(119,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(120,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(121,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),Zi(-1,null,[" Complete "])),(e()(),ji(123,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(124,0,null,null,0,"img",[["src"," https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png"]],null,null,null,null,null)),(e()(),ji(125,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ji(126,0,null,null,0,"br",[],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,15,0,n.SelctedJson),e(t,31,0,n.uploader),e(t,35,0,n.myForm),e(t,42,0,n.elementSelectedForEdeting,n.singleEventTrue),e(t,46,0,"editDoctorObj"),e(t,54,0,n.myForm),e(t,64,0,"newDoctorObj")}),(function(e,t){var n=t.component;e(t,4,0,n.SelctedJson.length),e(t,33,0,zr(t,37).ngClassUntouched,zr(t,37).ngClassTouched,zr(t,37).ngClassPristine,zr(t,37).ngClassDirty,zr(t,37).ngClassValid,zr(t,37).ngClassInvalid,zr(t,37).ngClassPending),e(t,43,0,vr(1,"",n.elementSelectedForEdetingString,""),zr(t,48).ngClassUntouched,zr(t,48).ngClassTouched,zr(t,48).ngClassPristine,zr(t,48).ngClassDirty,zr(t,48).ngClassValid,zr(t,48).ngClassInvalid,zr(t,48).ngClassPending),e(t,52,0,zr(t,56).ngClassUntouched,zr(t,56).ngClassTouched,zr(t,56).ngClassPristine,zr(t,56).ngClassDirty,zr(t,56).ngClassValid,zr(t,56).ngClassInvalid,zr(t,56).ngClassPending),e(t,61,0,vr(1,"",n.newDocString,""),zr(t,66).ngClassUntouched,zr(t,66).ngClassTouched,zr(t,66).ngClassPristine,zr(t,66).ngClassDirty,zr(t,66).ngClassValid,zr(t,66).ngClassInvalid,zr(t,66).ngClassPending)}))}var Lx=Gn({encapsulation:0,styles:[[""]],data:{}});function Bx(e){return Yi(0,[(e()(),ji(0,0,null,null,1,"app-map",[],null,null,null,Ux,Rx)),ns(1,114688,null,0,mf,[Mx,pf],null,null)],(function(e,t){e(t,1,0)}),null)}function Hx(e){return Yi(0,[(e()(),ji(0,0,null,null,1,"app-root",[],null,null,null,Bx,Lx)),ns(1,49152,null,0,aa,[Mx],null,null)],null,null)}var zx=Pr("app-root",aa,Hx,{},{},[]);class $x{}var qx=sa(oa,[aa],(function(e){return function(e){const t={},n=[];let r=!1;for(let s=0;s<e.length;s++){const i=e[s];i.token===At&&!0===i.value&&(r=!0),1073741824&i.flags&&n.push(i.token),i.index=s,t[Wn(i.token)]=i}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([Er(512,en,tn,[[8,[tp,zx]],[3,en],Be]),Er(5120,Vs,Di,[[3,Vs]]),Er(4608,$a,qa,[Vs,[2,za]]),Er(5120,bs,Mi,[Xs]),Er(5120,As,Is,[]),Er(5120,Sn,Ni,[]),Er(5120,En,Pi,[]),Er(4608,ec,tc,[sl]),Er(6144,xt,null,[ec]),Er(4608,Gu,Zu,[]),Er(5120,xu,(function(e,t,n,r,s,i,o,a){return[new qu(e,t,n),new Xu(r),new Ju(s,i,o,a)]}),[sl,Xs,Ds,sl,sl,Gu,Rs,[2,Ku]]),Er(4608,Cu,Cu,[xu,Xs]),Er(135680,ku,ku,[sl]),Er(4608,Nu,Nu,[Cu,ku,As]),Er(6144,ln,null,[Nu]),Er(6144,Eu,null,[ku]),Er(4608,oi,oi,[Xs]),Er(5120,yh,Gd,[Td]),Er(4608,Md,Md,[]),Er(6144,Pd,null,[Md]),Er(135680,Rd,Rd,[Td,vi,Hs,Nt,Pd]),Er(4608,Dd,Dd,[]),Er(5120,Vd,Hd,[Td,il,jd]),Er(5120,Qd,Jd,[Kd]),Er(5120,Ms,(function(e){return[e]}),[Qd]),Er(4608,tx,tx,[]),Er(4608,ax,lx,[]),Er(5120,ux,Nx,[]),Er(4608,vx,vx,[tx,ax,ux]),Er(4608,_x,wx,[]),Er(5120,Ix,Px,[vx,_x]),Er(4608,Vp,Vp,[]),Er(4608,pf,pf,[]),Er(4608,nl,nl,[Vs]),Er(4608,Mx,Mx,[Ix,nl]),Er(1073742336,rl,rl,[]),Er(1024,Je,uc,[]),Er(1024,di,(function(){return[Ld()]}),[]),Er(512,Kd,Kd,[Nt]),Er(1024,Ts,(function(e,t){return[(n=e,vu("probe",wu),vu("coreTokens",Object.assign({},_u,(n||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>wu),Zd(t)];var n}),[[2,di],Kd]),Er(512,Os,Os,[[2,Ts]]),Er(131584,yi,yi,[Xs,Rs,Nt,Je,en,Os]),Er(1073742336,Ri,Ri,[yi]),Er(1073742336,cc,cc,[[3,cc]]),Er(1024,Fd,$d,[[3,Td]]),Er(512,Zc,Jc,[]),Er(512,Ad,Ad,[]),Er(256,jd,{},[]),Er(1024,ca,zd,[la,[2,ha],jd]),Er(512,da,da,[ca,la]),Er(512,Hs,Hs,[]),Er(512,vi,xi,[Hs,[2,_i]]),Er(1024,_d,(function(){return[[]]}),[]),Er(1024,Td,Wd,[yi,Zc,Ad,da,Nt,vi,Hs,_d,jd,[2,xd],[2,bd]]),Er(1073742336,Bd,Bd,[[2,Fd],[2,Td]]),Er(1073742336,$x,$x,[]),Er(1073742336,Dx,Dx,[]),Er(1073742336,rp,rp,[]),Er(1073742336,gp,gp,[]),Er(1073742336,df,df,[]),Er(1073742336,ff,ff,[]),Er(1073742336,gf,gf,[]),Er(1073742336,oa,oa,[]),Er(256,At,!0,[])])}));(function(){if(Ye)throw new Error("Cannot enable prod mode after platform setup.");Qe=!1})(),lc().bootstrapModuleFactory(qx).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);